<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LIC 20-Year Money Back Calculator (Plan 720)</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background-color: #f0f2f5; }
    .calculator-container { max-width: 650px; margin: 40px auto; padding: 30px; background: white; border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.08); }
    .result-box { background-color: #eef2f7; border-left: 4px solid #198754; }
    h3 { color: #0c2f5a; }
    .plan-details { font-size: 0.9rem; color: #6c757d; }
  </style>
</head>
<body>

<div class="calculator-container">
  <h3 class="text-center mb-4 fw-bold">LIC 20-Year Money Back (Plan 720)</h3>
  
  <div class="row g-3">
    <div class="col-md-6">
      <label for="age" class="form-label">Entry Age (13-50 Years)</label>
      <input type="number" class="form-control" id="age" value="30">
    </div>
    <div class="col-md-6">
      <label for="sum-assured" class="form-label">Sum Assured (₹)</label>
      <input type="number" class="form-control" id="sum-assured" value="500000" step="5000">
    </div>
    <div class="col-md-12">
        <div class="form-check mt-3">
            <input class="form-check-input" type="checkbox" id="addb-rider">
            <label class="form-check-label" for="addb-rider">
                Include Accidental Death & Disability Benefit Rider? (₹1 per 1000 SA)
            </label>
        </div>
    </div>
  </div>

  <div id="error-message" class="text-danger fw-bold mt-3"></div>
  <button type="button" class="btn btn-success w-100 mt-4 py-2" onclick="calculatePremium()">Calculate Premium</button>
  <div id="results" class="mt-4 d-none"><hr><div id="premium-results"></div></div>
</div>

<script>
    // Data setup from the JSON you provided
    const rawRates = [ { "Age": 13, "T20": 80.75 }, { "Age": 14, "T20": 80.85 }, { "Age": 15, "T20": 80.9 }, { "Age": 16, "T20": 80.95 }, { "Age": 17, "T20": 81.0 }, { "Age": 18, "T20": 81.0 }, { "Age": 19, "T20": 81.05 }, { "Age": 20, "T20": 81.1 }, { "Age": 21, "T20": 81.15 }, { "Age": 22, "T20": 81.2 }, { "Age": 23, "T20": 81.25 }, { "Age": 24, "T20": 81.3 }, { "Age": 25, "T20": 81.4 }, { "Age": 26, "T20": 81.5 }, { "Age": 27, "T20": 81.6 }, { "Age": 28, "T20": 81.75 }, { "Age": 29, "T20": 81.9 }, { "Age": 30, "T20": 82.05 }, { "Age": 31, "T20": 82.3 }, { "Age": 32, "T20": 82.55 }, { "Age": 33, "T20": 82.8 }, { "Age": 34, "T20": 83.15 }, { "Age": 35, "T20": 83.5 }, { "Age": 36, "T20": 83.9 }, { "Age": 37, "T20": 84.35 }, { "Age": 38, "T20": 84.8 }, { "Age": 39, "T20": 85.35 }, { "Age": 40, "T20": 85.95 }, { "Age": 41, "T20": 86.55 }, { "Age": 42, "T20": 87.25 }, { "Age": 43, "T20": 88.0 }, { "Age": 44, "T20": 88.85 }, { "Age": 45, "T20": 89.75 }, { "Age": 46, "T20": 90.7 }, { "Age": 47, "T20": 91.7 }, { "Age": 48, "T20": 92.85 }, { "Age": 49, "T20": 94.0 }, { "Age": 50, "T20": 95.3 } ];
    
    // Converting the array to an easier-to-use object for quick lookup
    const baseRates = rawRates.reduce((acc, item) => {
        acc[item.Age] = item.T20;
        return acc;
    }, {});

    const addbRatePer1000 = 1.0; 

    function calculatePremium() {
        document.getElementById("error-message").textContent = "";
        document.getElementById("results").classList.add("d-none");

        const age = parseInt(document.getElementById("age").value);
        const sumAssured = parseFloat(document.getElementById("sum-assured").value);
        const addbSelected = document.getElementById("addb-rider").checked;
        
        // Validation specific to Plan 720
        if (isNaN(age) || isNaN(sumAssured)) {
            document.getElementById("error-message").textContent = "Please fill all required fields.";
            return;
        }
        if (age < 13 || age > 50) {
            document.getElementById("error-message").textContent = "Entry Age must be between 13 and 50 years.";
            return;
        }
        if (sumAssured < 200000) {
            document.getElementById("error-message").textContent = "Minimum Sum Assured is ₹2,00,000.";
            return;
        }

        // --- THE STANDARD LIC CALCULATION FLOW ---
        const tabularRate = baseRates[age];
        if (!tabularRate) {
            document.getElementById("error-message").textContent = "Premium rate for the selected Age is not available.";
            return;
        }

        const annualTabularPremium = (tabularRate * sumAssured) / 1000;

        // Sum Assured Rebate - using the rates you specified
        let saRebateRate = 0;
        if (sumAssured >= 2500000)      { saRebateRate = 2.80; } 
        else if (sumAssured >= 1000000) { saRebateRate = 2.80; } 
        else if (sumAssured >= 500000)  { saRebateRate = 2.80; }
        const annualSaRebateAmount = (saRebateRate * sumAssured) / 1000;
        
        const annualPremiumAfterSaRebate = annualTabularPremium - annualSaRebateAmount;
        let annualAddbPremium = addbSelected ? (addbRatePer1000 * sumAssured) / 1000 : 0;
if (sumAssured < 500000) annualAddbPremium = addbSelected ? (1.2 * sumAssured) / 1000 : 0;
        // OFFICIAL Modal Factors which are universal for all plans
        const modes = {
            yearly:      { name: "Yearly",        factor: 1.0,    modeRebatePercent: 0.02 },
            "half-yearly": { name: "Half-Yearly",   factor: 0.4949,  modeRebatePercent: 0 },
            quarterly:   { name: "Quarterly",     factor: 0.2500,  modeRebatePercent: 0 },
            monthly:     { name: "Monthly (NACH)",factor: 0.08333, modeRebatePercent: 0 }
        };

        let outputHTML = `<p class="plan-details text-center"><b>Policy Term:</b> 20 Years | <b>Premium Paying Term:</b> 15 Years</p>`;

        for (const modeKey in modes) {
            const mode = modes[modeKey];
            let premiumBeforeTax = 0;

            if (mode.modeRebatePercent > 0) {
                // Logic for YEARLY mode with its unique rebate
                const modeRebateAmount = annualTabularPremium * mode.modeRebatePercent;
                premiumBeforeTax = annualTabularPremium - annualSaRebateAmount - modeRebateAmount + annualAddbPremium;
            } else {
                // Standard logic for HLY, QLY, MLY which have MODAL LOADING
                const loadedBasePremium = annualPremiumAfterSaRebate * mode.factor;
                const loadedRiderPremium = annualAddbPremium * mode.factor;
                premiumBeforeTax = loadedBasePremium + loadedRiderPremium;
            }

            const gst1stYear = premiumBeforeTax * 0.045;
            const finalPremium1stYear = premiumBeforeTax + gst1stYear;
            const gst2ndYear = premiumBeforeTax * 0.0225;
            const finalPremium2ndYear = premiumBeforeTax + gst2ndYear;
            
            const formatInr = (num) => num.toLocaleString('en-IN', {minimumFractionDigits: 0, maximumFractionDigits: 0});
            outputHTML += `
              <div class="result-box mb-3 p-3">
                <strong class="text-success">${mode.name.toUpperCase()} PREMIUM</strong><hr class="my-2">
                <div><b>1st Year:</b> <span class="fw-bold fs-5">₹${formatInr(finalPremium1stYear)}</span><small class="d-block text-muted">(Base: ₹${formatInr(premiumBeforeTax)} + GST: ₹${formatInr(gst1stYear)})</small></div>
                <div class="mt-2"><b>2nd Year Onwards:</b> <span class="fw-bold fs-5">₹${formatInr(finalPremium2ndYear)}</span><small class="d-block text-muted">(Base: ₹${formatInr(premiumBeforeTax)} + GST: ₹${formatInr(gst2ndYear)})</small></div>
              </div>
            `;
        }
        document.getElementById("premium-results").innerHTML = outputHTML;
        document.getElementById("results").classList.remove("d-none");
    }
</script>

</body>
</html>