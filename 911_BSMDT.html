<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LIC Nav Jeevan Shree (Plan 911) Premium Calculator</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f0f8ff;
        }
        .container {
            max-width: 800px;
            margin-top: 30px;
        }
        .card {
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .card-header {
            background-color: #004b8d;
            color: white;
            font-weight: bold;
        }
        #results-card {
            background-color: #e6f7ff;
        }
        .result-label {
            font-weight: 500;
        }
        .result-value {
            font-weight: bold;
            color: #d9534f;
        }
        .footer-note {
            font-size: 0.8rem;
            color: #6c757d;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="card mb-4">
            <div class="card-header text-center">
                <h4>LIC Nav Jeevan Shree (Plan 911) - Premium Calculator</h4>
            </div>
            <div class="card-body">
                <form id="premiumForm">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="age" class="form-label">Age (Nearer Birthday)</label>
                            <input type="number" class="form-control" id="age" placeholder="e.g., 35" required>
                        </div>
                        <div class="col-md-6">
                            <label for="term" class="form-label">Policy Term (5-20 years)</label>
                            <input type="number" class="form-control" id="term" placeholder="e.g., 20" required>
                        </div>
                        <div class="col-md-12">
                            <label for="sumAssured" class="form-label">Basic Sum Assured</label>
                            <input type="number" class="form-control" id="sumAssured" placeholder="e.g., 1000000" step="10000" required>
                        </div>
                        <div class="col-md-6">
                            <label for="option" class="form-label">Benefit Option</label>
                            <!-- CORRECTED LABELS HERE -->
                            <select id="option" class="form-select" required>
                                <option value="1" selected>Option I: Lower Death Benefit (e.g. 7x Premium)</option>
                                <option value="2">Option II: Higher Death Benefit (e.g. 10x Premium)</option>
                            </select>
                        </div>
                         <div class="col-md-6 d-flex align-items-end">
                            <div class="form-check form-switch mb-2">
                                <input class="form-check-input" type="checkbox" id="dabRider">
                                <label class="form-check-label" for="dabRider">Include DAB Rider?</label>
                            </div>
                        </div>
                    </div>
                    <div class="text-center mt-4">
                        <button type="submit" class="btn btn-primary btn-lg">Calculate Premium</button>
                    </div>
                </form>
            </div>
        </div>

        <div id="error-container" class="alert alert-danger" style="display: none;"></div>

        <div id="results-card" class="card" style="display: none;">
             <div class="card-header text-center">
                <h5>Premium Calculation Summary</h5>
            </div>
            <div class="card-body">
                <div class="row g-2">
                    <div class="col-6 col-md-4 result-label">Basic Premium:</div>
                    <div class="col-6 col-md-8" id="result-basic"></div>

                    <div class="col-6 col-md-4 result-label">Rebate (-):</div>
                    <div class="col-6 col-md-8" id="result-rebate"></div>
                    
                    <div class="col-12"><hr class="my-1"></div>

                    <div class="col-6 col-md-4 result-label">Net Premium:</div>
                    <div class="col-6 col-md-8" id="result-net"></div>
                    
                    <div class="col-6 col-md-4 result-label">DAB Rider Premium:</div>
                    <div class="col-6 col-md-8" id="result-dab"></div>

                    <div class="col-12"><hr class="my-1"></div>
                    
                    <div class="col-6 col-md-4 result-label">Total Premium (w/o GST):</div>
                    <div class="col-6 col-md-8" id="result-total-no-gst"></div>
                    
                    <div class="col-6 col-md-4 result-label">GST @ 4.5%:</div>
                    <div class="col-6 col-md-8" id="result-gst"></div>

                    <div class="col-12"><hr class="my-2" style="border-top: 1px dashed #000;"></div>

                    <div class="col-6 col-md-4 result-label"><h4>Final Single Premium:</h4></div>
                    <div class="col-6 col-md-8"><h4 class="result-value" id="result-final"></h4></div>
                </div>
            </div>
             <div class="card-footer footer-note text-center">
                Disclaimer: This is an illustrative calculator. The final premium may vary. Please contact an authorized LIC agent for an exact quote.
            </div>
        </div>
    </div>

    <script>
        // --- DATA (Provided JSON files) ---
        const option1Data = [{"Age":0,"T10":0,"T11":0,"T12":0,"T13":0,"T14":0,"T15":0,"T16":0,"T17":0,"T18":0,"T19":891.55,"T20":869.8,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":1,"T10":0,"T11":0,"T12":0,"T13":0,"T14":0,"T15":0,"T16":0,"T17":0,"T18":913.25,"T19":891.55,"T20":869.8,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":2,"T10":0,"T11":0,"T12":0,"T13":0,"T14":0,"T15":0,"T16":0,"T17":934.6,"T18":913.25,"T19":891.55,"T20":869.8,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":3,"T10":0,"T11":0,"T12":0,"T13":0,"T14":0,"T15":0,"T16":955.8,"T17":934.7,"T18":913.25,"T19":891.6,"T20":869.85,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":4,"T10":0,"T11":0,"T12":0,"T13":0,"T14":0,"T15":976.5,"T16":955.95,"T17":934.9,"T18":913.45,"T19":891.8,"T20":870.05,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":5,"T10":0,"T11":0,"T12":0,"T13":0,"T14":998.25,"T15":976.7,"T16":956.15,"T17":935.1,"T18":913.7,"T19":892.05,"T20":870.3,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":6,"T10":0,"T11":0,"T12":0,"T13":1019.2,"T14":998.45,"T15":976.95,"T16":956.4,"T17":935.35,"T18":913.95,"T19":892.3,"T20":870.55,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":7,"T10":0,"T11":0,"T12":1039.25,"T13":1019.5,"T14":998.8,"T15":977.25,"T16":956.75,"T17":935.7,"T18":914.25,"T19":892.65,"T20":870.9,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":8,"T10":0,"T11":1058.05,"T12":1039.6,"T13":1019.85,"T14":999.1,"T15":977.6,"T16":957.05,"T17":936,"T18":914.6,"T19":892.95,"T20":871.25,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":9,"T10":1075.3,"T11":1058.35,"T12":1039.85,"T13":1020.1,"T14":999.4,"T15":977.85,"T16":957.35,"T17":936.3,"T18":914.9,"T19":893.25,"T20":871.55,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":10,"T10":1075.55,"T11":1058.6,"T12":1040.1,"T13":1020.4,"T14":999.65,"T15":978.15,"T16":957.6,"T17":936.55,"T18":915.15,"T19":893.55,"T20":871.8,"T5":0,"T6":0,"T7":0,"T8":0,"T9":1090.75},{"Age":11,"T10":1075.8,"T11":1058.85,"T12":1040.35,"T13":1020.65,"T14":999.9,"T15":978.4,"T16":957.85,"T17":936.85,"T18":915.45,"T19":893.8,"T20":872.1,"T5":0,"T6":0,"T7":0,"T8":1104.1,"T9":1091},{"Age":12,"T10":1076.05,"T11":1059.1,"T12":1040.6,"T13":1020.9,"T14":1000.15,"T15":978.65,"T16":958.1,"T17":937.05,"T18":915.65,"T19":894.05,"T20":872.3,"T5":0,"T6":0,"T7":1114.9,"T8":1104.3,"T9":1091.25},{"Age":13,"T10":1076.25,"T11":1059.3,"T12":1040.8,"T13":1021.1,"T14":1000.35,"T15":978.85,"T16":958.3,"T17":937.25,"T18":915.85,"T19":894.25,"T20":872.55,"T5":0,"T6":1122.8,"T7":1115.1,"T8":1104.5,"T9":1091.45},{"Age":14,"T10":1076.45,"T11":1059.45,"T12":1041,"T13":1021.25,"T14":1000.55,"T15":979,"T16":958.5,"T17":937.45,"T18":916.05,"T19":894.45,"T20":872.7,"T5":1127.3,"T6":1122.95,"T7":1115.25,"T8":1104.7,"T9":1091.6},{"Age":15,"T10":1076.55,"T11":1059.6,"T12":1041.1,"T13":1021.4,"T14":1000.65,"T15":979.15,"T16":958.6,"T17":937.6,"T18":916.2,"T19":894.6,"T20":872.85,"T5":1127.45,"T6":1123.1,"T7":1115.4,"T8":1104.8,"T9":1091.75},{"Age":16,"T10":1076.65,"T11":1059.7,"T12":1041.2,"T13":1021.5,"T14":1000.75,"T15":979.25,"T16":958.75,"T17":937.7,"T18":916.3,"T19":894.7,"T20":873,"T5":1127.55,"T6":1123.2,"T7":1115.5,"T8":1104.95,"T9":1091.85},{"Age":17,"T10":1076.75,"T11":1059.75,"T12":1041.3,"T13":1021.55,"T14":1000.85,"T15":979.35,"T16":958.8,"T17":937.8,"T18":916.4,"T19":894.8,"T20":873.1,"T5":1127.6,"T6":1123.25,"T7":1115.6,"T8":1105,"T9":1091.95},{"Age":18,"T10":1076.8,"T11":1059.8,"T12":1041.35,"T13":1021.6,"T14":1000.9,"T15":979.4,"T16":958.9,"T17":937.85,"T18":916.45,"T19":894.9,"T20":873.15,"T5":1127.65,"T6":1123.3,"T7":1115.65,"T8":1105.05,"T9":1091.95},{"Age":19,"T10":1076.8,"T11":1059.85,"T12":1041.35,"T13":1021.65,"T14":1000.95,"T15":979.45,"T16":958.95,"T17":937.9,"T18":916.55,"T19":894.95,"T20":873.25,"T5":1127.7,"T6":1123.35,"T7":1115.65,"T8":1105.05,"T9":1092},{"Age":20,"T10":1076.85,"T11":1059.85,"T12":1041.4,"T13":1021.7,"T14":1001,"T15":979.5,"T16":959,"T17":938,"T18":916.6,"T19":895.05,"T20":873.35,"T5":1127.7,"T6":1123.35,"T7":1115.65,"T8":1105.1,"T9":1092},{"Age":21,"T10":1076.85,"T11":1059.9,"T12":1041.45,"T13":1021.75,"T14":1001.05,"T15":979.55,"T16":959.05,"T17":938.05,"T18":916.7,"T19":895.15,"T20":873.45,"T5":1127.7,"T6":1123.35,"T7":1115.7,"T8":1105.1,"T9":1092.05},{"Age":22,"T10":1076.85,"T11":1059.9,"T12":1041.45,"T13":1021.75,"T14":1001.1,"T15":979.6,"T16":959.15,"T17":938.15,"T18":916.8,"T19":895.25,"T20":873.6,"T5":1127.7,"T6":1123.35,"T7":1115.7,"T8":1105.1,"T9":1092.05},{"Age":23,"T10":1076.9,"T11":1059.95,"T12":1041.5,"T13":1021.85,"T14":1001.15,"T15":979.7,"T16":959.25,"T17":938.25,"T18":916.95,"T19":895.4,"T20":873.75,"T5":1127.7,"T6":1123.35,"T7":1115.7,"T8":1105.1,"T9":1092.05},{"Age":24,"T10":1076.95,"T11":1060,"T12":1041.6,"T13":1021.9,"T14":1001.25,"T15":979.8,"T16":959.35,"T17":938.4,"T18":917.1,"T19":895.55,"T20":873.95,"T5":1127.7,"T6":1123.35,"T7":1115.7,"T8":1105.15,"T9":1092.1},{"Age":25,"T10":1077,"T11":1060.1,"T12":1041.65,"T13":1022,"T14":1001.35,"T15":979.95,"T16":959.5,"T17":938.55,"T18":917.25,"T19":895.8,"T20":874.2,"T5":1127.7,"T6":1123.4,"T7":1115.7,"T8":1105.15,"T9":1092.15},{"Age":26,"T10":1077.1,"T11":1060.2,"T12":1041.8,"T13":1022.15,"T14":1001.5,"T15":980.1,"T16":959.7,"T17":938.75,"T18":917.5,"T19":896.05,"T20":874.45,"T5":1127.7,"T6":1123.4,"T7":1115.75,"T8":1105.2,"T9":1092.2},{"Age":27,"T10":1077.2,"T11":1060.3,"T12":1041.95,"T13":1022.3,"T14":1001.7,"T15":980.3,"T16":959.9,"T17":939,"T18":917.8,"T19":896.35,"T20":874.8,"T5":1127.75,"T6":1123.45,"T7":1115.8,"T8":1105.3,"T9":1092.3},{"Age":28,"T10":1077.3,"T11":1060.45,"T12":1042.1,"T13":1022.5,"T14":1001.95,"T15":980.55,"T16":960.2,"T17":939.3,"T18":918.1,"T19":896.7,"T20":875.2,"T5":1127.8,"T6":1123.5,"T7":1115.9,"T8":1105.4,"T9":1092.4},{"Age":29,"T10":1077.5,"T11":1060.65,"T12":1042.3,"T13":1022.75,"T14":1002.2,"T15":980.85,"T16":960.5,"T17":939.65,"T18":918.5,"T19":897.1,"T20":875.65,"T5":1127.85,"T6":1123.6,"T7":1116,"T8":1105.5,"T9":1092.55},{"Age":30,"T10":1077.7,"T11":1060.9,"T12":1042.55,"T13":1023.05,"T14":1002.5,"T15":981.2,"T16":960.9,"T17":940.1,"T18":918.95,"T19":897.6,"T20":876.2,"T5":1127.95,"T6":1123.7,"T7":1116.1,"T8":1105.65,"T9":1092.7},{"Age":31,"T10":1077.9,"T11":1061.15,"T12":1042.85,"T13":1023.35,"T14":1002.85,"T15":981.6,"T16":961.3,"T17":940.55,"T18":919.45,"T19":898.2,"T20":876.8,"T5":1128,"T6":1123.8,"T7":1116.25,"T8":1105.85,"T9":1092.95},{"Age":32,"T10":1078.2,"T11":1061.45,"T12":1043.2,"T13":1023.75,"T14":1003.3,"T15":982.05,"T16":961.85,"T17":941.1,"T18":920.05,"T19":898.85,"T20":877.55,"T5":1128.15,"T6":1123.95,"T7":1116.45,"T8":1106.05,"T9":1093.15},{"Age":33,"T10":1078.5,"T11":1061.8,"T12":1043.6,"T13":1024.15,"T14":1003.75,"T15":982.6,"T16":962.4,"T17":941.75,"T18":920.75,"T19":899.6,"T20":878.35,"T5":1128.25,"T6":1124.1,"T7":1116.65,"T8":1106.25,"T9":1093.45},{"Age":34,"T10":1078.85,"T11":1062.2,"T12":1044.05,"T13":1024.65,"T14":1004.3,"T15":983.2,"T16":963.1,"T17":942.5,"T18":921.55,"T19":900.5,"T20":879.3,"T5":1128.4,"T6":1124.3,"T7":1116.85,"T8":1106.55,"T9":1093.75},{"Age":35,"T10":1079.25,"T11":1062.65,"T12":1044.55,"T13":1025.25,"T14":1004.95,"T15":983.9,"T16":963.85,"T17":943.3,"T18":922.5,"T19":901.45,"T20":880.4,"T5":1128.6,"T6":1124.55,"T7":1117.15,"T8":1106.85,"T9":1094.1},{"Age":36,"T10":1079.7,"T11":1063.2,"T12":1045.15,"T13":1025.9,"T14":1005.65,"T15":984.7,"T16":964.75,"T17":944.3,"T18":923.55,"T19":902.6,"T20":881.65,"T5":1128.8,"T6":1124.8,"T7":1117.45,"T8":1107.2,"T9":1094.5},{"Age":37,"T10":1080.25,"T11":1063.8,"T12":1045.8,"T13":1026.65,"T14":1006.5,"T15":985.6,"T16":965.75,"T17":945.4,"T18":924.75,"T19":903.9,"T20":883.05,"T5":1129.05,"T6":1125.05,"T7":1117.75,"T8":1107.6,"T9":1094.95},{"Age":38,"T10":1080.85,"T11":1064.45,"T12":1046.6,"T13":1027.5,"T14":1007.45,"T15":986.7,"T16":966.9,"T17":946.65,"T18":926.1,"T19":905.35,"T20":884.6,"T5":1129.3,"T6":1125.4,"T7":1118.15,"T8":1108.05,"T9":1095.5},{"Age":39,"T10":1081.55,"T11":1065.25,"T12":1047.5,"T13":1028.5,"T14":1008.55,"T15":987.9,"T16":968.2,"T17":948.05,"T18":927.6,"T19":907,"T20":886.35,"T5":1129.6,"T6":1125.75,"T7":1118.6,"T8":1108.6,"T9":1096.1},{"Age":40,"T10":1082.35,"T11":1066.2,"T12":1048.5,"T13":1029.65,"T14":1009.8,"T15":989.25,"T16":969.65,"T17":949.65,"T18":929.3,"T19":908.8,"T20":888.3,"T5":1129.9,"T6":1126.15,"T7":1119.1,"T8":1109.2,"T9":1096.8},{"Age":41,"T10":1083.3,"T11":1067.25,"T12":1049.7,"T13":1030.95,"T14":1011.25,"T15":990.8,"T16":971.35,"T17":946.4,"T18":931.2,"T19":910.85,"T20":890.45,"T5":1130.3,"T6":1126.65,"T7":1119.7,"T8":1109.9,"T9":1097.6},{"Age":42,"T10":1084.35,"T11":1068.45,"T12":1051.05,"T13":1032.4,"T14":1012.85,"T15":992.5,"T16":973.2,"T17":953.4,"T18":933.3,"T19":913.1,"T20":892.85,"T5":1130.75,"T6":1127.2,"T7":1120.35,"T8":1110.7,"T9":1098.55},{"Age":43,"T10":1085.6,"T11":1069.8,"T12":1052.55,"T13":1034.05,"T14":1014.65,"T15":994.45,"T16":975.25,"T17":955.6,"T18":935.65,"T19":915.55,"T20":895.45,"T5":1131.25,"T6":1127.85,"T7":1121.15,"T8":1111.6,"T9":1099.65},{"Age":44,"T10":1087,"T11":1071.35,"T12":1054.25,"T13":1035.9,"T14":1016.6,"T15":996.55,"T16":977.5,"T17":958,"T18":938.2,"T19":918.25,"T20":898.35,"T5":1131.85,"T6":1128.6,"T7":1122.05,"T8":1112.7,"T9":1100.85},{"Age":45,"T10":1088.55,"T11":1073.1,"T12":1056.15,"T13":1037.95,"T14":1018.8,"T15":998.9,"T16":980,"T17":960.65,"T18":941,"T19":921.2,"T20":901.45,"T5":1132.55,"T6":1129.45,"T7":1123.1,"T8":1113.9,"T9":1102.25},{"Age":46,"T10":1090.3,"T11":1075,"T12":1058.25,"T13":1040.2,"T14":1021.2,"T15":1001.45,"T16":982.7,"T17":963.5,"T18":944,"T19":924.45,"T20":904.85,"T5":1133.35,"T6":1130.45,"T7":1124.3,"T8":1115.3,"T9":1103.85},{"Age":47,"T10":1092.25,"T11":1077.15,"T12":1060.5,"T13":1042.65,"T14":1023.85,"T15":1004.25,"T16":985.65,"T17":966.6,"T18":947.3,"T19":927.9,"T20":908.55,"T5":1134.25,"T6":1131.6,"T7":1125.65,"T8":1116.85,"T9":1105.6},{"Age":48,"T10":1094.35,"T11":1079.45,"T12":1063,"T13":1045.3,"T14":1026.65,"T15":1007.25,"T16":988.8,"T17":969.95,"T18":950.85,"T19":931.65,"T20":912.5,"T5":1135.3,"T6":1132.85,"T7":1127.1,"T8":1118.55,"T9":1107.5},{"Age":49,"T10":1096.65,"T11":1081.9,"T12":1065.65,"T13":1048.15,"T14":1029.65,"T15":1010.45,"T16":992.2,"T17":973.6,"T18":954.7,"T19":935.7,"T20":916.8,"T5":1136.45,"T6":1134.25,"T7":1128.75,"T8":1120.4,"T9":1109.55},{"Age":50,"T10":1099.05,"T11":1084.55,"T12":1068.45,"T13":1051.2,"T14":1032.9,"T15":1013.9,"T16":995.85,"T17":977.45,"T18":958.8,"T19":940.1,"T20":921.45,"T5":1137.7,"T6":1135.75,"T7":1130.5,"T8":1122.4,"T9":1111.8},{"Age":51,"T10":1101.65,"T11":1087.3,"T12":1071.45,"T13":1054.4,"T14":1036.35,"T15":1017.55,"T16":999.8,"T17":981.6,"T18":963.25,"T19":944.8,"T20":926.5,"T5":1139.05,"T6":1137.4,"T7":1132.4,"T8":1124.55,"T9":1114.15},{"Age":52,"T10":1104.35,"T11":1090.25,"T12":1074.65,"T13":1057.8,"T14":1040,"T15":1021.45,"T16":1003.95,"T17":986.05,"T18":968,"T19":949.9,"T20":931.9,"T5":1140.5,"T6":1139.1,"T7":1134.4,"T8":1126.75,"T9":1116.6},{"Age":53,"T10":1107.2,"T11":1093.35,"T12":1078,"T13":1061.4,"T14":1043.9,"T15":1025.65,"T16":1008.45,"T17":990.85,"T18":973.15,"T19":955.4,"T20":937.8,"T5":1142,"T6":1140.9,"T7":1136.45,"T8":1129.1,"T9":1119.2},{"Age":54,"T10":1110.15,"T11":1096.6,"T12":1081.55,"T13":1065.25,"T14":1048.05,"T15":1030.15,"T16":1013.25,"T17":996.05,"T18":978.7,"T19":961.35,"T20":944.2,"T5":1143.55,"T6":1142.75,"T7":1138.6,"T8":1131.5,"T9":1121.9},{"Age":55,"T10":1113.3,"T11":1100.05,"T12":1085.3,"T13":1069.4,"T14":1052.5,"T15":1035,"T16":1018.5,"T17":1001.7,"T18":984.75,"T19":967.9,"T20":951.25,"T5":1145.2,"T6":1144.7,"T7":1140.85,"T8":1134.05,"T9":1124.75},{"Age":56,"T10":1116.65,"T11":1103.75,"T12":1089.4,"T13":1073.85,"T14":1057.35,"T15":1040.25,"T16":1024.2,"T17":1007.85,"T18":991.4,"T19":975.1,"T20":0,"T5":1146.85,"T6":1146.7,"T7":1143.15,"T8":1136.7,"T9":1127.75},{"Age":57,"T10":1120.2,"T11":1107.75,"T12":1093.8,"T13":1078.65,"T14":1062.65,"T15":1046,"T16":1030.45,"T17":1014.65,"T18":998.8,"T19":0,"T20":0,"T5":1148.6,"T6":1148.75,"T7":1145.6,"T8":1139.5,"T9":1130.9},{"Age":58,"T10":1124.05,"T11":1112.05,"T12":1098.6,"T13":1083.95,"T14":1068.5,"T15":1052.4,"T16":1037.4,"T17":1022.2,"T18":0,"T19":0,"T20":0,"T5":1150.4,"T6":1150.95,"T7":1148.2,"T8":1142.5,"T9":1134.35},{"Age":59,"T10":1128.3,"T11":1116.85,"T12":1103.9,"T13":1089.85,"T14":1075,"T15":1059.5,"T16":1045.2,"T17":0,"T18":0,"T19":0,"T20":0,"T5":1152.3,"T6":1153.3,"T7":1150.95,"T8":1145.75,"T9":1138.1},{"Age":60,"T10":1133.05,"T11":1122.15,"T12":1109.85,"T13":1096.45,"T14":1082.25,"T15":1067.5,"T16":0,"T17":0,"T18":0,"T19":0,"T20":0,"T5":1154.35,"T6":1155.85,"T7":1154,"T8":1149.35,"T9":1142.2}];
        const option2Data = [{"Age":0,"T10":0,"T11":0,"T12":0,"T13":0,"T14":0,"T15":0,"T16":0,"T17":0,"T18":950.25,"T19":930.4,"T20":910.25,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":1,"T10":0,"T11":0,"T12":0,"T13":0,"T14":0,"T15":0,"T16":0,"T17":0,"T18":950.25,"T19":930.4,"T20":910.25,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":2,"T10":0,"T11":0,"T12":0,"T13":0,"T14":0,"T15":0,"T16":0,"T17":966.75,"T18":950.25,"T19":930.4,"T20":910.25,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":3,"T10":0,"T11":0,"T12":0,"T13":0,"T14":0,"T15":0,"T16":988.3,"T17":969.8,"T18":950.7,"T19":931.05,"T20":911.05,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":4,"T10":0,"T11":0,"T12":0,"T13":0,"T14":0,"T15":1010.2,"T16":992.55,"T17":974.1,"T18":954.95,"T19":935.25,"T20":915.15,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":5,"T10":0,"T11":0,"T12":0,"T13":0,"T14":1033.55,"T15":1015.2,"T16":997.6,"T17":979.1,"T18":959.9,"T19":940.15,"T20":919.95,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":6,"T10":0,"T11":0,"T12":0,"T13":1056.2,"T14":1039.05,"T15":1020.75,"T16":1003.1,"T17":984.55,"T18":965.3,"T19":945.45,"T20":925.15,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":7,"T10":0,"T11":0,"T12":1079.7,"T13":1063.95,"T14":1046.85,"T15":1028.5,"T16":1010.75,"T17":992.1,"T18":972.7,"T19":952.75,"T20":932.35,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":8,"T10":0,"T11":1102.2,"T12":1088.2,"T13":1072.5,"T14":1055.3,"T15":1036.85,"T16":1019.05,"T17":1000.3,"T18":980.75,"T19":960.65,"T20":940.1,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":9,"T10":1121.2,"T11":1109.2,"T12":1095.25,"T13":1079.55,"T14":1062.3,"T15":1043.8,"T16":1025.85,"T17":1007,"T18":987.4,"T19":967.2,"T20":946.55,"T5":0,"T6":0,"T7":0,"T8":0,"T9":0},{"Age":10,"T10":1128.25,"T11":1116.4,"T12":1102.45,"T13":1086.7,"T14":1069.35,"T15":1050.75,"T16":1032.75,"T17":1013.8,"T18":994.05,"T19":973.8,"T20":953.1,"T5":0,"T6":0,"T7":0,"T8":0,"T9":1137.9},{"Age":11,"T10":1135.25,"T11":1123.35,"T12":1109.4,"T13":1093.6,"T14":1076.2,"T15":1057.5,"T16":1039.4,"T17":1020.35,"T18":1000.6,"T19":980.25,"T20":959.55,"T5":0,"T6":0,"T7":0,"T8":1151.65,"T9":1144.75},{"Age":12,"T10":1141.75,"T11":1129.9,"T12":1115.85,"T13":1100,"T14":1082.5,"T15":1063.7,"T16":1045.55,"T17":1026.5,"T18":1006.7,"T19":986.35,"T20":965.6,"T5":0,"T6":0,"T7":1161.7,"T8":1157.95,"T9":1151.2},{"Age":13,"T10":1147.55,"T11":1135.65,"T12":1121.6,"T13":1105.65,"T14":1088.1,"T15":1069.25,"T16":1051.1,"T17":1032,"T18":1012.2,"T19":991.85,"T20":971.15,"T5":0,"T6":1167.35,"T7":1167.2,"T8":1163.65,"T9":1157},{"Age":14,"T10":1152.45,"T11":1140.5,"T12":1126.4,"T13":1110.4,"T14":1092.85,"T15":1074,"T16":1055.8,"T17":1036.75,"T18":1017,"T19":996.7,"T20":976.1,"T5":1168.05,"T6":1171.95,"T7":1171.95,"T8":1168.5,"T9":1161.9},{"Age":15,"T10":1156.35,"T11":1144.4,"T12":1130.25,"T13":1114.25,"T14":1096.7,"T15":1077.85,"T16":1059.75,"T17":1040.75,"T18":1021.05,"T19":1000.9,"T20":980.4,"T5":1171.6,"T6":1175.7,"T7":1175.85,"T8":1172.45,"T9":1165.8},{"Age":16,"T10":1159.3,"T11":1147.3,"T12":1133.15,"T13":1117.2,"T14":1099.7,"T15":1080.95,"T16":1062.9,"T17":1044.05,"T18":1024.5,"T19":1004.45,"T20":984.1,"T5":1174.4,"T6":1178.6,"T7":1178.85,"T8":1175.4,"T9":1168.75},{"Age":17,"T10":1161.35,"T11":1149.4,"T12":1135.3,"T13":1119.4,"T14":1102,"T15":1083.35,"T16":1065.45,"T17":1046.75,"T18":1027.4,"T19":1007.6,"T20":987.45,"T5":1176.45,"T6":1180.7,"T7":1180.95,"T8":1177.5,"T9":1170.85},{"Age":18,"T10":1162.75,"T11":1150.85,"T12":1136.8,"T13":1121.05,"T14":1103.75,"T15":1085.3,"T16":1067.6,"T17":1049.1,"T18":1029.95,"T19":1010.4,"T20":990.5,"T5":1177.8,"T6":1182.1,"T7":1182.3,"T8":1178.85,"T9":1172.2},{"Age":19,"T10":1163.6,"T11":1151.8,"T12":1137.9,"T13":1122.3,"T14":1105.2,"T15":1086.95,"T16":1069.5,"T17":1051.25,"T18":1032.4,"T19":1013.1,"T20":993.5,"T5":1178.6,"T6":1182.9,"T7":1183.1,"T8":1179.65,"T9":1173},{"Age":20,"T10":1164.15,"T11":1152.5,"T12":1138.8,"T13":1123.4,"T14":1106.55,"T15":1088.55,"T16":1071.4,"T17":1053.5,"T18":1034.95,"T19":1015.95,"T20":996.7,"T5":1179,"T6":1183.25,"T7":1183.45,"T8":1180.05,"T9":1173.45},{"Age":21,"T10":1164.65,"T11":1153.2,"T12":1139.75,"T13":1124.6,"T14":1108.05,"T15":1090.35,"T16":1073.55,"T17":1055.95,"T18":1037.8,"T19":1019.2,"T20":1000.35,"T5":1179.1,"T6":1183.35,"T7":1183.6,"T8":1180.25,"T9":1173.8},{"Age":22,"T10":1165.25,"T11":1154.05,"T12":1140.85,"T13":1126.05,"T14":1109.85,"T15":1092.55,"T16":1076.1,"T17":1058.9,"T18":1041.15,"T19":1023,"T20":1004.6,"T5":1179.1,"T6":1183.35,"T7":1183.65,"T8":1180.45,"T9":1174.15},{"Age":23,"T10":1166.1,"T11":1155.2,"T12":1142.4,"T13":1127.95,"T14":1112.15,"T15":1095.25,"T16":1079.25,"T17":1062.55,"T18":1045.3,"T19":1027.6,"T20":1009.7,"T5":1179.1,"T6":1183.4,"T7":1183.85,"T8":1180.8,"T9":1174.75},{"Age":24,"T10":1167.4,"T11":1156.85,"T12":1144.45,"T13":1130.45,"T14":1115.1,"T15":1098.7,"T16":1083.25,"T17":1067.05,"T18":1050.3,"T19":1033.2,"T20":1015.9,"T5":1179.1,"T6":1183.6,"T7":1184.2,"T8":1181.45,"T9":1175.7},{"Age":25,"T10":1169.2,"T11":1159.15,"T12":1147.2,"T13":1133.7,"T14":1118.9,"T15":1103.05,"T16":1088.15,"T17":1072.55,"T18":1056.45,"T19":1040,"T20":1023.4,"T5":1179.3,"T6":1184.05,"T7":1184.95,"T8":1182.5,"T9":1177.1},{"Age":26,"T10":1171.7,"T11":1162.15,"T12":1150.8,"T13":1137.85,"T14":1123.65,"T15":1108.45,"T16":1094.2,"T17":1079.3,"T18":1063.9,"T19":1048.25,"T20":1032.45,"T5":1179.85,"T6":1184.85,"T7":1186.1,"T8":1184.05,"T9":1179.1},{"Age":27,"T10":1174.9,"T11":1166,"T12":1155.25,"T13":1143,"T14":1129.5,"T15":1115,"T16":1101.5,"T17":1087.4,"T18":1072.9,"T19":1058.2,"T20":1043.4,"T5":1180.65,"T6":1186.05,"T7":1187.75,"T8":1186.15,"T9":1181.75},{"Age":28,"T10":1179,"T11":1170.8,"T12":1160.8,"T13":1149.3,"T14":1136.6,"T15":1122.9,"T16":1110.35,"T17":1097.2,"T18":1083.75,"T19":1070.1,"T20":1056.6,"T5":1181.9,"T6":1187.75,"T7":1189.95,"T8":1188.95,"T9":1185.2},{"Age":29,"T10":1184.05,"T11":1176.6,"T12":1167.45,"T13":1156.85,"T14":1145.1,"T15":1132.4,"T16":1120.9,"T17":1108.9,"T18":1096.7,"T19":1084.45,"T20":1072.45,"T5":1183.6,"T6":1190,"T7":1192.8,"T8":1192.5,"T9":1189.45},{"Age":30,"T10":1190.1,"T11":1183.6,"T12":1175.4,"T13":1165.85,"T14":1155.15,"T15":1143.65,"T16":1133.45,"T17":1122.85,"T18":1112.2,"T19":1101.7,"T20":1091.5,"T5":1185.75,"T6":1192.8,"T7":1196.35,"T8":1196.8,"T9":1194.6},{"Age":31,"T10":1197.3,"T11":1191.85,"T12":1184.85,"T13":1176.5,"T14":1167.1,"T15":1157,"T16":1148.35,"T17":1139.5,"T18":1130.75,"T19":1122.35,"T20":1114.4,"T5":1188.45,"T6":1196.25,"T7":1200.65,"T8":1200.7,"T9":1200.8},{"Age":32,"T10":1205.75,"T11":1201.6,"T12":1195.9,"T13":1189,"T14":1181.2,"T15":1172.85,"T16":1166.1,"T17":1159.45,"T18":1153.05,"T19":1147.15,"T20":1142,"T5":1191.65,"T6":1200.4,"T7":1205.8,"T8":1208.2,"T9":1208.05},{"Age":33,"T10":1215.6,"T11":1212.95,"T12":1208.85,"T13":1203.7,"T14":1197.85,"T15":1191.6,"T16":1187.3,"T17":1183.25,"T18":1179.75,"T19":1177,"T20":1175.2,"T5":1195.45,"T6":1205.25,"T7":1211.75,"T8":1215.4,"T9":1216.55},{"Age":34,"T10":1227.1,"T11":1226.2,"T12":1224.05,"T13":1221.05,"T14":1217.6,"T15":1214,"T16":1212.7,"T17":1211.9,"T18":1211.95,"T19":1213,"T20":1215.3,"T5":1199.95,"T6":1210.95,"T7":1218.75,"T8":1223.75,"T9":1226.4},{"Age":35,"T10":1240.45,"T11":1241.7,"T12":1241.95,"T13":1241.6,"T14":1241.1,"T15":1240.8,"T16":1243.15,"T17":1246.4,"T18":1250.8,"T19":1256.6,"T20":1263.9,"T5":1205.1,"T6":1217.5,"T7":1226.75,"T8":1233.4,"T9":1237.85},{"Age":36,"T10":1256.1,"T11":1259.95,"T12":1263.15,"T13":1266.1,"T14":1269.3,"T15":1273.1,"T16":1279.95,"T17":1288.2,"T18":1298,"T19":1309.6,"T20":1323.2,"T5":1211.05,"T6":1225,"T7":1236.05,"T8":1244.6,"T9":1251.1},{"Age":37,"T10":1274.45,"T11":1281.55,"T12":1288.4,"T13":1295.45,"T14":1303.2,"T15":1312.05,"T16":1324.6,"T17":1339,"T18":1355.55,"T19":1374.5,"T20":1396,"T5":1217.8,"T6":1233.65,"T7":1246.7,"T8":1257.55,"T9":1266.6},{"Age":38,"T10":1296.2,"T11":1307.3,"T12":1318.7,"T13":1330.85,"T14":1344.3,"T15":1359.45,"T16":1379.05,"T17":1401.2,"T18":1426.3,"T19":1454.55,"T20":1486.4,"T5":1225.6,"T6":1243.55,"T7":1259.1,"T8":1272.65,"T9":1284.85},{"Age":39,"T10":1322.1,"T11":1338.2,"T12":1355.25,"T13":1373.75,"T14":1394.3,"T15":1417.4,"T16":1445.9,"T17":1477.95,"T18":1514.05,"T19":1554.65,"T20":1600.3,"T5":1234.5,"T6":1255.05,"T7":1273.45,"T8":1290.35,"T9":1306.4},{"Age":40,"T10":1353.25,"T11":1375.55,"T12":1399.65,"T13":1426.15,"T14":1455.65,"T15":1488.8,"T16":1528.7,"T17":1573.7,"T18":1624.4,"T19":1681.8,"T20":1746.85,"T5":1244.75,"T6":1268.4,"T7":1290.35,"T8":1311.35,"T9":1332.1}];

        // --- DOM Elements ---
        const form = document.getElementById('premiumForm');
        const resultsCard = document.getElementById('results-card');
        const errorContainer = document.getElementById('error-container');

        // --- Event Listener ---
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            calculatePremium();
        });

        // --- Helper Functions ---
        const formatCurrency = (num) => `₹ ${num.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;

        function showError(message) {
            errorContainer.innerHTML = message;
            errorContainer.style.display = 'block';
            resultsCard.style.display = 'none';
        }

        function getRebateRate(sumAssured, term, option) {
            let rebateRates;
            
            // Rebate is per 1000 Sum Assured
            if (option === 1) { // Option I Rebates
                if (sumAssured >= 200000 && sumAssured <= 500000) rebateRates = [28, 35, 39, 43];
                else if (sumAssured > 500000 && sumAssured <= 1000000) rebateRates = [49, 60, 68, 75];
                else if (sumAssured > 1000000 && sumAssured <= 1500000) rebateRates = [56, 69, 78, 85];
                else if (sumAssured > 1500000) rebateRates = [58, 72, 81, 89];
                else return 0;
            } else { // Option II Rebates
                if (sumAssured >= 200000 && sumAssured <= 500000) rebateRates = [25, 32, 36, 40];
                else if (sumAssured > 500000 && sumAssured <= 1000000) rebateRates = [44, 55, 64, 69];
                else if (sumAssured > 1000000 && sumAssured <= 1500000) rebateRates = [50, 63, 73, 79];
                else if (sumAssured > 1500000) rebateRates = [52, 65, 76, 83];
                else return 0;
            }

            let termIndex;
            if (term >= 5 && term <= 9) termIndex = 0;
            else if (term >= 10 && term <= 14) termIndex = 1;
            else if (term >= 15 && term <= 19) termIndex = 2;
            else if (term === 20) termIndex = 3;
            else return 0;

            return rebateRates[termIndex];
        }

        function getTabularRate(age, term, option) {
            const data = (option === 1) ? option1Data : option2Data;
            const ageData = data.find(row => row.Age === age);
            if (!ageData) return null;
            
            const termKey = `T${term}`;
            const rate = ageData[termKey];
            
            if (rate === undefined || rate === 0.0) return null;
            return rate;
        }


        // --- Main Calculation Function ---
        function calculatePremium() {
            // 1. Get Inputs
            const age = parseInt(document.getElementById('age').value);
            const term = parseInt(document.getElementById('term').value);
            const sumAssured = parseInt(document.getElementById('sumAssured').value);
            const option = parseInt(document.getElementById('option').value);
            const dabRider = document.getElementById('dabRider').checked;

            // 2. Validation
            let errors = [];
            // Age validation
            if (isNaN(age) || age < 0) errors.push("Age must be 0 or greater.");
            if (option === 1 && age > 60) errors.push("Maximum entry age for Option I is 60.");
            if (option === 2 && age > 40) errors.push("Maximum entry age for Option II is 40.");
            
            // Term validation
            if (isNaN(term) || term < 5 || term > 20) errors.push("Policy Term must be between 5 and 20 years.");
            
            // Maturity age validation
            if ((age + term) < 18) errors.push(`Maturity age must be at least 18. Your current maturity age is ${age + term}.`);
            if (option === 1 && (age + term) > 75) errors.push(`Maximum maturity age for Option I is 75. Your current maturity age is ${age + term}.`);
            if (option === 2 && (age + term) > 60) errors.push(`Maximum maturity age for Option II is 60. Your current maturity age is ${age + term}.`);
            
            // Sum Assured validation
            if (isNaN(sumAssured) || sumAssured < 100000) errors.push("Minimum Sum Assured is ₹ 1,00,000.");
            if (sumAssured > 200000 && sumAssured % 25000 !== 0) errors.push("For Sum Assured above ₹ 2,00,000, it must be in multiples of ₹ 25,000.");
            if (sumAssured > 100000 && sumAssured <= 200000 && sumAssured % 10000 !== 0) errors.push("For Sum Assured from ₹ 1,00,000 to ₹ 2,00,000, it must be in multiples of ₹ 10,000.");
            
            // Display errors if any
            if (errors.length > 0) {
                showError(`<strong>Please correct the following errors:</strong><ul><li>${errors.join('</li><li>')}</li></ul>`);
                return;
            }
            
            // 3. Fetch Tabular Rate
            const tabularRate = getTabularRate(age, term, option);
            if (tabularRate === null) {
                showError(`Premium rate not available for the selected Age (${age}) and Term (${term}) combination. This is expected for Option II if age is above 40.`);
                return;
            }

            // 4. Calculations
            const basicPremium = (tabularRate / 1000) * sumAssured;
            const rebateRate = getRebateRate(sumAssured, term, option);
            const totalRebate = (rebateRate / 1000) * sumAssured;
            const netPremium = basicPremium - totalRebate;

            let dabPremium = 0;
            if (dabRider) {
                const DAB_RATE_PER_1000 = 0.40;
                dabPremium = (DAB_RATE_PER_1000 / 1000) * sumAssured;
            }

            const totalPremiumWithoutGst = netPremium + dabPremium;
            
            const GST_RATE = 0.045; // 4.5% for Single Premium
            const gstAmount = totalPremiumWithoutGst * GST_RATE;

            const finalPremium = totalPremiumWithoutGst + gstAmount;

            // 5. Display Results
            errorContainer.style.display = 'none';
            resultsCard.style.display = 'block';

            document.getElementById('result-basic').textContent = formatCurrency(basicPremium);
            document.getElementById('result-rebate').textContent = formatCurrency(totalRebate);
            document.getElementById('result-net').textContent = formatCurrency(netPremium);
            document.getElementById('result-dab').textContent = formatCurrency(dabPremium);
            document.getElementById('result-total-no-gst').textContent = formatCurrency(totalPremiumWithoutGst);
            document.getElementById('result-gst').textContent = formatCurrency(gstAmount);
            document.getElementById('result-final').textContent = formatCurrency(finalPremium);

            // Scroll to results
            resultsCard.scrollIntoView({ behavior: 'smooth' });
        }

    </script>
</body>
</html>