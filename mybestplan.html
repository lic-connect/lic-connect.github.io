<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best plan for me???</title>
    <style>
        body {
            background-color: #ffffff;
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px 20px 50px 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        h1 {
            font-size: 36px;
            color: #333333;
            margin-bottom: 5px;
        }

        p.intro {
            font-size: 18px;
            color: #666666;
            margin-bottom: 40px;
        }

        /* --- Custom Dropdown Styling --- */
        .dropdown-container {
            position: relative;
            display: inline-block;
            margin-bottom: 30px;
        }

        /* The main button style from your request */
        .dashboard-button {
            background: linear-gradient(to bottom, #333333, #808080);
            color: white;
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            border: none;
            border-radius: 20px;
            box-shadow: 
                inset 0 -3px 8px rgba(255, 255, 255, 0.4),
                0 6px 15px rgba(0, 0, 0, 0.6);
            width: 320px; /* Adjusted width for longer text */
            height: 70px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .dashboard-button:hover {
            box-shadow:
                inset 0 -3px 8px rgba(255, 255, 255, 0.6),
                0 8px 20px rgba(0, 0, 0, 0.8);
            transform: translateY(-2px);
        }

        .needs-list {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 320px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 10;
            border-radius: 10px;
            max-height: 400px;
            overflow-y: auto;
            text-align: left;
            border: 1px solid #ddd;
        }

        .needs-list .need-group {
            padding: 10px 16px;
            font-weight: bold;
            color: #fff;
            background-color: #00563f;
            font-size: 0.9em;
            position: sticky;
            top: 0;
        }
        
        .needs-list .need-item {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            cursor: pointer;
            font-size: 0.9em;
        }

        .needs-list .need-item:hover {
            background-color: #e9e9e9;
        }

        .show { display: block; }

        /* --- Output Card Styling --- */
        #plan-details-output {
            margin-top: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            text-align: left;
        }

        .plan-card {
            background: #fff;
            border: 1px solid #e0e0e0;
            border-left: 5px solid #d9232d; /* LIC Red accent */
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            display: flex;
            flex-direction: column;
        }
        
        .plan-card h3 {
            margin-top: 0;
            color: #00563f;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

        .plan-card p {
            font-size: 14px;
            line-height: 1.6;
            margin: 8px 0;
            color: #555;
        }
        .plan-card p strong {
            color: #333;
            display: inline-block;
            min-width: 130px;
        }
        
        .plan-card .why-reason {
            margin-top: 15px;
            padding: 15px;
            border-top: 1px dashed #ccc;
            background-color: #fdfaf6;
            border-radius: 5px;
        }
        .plan-card .why-reason strong {
            color: #d9232d;
            display: block;
            margin-bottom: 8px;
        }

        .plan-card ul {
            padding-left: 20px;
            margin: 0;
            font-size: 14px;
            color: #555;
            line-height: 1.6;
        }
        
        .plan-card .illustrative-example {
            margin-top: 15px;
            padding: 15px;
            background-color: #f0f4f8;
            border-left: 3px solid #4CAF50;
            font-style: italic;
            font-size: 13px;
            color: #333;
            border-radius: 0 5px 5px 0;
        }
        .illustrative-example strong {
            font-style: normal;
        }

        /* --- Other sections styling (remains as is) --- */
        .tool-section { margin-bottom: 40px; }
        .input-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 25px; }
        .input-group { display: flex; flex-direction: column; }
        .neumorphic-input, .neumorphic-button { border: none; padding: 12px 15px; font-size: 1em; color: #ffffff; border-radius: 12px; outline: none; transition: all 0.2s ease-in-out; background: linear-gradient(145deg, #4caf50, #409143); box-shadow: 5px 5px 10px #387d3b, -5px -5px 10px #58c55b; text-shadow: 1px 1px 2px rgba(0,0,0,0.3); cursor: pointer; -webkit-appearance: none; -moz-appearance: none; appearance: none; }
        select.neumorphic-input { background-image: linear-gradient(145deg, #4caf50, #409143), url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E'); background-repeat: no-repeat, repeat; background-position: right .7em top 50%, 0 0; background-size: .65em auto, 100%; }
        input.neumorphic-input[readonly], .neumorphic-input:disabled { background: linear-gradient(145deg, #6c757d, #5a6268); box-shadow: 5px 5px 10px #545b62, -5px -5px 10px #848d95; cursor: not-allowed; color: #e0e0e0; }
        .neumorphic-input:focus, .neumorphic-button:focus { box-shadow: inset 5px 5px 10px #387d3b, inset -5px -5px 10px #58c55b; }
        #compareBtn { max-width: 300px; }
        #calculatePremiumBtn { max-width: 400px; }
        .neumorphic-button:active { box-shadow: inset 7px 7px 14px #387d3b, inset -7px -7px 14px #58c55b; font-size: 0.98em; }
        .comparison-section { margin-top: 40px; overflow-x: auto; }
        #comparisonTable { width: 100%; border-collapse: collapse; background: #fff; box-shadow: 0 4px 8px rgba(0,0,0,0.05); }
        #comparisonTable th, #comparisonTable td { padding: 12px 15px; border: 1px solid #ddd; text-align: left; vertical-align: top; }
        #comparisonTable thead th { background-color: #00563f; color: white; font-size: 1.1em; text-align: center; }
        #comparisonTable tbody th { background-color: #f2f2f2; font-weight: bold; width: 180px; }
        #comparisonTable td { line-height: 1.5; }
    </style>
</head>
<body>

<div class="container">
    <h1>Best plan for me???</h1>
    <p class="intro">Find the perfect LIC plan tailored to your financial goals.</p>

    <!-- SECTION 1: "Best Plan For Me?" Tool -->
    <div class="tool-section">
        <div class="dropdown-container">
            <button id="needs-dropdown-btn" class="dashboard-button">Choose your need</button>
            <div id="needs-list" class="needs-list">
                <!-- Needs will be populated by JavaScript -->
            </div>
        </div>

        <div id="plan-details-output">
            <!-- Recommended plan details will be displayed here -->
        </div>
    </div>
    
    <!-- Other sections remain unchanged -->

</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    
    // --- DATA STORE SECTION ---
    const planData = {
        "714":{"planName":"New Endowment","planNumber":"714","productSummary":"A regular premium, non-linked, with-profits Endowment Plan.","premiumPaymentMode":"Yearly, Halfly, Quarterly, Monthly(ECS)","term":"12 to 35 years","minAge":"8 Years","maxAge":"50 Years","minSumAssured":"2,00,000","maxSumAssured":"NO LIMIT","onDeath":"Sum Assured + Vested Bonus + FAB if any. Higher of 7x Annualized Premium or 105% of all Premiums paid.","onSurvival":"Basic Sum Assured + Vested Bonus + FAB if any.","loan":"Available after 2 full years premiums.","taxBenefit":"80C & 10(10D)."},
        "715":{"planName":"Jeevan Anand","planNumber":"715","productSummary":"A participating non-linked plan combining protection and savings, with lifelong death cover.","premiumPaymentMode":"Yearly, Halfly, Quarterly, Monthly(ECS)","term":"15 to 35 years","minAge":"18 Years","maxAge":"50 Years","minSumAssured":"2,00,000","maxSumAssured":"NO LIMIT","onDeath":"During term: SA on Death (Higher of 125% BSA or 7x AP) + Bonuses. After term: Basic Sum Assured.","onSurvival":"Basic Sum Assured + Vested Bonus + FAB.","loan":"Available after 2 full years premiums.","taxBenefit":"80C & 10(10D)."},
        "717":{"planName":"Single Premium Endowment","planNumber":"717","productSummary":"A single premium, non-linked, with-profits Endowment Plan.","premiumPaymentMode":"Single Premium","term":"10 to 25 Years","minAge":"30 Days","maxAge":"65 Years","minSumAssured":"1,00,000","maxSumAssured":"NO LIMIT","onDeath":"Sum Assured + Vested Bonus + FAB.","onSurvival":"Sum Assured + Vested Bonus + FAB.","loan":"Available after 1 policy year.","taxBenefit":"80C (up to 10% of SA)."},
        "720":{"planName":"20Year Money Back","planNumber":"720","productSummary":"A limited premium, with-profits Money Back Plan with periodic payouts.","premiumPaymentMode":"Yearly, Halfly, Quarterly, Monthly(ECS)","term":"20 Years (Fixed)","minAge":"13 Years","maxAge":"50 Years","minSumAssured":"2,00,000","maxSumAssured":"NO LIMIT","onDeath":"SA on Death (Higher of 125% BSA or 7x AP) + Bonuses.","onSurvival":"20% of SA at years 5, 10, & 15. Maturity: 40% of SA + Bonus.","loan":"Available after 2 full years premiums.","taxBenefit":"80C & 10(10D)."},
        "721":{"planName":"25Year Money Back","planNumber":"721","productSummary":"A 25-year limited premium, with-profits Money Back Plan.","premiumPaymentMode":"Yearly, Halfly, Quarterly, Monthly(ECS)","term":"25 Years (Fixed)","minAge":"13 Years","maxAge":"45 Years","minSumAssured":"2,00,000","maxSumAssured":"NO LIMIT","onDeath":"SA on Death (Higher of 125% BSA or 7x AP) + Bonuses.","onSurvival":"15% of SA at years 5, 10, 15, & 20. Maturity: 40% of SA + Bonus.","loan":"Available after 2 full years premiums.","taxBenefit":"80C & 10(10D)."},
        "732":{"planName":"Child Money Back","planNumber":"732","productSummary":"A money back plan tailored for children, providing funds at key educational milestones.","premiumPaymentMode":"Yearly, Halfly, Quarterly, Monthly(ECS)","term":"Matures at age 25","minAge":"0 Years","maxAge":"12 Years","minSumAssured":"2,00,000","maxSumAssured":"NO LIMIT","onDeath":"SA on Death + Bonuses.","onSurvival":"20% of SA at ages 18, 20, & 22. Maturity: 40% of SA + Bonus.","loan":"Available after 2 full years premiums.","taxBenefit":"80C & 10(10D)."},
        "733":{"planName":"Jeevan Lakshya","planNumber":"733","productSummary":"A limited premium endowment plan providing annual income on death to secure family goals.","premiumPaymentMode":"Yearly, Halfly, Quarterly, Monthly(ECS)","term":"13 to 25 Years","minAge":"18 Years","maxAge":"50 Years","minSumAssured":"2,00,000","maxSumAssured":"NO LIMIT","onDeath":"Annual Income (10% of BSA) till maturity, then 110% of BSA + Bonuses.","onSurvival":"Basic Sum Assured + Vested Bonus + FAB.","loan":"Available after 2 full years premiums.","taxBenefit":"80C & 10(10D)."},
        "734":{"planName":"Jeevan Tarun","planNumber":"734","productSummary":"A flexible money back plan designed for children's education needs.","premiumPaymentMode":"Yearly, Halfly, Quarterly, Monthly(ECS)","term":"Matures at age 25","minAge":"0 Years","maxAge":"12 Years","minSumAssured":"2,00,000","maxSumAssured":"NO LIMIT","onDeath":"SA on Death (Higher of 125% BSA or 7x AP) + Bonuses.","onSurvival":"Four flexible options for annual payouts from age 20 to 24.","loan":"Available after 2 full years premiums.","taxBenefit":"80C & 10(10D)."},
        "736":{"planName":"Jeevan Labh","planNumber":"736","productSummary":"A limited premium paying endowment plan known for high bonuses.","premiumPaymentMode":"Yearly, Halfly, Quarterly, Monthly(ECS)","term":"16, 21, or 25 Years","minAge":"8 Years","maxAge":"59 Years","minSumAssured":"2,00,000","maxSumAssured":"NO LIMIT","onDeath":"SA on Death (Higher of BSA, 7x AP) + Bonus + FAB.","onSurvival":"Basic Sum Assured + Reversionary Bonus + FAB.","loan":"Available after 2 full years premiums.","taxBenefit":"80C & 10(10D)."},
        "745":{"planName":"Jeevan Umang","planNumber":"745","productSummary":"A whole life plan providing annual survival benefits after PPT and a lump sum at maturity or death.","premiumPaymentMode":"Yearly, Halfly, Quarterly, Monthly(ECS)","term":"(100 - age) Years","minAge":"90 Days","maxAge":"55 Years","minSumAssured":"2,00,000","maxSumAssured":"NO LIMIT","onDeath":"SA on Death + Bonus + FAB.","onSurvival":"8% of SA annually for life after PPT ends. At age 100: SA + Bonuses.","loan":"Available after 2 full years premiums.","taxBenefit":"80C & 10(10D)."},
        "748":{"planName":"Bima Shree","planNumber":"748","productSummary":"A premium money-back plan for HNIs with guaranteed additions.","premiumPaymentMode":"Yearly, Halfly, Quarterly, Monthly(ECS)","term":"14, 16, 18, 20, 24, 28 Years","minAge":"8 Years","maxAge":"55 Years","minSumAssured":"10,00,000","maxSumAssured":"No Limit","onDeath":"SA on Death + GA + LA.","onSurvival":"Periodic payouts (30-45% of SA) based on term.","loan":"Available after 2 full years premiums.","taxBenefit":"80C & 10(10D)."},
        "751":{"planName":"Micro Bachat","planNumber":"751","productSummary":"A traditional micro-insurance plan for regular savings and protection.","premiumPaymentMode":"Yearly, Halfly, Quarterly, Monthly(ECS)","term":"10 to 15 Years","minAge":"18 Years","maxAge":"55 Years","minSumAssured":"1,00,000","maxSumAssured":"2,00,000","onDeath":"Higher of BSA, 7x AP, or 105% Premiums Paid + Loyalty Addition.","onSurvival":"Basic Sum Assured + Loyalty Addition.","loan":"Available after 3 full years premiums.","taxBenefit":"80C & 10(10D)."},
        "758":{"planName":"New Jeevan Shanti","planNumber":"758","productSummary":"A deferred annuity plan where you invest now and start receiving a pension after a few years.","premiumPaymentMode":"Single Premium","term":"1 to 12 Years (Deferment)","minAge":"30 Years","maxAge":"79 Years","minSumAssured":"1,50,000","maxSumAssured":"NO LIMIT","onDeath":"Return of purchase price plus interest.","onSurvival":"Lifelong annuity payments start after deferment.","loan":"Available after 3 months.","taxBenefit":"80C, but annuity is taxable."},
        "760":{"planName":"Bima Jyoti","planNumber":"760","productSummary":"A non-participating plan offering guaranteed additions of Rs. 50 per 1000 SA.","premiumPaymentMode":"Yearly, Halfly, Quarterly, Monthly(ECS)","term":"15 to 20 Years","minAge":"0 Years","maxAge":"60 Years","minSumAssured":"1,25,000","maxSumAssured":"No Limit","onDeath":"SA on Death + Accrued Guaranteed Additions.","onSurvival":"Sum Assured + Guaranteed Additions.","loan":"Available after 2 full years premiums.","taxBenefit":"80C & 10(10D)."},
        "768":{"planName":"Jeevan Azad","planNumber":"768","productSummary":"A limited premium non-participating endowment plan.","premiumPaymentMode":"Yearly, Halfly, Quarterly, Monthly(ECS)","term":"15 to 20 Years","minAge":"0 Years","maxAge":"50 Years","minSumAssured":"2,00,000","maxSumAssured":"5,00,000","onDeath":"Higher of BSA or 7x Annual Premium.","onSurvival":"Basic Sum Assured.","loan":"Available after 2 full years premiums.","taxBenefit":"80C & 10(10D)."},
        "771":{"planName":"Jeevan Utsav","planNumber":"771","productSummary":"A whole life plan with guaranteed additions and lifelong income benefits.","premiumPaymentMode":"Yearly, Halfly, Quarterly, Monthly(ECS)","term":"(100 - age) Years","minAge":"90 Days","maxAge":"65 Years","minSumAssured":"5,00,000","maxSumAssured":"NO LIMIT","onDeath":"SA on Death + Guaranteed Additions.","onSurvival":"10% of SA annually for life after deferment. At age 100 or death, SA + GA paid.","loan":"Available after 2 full years premiums.","taxBenefit":"80C & 10(10D)."},
        "774":{"planName":"Amritbaal","planNumber":"774","productSummary":"A guaranteed additions savings plan designed for a child's future needs.","premiumPaymentMode":"Limited Premium, Single Premium","term":"5 to 25 Years","minAge":"0 Years","maxAge":"13 Years","minSumAssured":"2,00,000","maxSumAssured":"NO LIMIT","onDeath":"Sum Assured on Death.","onSurvival":"Basic Sum Assured + Guaranteed Additions.","loan":"Available after 2 years (Limited) or 3 months (Single).","taxBenefit":"80C & 10(10D)."},
        "857":{"planName":"Jeevan Akshay VII","planNumber":"857","productSummary":"An immediate annuity plan for a guaranteed pension for life after a one-time investment.","premiumPaymentMode":"Single Premium","term":"Immediate Annuity","minAge":"25 Years","maxAge":"100 Years","minSumAssured":"1,00,000 (Purchase Price)","maxSumAssured":"NO LIMIT","onDeath":"Varies by option; can include Return of Purchase Price.","onSurvival":"Lifelong annuity payments.","loan":"Not available.","taxBenefit":"80C, but annuity is taxable."},
        "859":{"planName":"Saral Jeevan Bima","planNumber":"859","productSummary":"A standardized, simple pure term insurance plan.","premiumPaymentMode":"Regular, Limited, Single","term":"5 to 40 Years","minAge":"18 Years","maxAge":"65 Years","minSumAssured":"5,00,000","maxSumAssured":"25,00,000","onDeath":"100% of Basic Sum Assured.","onSurvival":"None.","loan":"Not available.","taxBenefit":"80C."},
        "862":{"planName":"Saral Pension","planNumber":"862","productSummary":"A non-participating, single premium, immediate annuity plan.","premiumPaymentMode":"Single Premium","term":"Immediate Annuity","minAge":"40 Years","maxAge":"80 Years","minSumAssured":"Minimum Annuity based","maxSumAssured":"NO LIMIT","onDeath":"100% of Purchase Price is returned.","onSurvival":"Lifelong annuity payments.","loan":"Available after 6 months.","taxBenefit":"80C, but annuity is taxable."},
        "875":{"planName":"Yuva Term","planNumber":"875","productSummary":"A pure risk plan for young earners with options for increasing cover.","premiumPaymentMode":"Regular, Limited, Single","term":"15 to 40 Years","minAge":"18 Years","maxAge":"45 Years","minSumAssured":"50,00,000","maxSumAssured":"5 Crore","onDeath":"Level or Increasing Sum Assured options available.","onSurvival":"None.","loan":"Not available.","taxBenefit":"80C."},
        "877":{"planName":"Yuva Credit Life","planNumber":"877","productSummary":"A pure risk plan designed to cover outstanding loans, with a reducing cover.","premiumPaymentMode":"Limited, Single","term":"5 to 30 Years","minAge":"18 Years","maxAge":"45 Years","minSumAssured":"50,00,000","maxSumAssured":"5 Crore","onDeath":"Cover reduces over time, mirroring a loan balance.","onSurvival":"None.","loan":"Not available.","taxBenefit":"80C."},
        "879":{"planName":"Smart Pension","planNumber":"879","productSummary":"A highly flexible immediate annuity plan with multiple payout options.","premiumPaymentMode":"Single Premium","term":"Immediate Annuity","minAge":"18 Years","maxAge":"100 Years","minSumAssured":"1,00,000","maxSumAssured":"NO LIMIT","onDeath":"Varies widely based on the chosen annuity option.","onSurvival":"Lifelong annuity payments.","loan":"Available under specific options.","taxBenefit":"80C, but annuity is taxable."},
        "955":{"planName":"New Jeevan Amar","planNumber":"955","productSummary":"A comprehensive and flexible pure risk protection plan.","premiumPaymentMode":"Regular, Limited, Single","term":"10 to 40 Years","minAge":"18 Years","maxAge":"65 Years","minSumAssured":"25,00,000","maxSumAssured":"NO LIMIT","onDeath":"Level or Increasing Sum Assured options available.","onSurvival":"None.","loan":"Not available.","taxBenefit":"80C."}
    };

    const needsToPlanMapping = {
        "financial_protection": [{"planNumber":"715","points":["Life cover persists even after maturity.","Bonus & FAB boost payout.","Loan facility available on policy."]},{"planNumber":"859","points":["Pure protection at low premium.","High sum assured flexibility.","Simplicity—no surviving pay-outs."]},{"planNumber":"768","points":["Guaranteed lumpsum on maturity/death.","Minimal exclusions—broad coverage.","No medical exam up to certain SA."]}],
        "income_replacement": [{"planNumber":"715","points":["Ample death benefit replaces income.","Bonus accumulation strengthens payout.","Optional accidental rider & premium waiver."]},{"planNumber":"760","points":["Guaranteed additions provide a predictable corpus.","Lump-sum maturity can be invested for regular income.","Good for middle-income earners."]},{"planNumber":"771", "points":["Provides lifelong annual income after the premium term.", "Acts as a self-funded pension to replace salary.", "Guaranteed benefits remove market uncertainty."]}],
        "loan_repayment": [{"planNumber":"859","points":["Large cover at low premium is ideal for loan amortization.","Term can be perfectly aligned with loan-tenor.","Riders like critical illness can be added."]},{"planNumber":"714","points":["Maturity benefit helps in final debt payoff.","Bonus accumulation adds a cushion.","Loan facility available for EMI emergencies."]},{"planNumber":"768", "points":["Guaranteed lumpsum payout is perfect for closing a loan.", "No medicals for moderate SA means quick coverage.", "Single premium option fits for settling debt upfront."]}],
        "child_education": [{"planNumber":"734","points":["Highly flexible with 4 payout options for ages 20-24.","Specifically designed to match college fee schedules.","Premium Waiver Rider ensures goals are met even in parent's absence."]},{"planNumber":"732","points":["Provides guaranteed payouts at specific ages: 18, 20, and 22.","Helps in planning for different stages of education.","Maturity at 25 helps fund post-graduation."]},{"planNumber":"774","points":["Guaranteed Additions ensure a definite corpus for the child.","Limited PPT options (5, 6, 7 years) for convenience.","Flexible maturity age from 18 to 25 years."]}],
        "child_marriage": [{"planNumber":"720","points":["Survival payouts at years 15 or 20 align well with marriage planning.", "Final maturity amount provides a substantial corpus.", "Bonus accumulation enhances the final payout."]},{"planNumber":"733","points":["The 'Lakshya' (goal) of the plan is perfectly suited for a fixed event like marriage.","Provides a lump sum at a pre-defined date, irrespective of survival.", "Annual income benefit on death protects the goal."]},{"planName":"Jeevan Labh","planNumber":"736","points":["Shorter premium commitment for a longer policy term.","High bonus potential to create a large marriage corpus.","Maturity amount is a significant lump sum."]}],
        "retirement_planning": [{"planNumber":"745","points":["Provides a guaranteed, tax-free annual income for life after the premium term.","Acts as a private pension plan.","Maturity at age 100 creates a massive legacy corpus."]},{"planNumber":"857","points":["Provides an immediate, guaranteed pension for life.","Ideal for those who have just retired and have a lump sum to invest.","Multiple options including return of purchase price."]},{"planNumber":"758","points":["Locks in current annuity rates for a future pension.", "Allows you to plan for retirement 1 to 12 years in advance.","Single premium investment simplifies financial planning."]}],
        "wealth_creation": [{"planNumber":"715","points":["Bonus + FAB for wealth building.","Lump sum + lifelong death cover combined.","Long-term horizon amplifies returns."]},{"planNumber":"736","points":["Limited premium payment for a longer term maximizes bonus accumulation.", "Known for competitive bonus rates.", "Lump-sum maturity creates a significant corpus."]},{"planNumber":"745","points":["Continuous, tax-free income stream (8% of SA) adds to wealth.", "Large maturity value at age 100.", "A disciplined way to build a multi-generational asset."]}],
        "tax_benefits": [{"planNumber":"715","points":["Premium qualifies for deduction under Sec 80C.","Maturity/death proceeds exempt under Sec 10(10D).","Helps exhaust your ₹1.5L limit with substantial cover."]},{"planNumber":"721","points":["Regular premiums eligible under 80C.","Survival & maturity benefits are tax-free under 10(10D).","Periodic payouts are tax-free, unlike interest income."]},{"planNumber":"745","points":["Continuous 80C benefit during PPT.", "Lifelong survival benefits (pension) are tax-free.", "Ideal for HNIs seeking tax-exempt long-term policies."]}],
        "peace_of_mind": [{"planNumber":"859","points":["Simple, no-frills term insurance.","Immediate peace knowing family is protected for a large sum.","Affordable premiums for significant cover."]},{"planNumber":"715","points":["Provides dual protection—maturity benefit for self and lifelong cover for family.","Loan option acts as an emergency fund.", "Riders enhance coverage for accidents/illness."]},{"planNumber":"760", "points":["Guaranteed Additions provide certainty and remove market volatility fears.", "Benefit is predictable and fixed from day one.", "Simple savings structure that is easy to understand."]}],
        "business_continuity": [{"planNumber":"955","points":["High sum assured available, ideal for Keyman Insurance.", "Term can be aligned with partnership deeds or loan tenors.","Death claim helps partners continue operations or settle dues."]},{"planNumber":"715","points":["High SA and maturity benefit useful for funding buy-sell agreements.", "Can be used as collateral for business loans.", "Whole-life cover is suitable for long-term succession planning."]},{"planNumber":"717", "points":["Single premium payment is ideal for covering a specific business liability.", "Can be easily assigned to the company or a partner.", "Guaranteed maturity value helps in planning business capital needs."]}],
        "estate_planning": [{"planNumber":"745","points":["Provides a lifelong income and a massive corpus at age 100 for heirs.", "Tax-free maturity and death benefits ensure efficient wealth transfer.","Perfect for creating a multi-generational legacy."]},{"planNumber":"715","points":["Whole-life cover acts as a tax-free legacy even after policy maturity.", "Can be assigned to trusts or charitable organizations.", "Policy proceeds are easily claimable by nominees, avoiding legal hassles."]},{"planNumber":"717", "points":["A simple way to pass on a tax-free lump sum to the next generation.", "Single premium makes it a straightforward 'gift' or inheritance tool.", "Eliminates need for probate in most cases."]}],
        "cover_final_expenses": [{"planNumber":"751","points":["Lower sum assured options are perfect for specifically covering final expenses.", "Low premiums make it easily affordable for this single purpose.", "Paid-up value ensures some benefit even if lapsed."]},{"planNumber":"714","points":["Maturity and bonuses provide a corpus that can be used for any purpose, including last rites.", "Loan facility can be used for any end-of-life medical emergencies.", "A traditional, reliable option."]},{"planNumber":"859", "points":["Provides a quick, high payout to handle hospital/funeral costs without financial strain.", "The most cost-effective way to get a lump sum for this need.", "Simple and fast claim process for nominees."]}],
        "protecting_lifestyle": [{"planNumber":"745","points":["Guaranteed annual payouts (8% of SA) after PPT help maintain lifestyle.", "Large maturity value acts as a buffer against inflation.", "Lifelong cover ensures protection for a spouse's lifestyle."]},{"planNumber":"760","points":["Guaranteed additions provide a predictable growth to protect against inflation.", "The fixed return structure ensures income stability for the family.", "Riders can be added to safeguard against lifestyle-disrupting events."]},{"planNumber":"715", "points":["Large maturity payout can be invested to generate income to maintain lifestyle.", "Post-maturity life cover provides an additional financial buffer for the surviving spouse.", "Bonus and FAB enhance the corpus significantly."]}],
        "savings_discipline": [{"planNumber":"736","points":["The limited premium paying term enforces a savings habit for a fixed period.", "Longer policy term discourages premature withdrawal.", "Bonus and FAB act as strong incentives to continue the policy."]},{"planNumber":"714","points":["Regular premium payments build a consistent savings habit over the long term.", "The endowment structure is ideal for goal-oriented savings.", "Surrender penalties discourage breaking the savings discipline."]},{"planNumber":"720", "points":["Periodic payouts at 5-year intervals act as rewards for consistent saving.", "Fixed payment schedule instills a routine.", "Helps in planning for and achieving multiple small goals systematically."]}],
        "supplement_health_insurance": [{"planNumber":"715","points":["Riders for Accidental Death, Disability, and Critical Illness can be added.", "Maturity value can be used to fund long-term health expenses or create a medical corpus.", "Loan facility can cover emergency medical bills."]},{"planNumber":"955","points":["Adding a Critical Illness Rider provides a lump sum on diagnosis, supplementing a hospital bill-based mediclaim.", "High death benefit covers loss of income due to illness.", "Frees up budget for a comprehensive standalone health policy."]},{"planNumber":"733", "points":["The in-built Premium Waiver Rider on disability is a huge benefit.", "Optional Critical Illness rider can be added.", "The annual income benefit on death can help cover long-term care for dependents."]}],
        "protection_against_inflation": [{"planNumber":"715","points":["Bonuses and FAB are linked to LIC's profits and act as a hedge against inflation.", "The final maturity value is typically much higher than the sum of premiums paid.", "The whole-life cover component provides lasting value."]},{"planNumber":"760","points":["The Guaranteed Additions at Rs. 50 per 1000 SA provide a fixed, predictable growth, beating basic inflation.", "The returns are not subject to market volatility.", "Ensures the maturity value has a guaranteed enhancement."]},{"planNumber":"721", "points":["Periodic money-backs help you use funds to meet rising costs at different life stages.", "The final maturity portion still gets the full benefit of bonus accumulation.", "A practical way to get inflation-beating liquidity."]}],
        "coverage_for_non_working_spouse": [{"planNumber":"751","points":["Lower minimum Sum Assured makes it very affordable.", "Simple to understand and manage.", "Provides a respectable savings corpus plus life cover for a homemaker."]},{"planNumber":"768","points":["No medicals required up to certain limits, making issuance easier.", "Limited PPT simplifies the financial commitment.", "Provides a guaranteed sum without complex investment features."]},{"planNumber":"859", "points":["Provides the highest possible life cover for the lowest cost.", "Recognizes the economic value of a homemaker's contribution.", "Premiums are generally lower for female lives."]}],
        "providing_for_aging_parents": [{"planNumber":"733","points":["The annual income benefit on the policyholder's death is a perfect tool to provide for dependent parents.", "Maturity benefit can be assigned to parents.", "Premium Waiver Rider ensures the plan continues for their benefit."]},{"planNumber":"715","points":["The maturity amount can be used to create a fund for parents' medical or living expenses.", "The lifelong death cover ensures that even after maturity, a lump sum is available for the surviving parent or family.", "Loan can be used for parents' medical emergencies."]},{"planNumber":"857", "points":["An immediate annuity can be purchased in the parent's name to provide them with a lifelong pension.", "Joint-life option can cover both parents.", "Ensures they have financial independence and dignity."]}],
        "legacy_creation": [{"planNumber":"745","points":["The ultimate legacy plan. Provides lifelong income and then a massive, tax-free corpus to the next generation at age 100.", "Ensures wealth transfer across generations.", "High Sum Assured options are available."]},{"planNumber":"715","points":["The whole-life cover component ensures a guaranteed, tax-free payout to the nominee, irrespective of when death occurs after the policy term.", "Can be easily assigned to a trust or specific heir.", "Bonus and FAB enhance the legacy amount."]},{"planNumber":"955", "points":["The most cost-effective way to create a very large estate.", "A 1 Crore or higher sum assured can be created with affordable premiums.", "The death benefit is tax-free and paid out quickly to the nominee."]}],
        "charitable_purposes": [{"planNumber":"717","points":["A single premium makes it a clean, one-time donation instrument.", "The policy can be assigned to a charitable trust from day one.", "The death benefit (SA + Bonus) goes directly to the designated cause."]},{"planNumber":"955","points":["Allows a person to donate a very large amount (e.g., 1 Crore) for a fraction of the cost.", "The trust or NGO can be made the direct nominee.", "Ensures a significant philanthropic impact."]},{"planNumber":"715","points":["The policy can be assigned to a charity. The charity receives the maturity value, and if the person lives on, the charity also receives the death benefit later.", "Provides a dual-benefit donation.", "Bonus additions make the final donation larger."]}],
    };

    const needsList = document.getElementById('needs-list');
    const needsDropdownBtn = document.getElementById('needs-dropdown-btn');
    const planDetailsOutput = document.getElementById('plan-details-output');

    function init() {
        populateNeedsList();
        setupEventListeners();
    }

    function setupEventListeners() {
        needsDropdownBtn.addEventListener('click', () => needsList.classList.toggle('show'));
        needsList.addEventListener('click', handleNeedSelection);
        window.addEventListener('click', (event) => {
            if (!needsDropdownBtn.contains(event.target) && !needsList.contains(event.target)) {
                needsList.classList.remove('show');
            }
        });
    }

    function populateNeedsList() {
        const needs = [
            { group: 'Family & Protection', items: [
                { id: 'financial_protection', text: 'Financial Protection for Family' },
                { id: 'income_replacement', text: 'Income Replacement' },
                { id: 'loan_repayment', text: 'Loan / Debt Repayment' },
                { id: 'protecting_lifestyle', text: 'Protecting Family Lifestyle' },
                { id: 'cover_final_expenses', text: 'Cover Final Expenses' }
            ]},
            { group: 'Child’s Future', items: [
                { id: 'child_education', text: 'Child’s Education' },
                { id: 'child_marriage', text: 'Marriage of Children' }
            ]},
            { group: 'Savings & Retirement', items: [
                { id: 'wealth_creation', text: 'Wealth Creation & Savings' },
                { id: 'retirement_planning', text: 'Retirement Planning' },
                { id: 'tax_benefits', text: 'Tax Benefits' },
                { id: 'savings_discipline', text: 'Savings Discipline' }
            ]},
            { group: 'Specialized Needs', items: [
                { id: 'life_event', text: 'Funding Key Life Events' },
                { id: 'legacy_creation', text: 'Legacy Creation & Estate Planning' },
                { id: 'business_continuity', text: 'Business Continuity' },
                { id: 'supplement_health_insurance', text: 'Supplement Health Insurance' },
                { id: 'protection_against_inflation', text: 'Protection Against Inflation' },
                { id: 'coverage_for_non_working_spouse', text: 'Coverage for Non-working Spouse' },
                { id: 'providing_for_aging_parents', text: 'Providing for Aging Parents' },
                { id: 'charitable_purposes', text: 'Charitable Purposes' }
            ]}
        ];
        
        let html = '';
        needs.forEach(cat => {
            html += `<div class="need-group">${cat.group}</div>`;
            cat.items.forEach(item => {
                html += `<div class="need-item" data-need-id="${item.id}">${item.text}</div>`;
            });
        });
        needsList.innerHTML = html;
    }

    function handleNeedSelection(event) {
        const selectedItem = event.target.closest('.need-item');
        if (selectedItem) {
            const needId = selectedItem.getAttribute('data-need-id');
            needsDropdownBtn.textContent = selectedItem.textContent;
            findAndDisplayPlans(needId);
            needsList.classList.remove('show');
        }
    }

    function findAndDisplayPlans(needId) {
        planDetailsOutput.innerHTML = '';
        const recommendations = needsToPlanMapping[needId] || [];
        
        if(recommendations.length === 0) {
            planDetailsOutput.innerHTML = '<p style="text-align:center; color:#777; grid-column: 1 / -1;">No specific recommendations found.</p>';
            return;
        }

        recommendations.forEach(rec => {
            const plan = planData[rec.planNumber];
            if (plan) {
                const card = document.createElement('div');
                card.className = 'plan-card';
                let pointsHTML = '<ul>';
                rec.points.forEach(point => {
                    pointsHTML += `<li>${point}</li>`;
                });
                pointsHTML += '</ul>';
                
                card.innerHTML = `
                    <h3>${plan.planName} (${plan.planNumber})</h3>
                    <p><strong>Summary:</strong> ${plan.productSummary}</p>
                    <p><strong>Entry Age:</strong> ${plan.minAge} to ${plan.maxAge}</p>
                    <p><strong>Policy Term:</strong> ${plan.term}</p>
                    <p><strong>Premium Term:</strong> ${plan.ppt}</p>
                    <p><strong>Min. Sum Assured:</strong> ${plan.minSumAssured}</p>
                    <p><strong>Maturity/Survival:</strong> ${plan.onSurvival}</p>
                    <p><strong>On Death:</strong> ${plan.onDeath}</p>
                    <div class="why-reason">
                        <strong>Why it's a good fit:</strong>
                        ${pointsHTML}
                    </div>
                    <div class="illustrative-example">
                        <strong>Example:</strong> ${generateIllustrativeExample(plan)}
                    </div>
                `;
                planDetailsOutput.appendChild(card);
            }
        });
    }
    
    function generateIllustrativeExample(plan) {
        if (!plan) return "-";
        
        const planNum = plan.planNumber;
        const sa = (planNum === '748' || planNum === '875' || planNum === '955') ? '50 Lakh' : '10 Lakh';

        switch (planNum) {
            case '714':
            case '736':
            case '768':
            case '760':
                return `Mr. Sharma, age 30, buys a ${sa} policy for 25 years. He pays premiums for the specified PPT. On survival, he receives ${sa} + bonuses. If he passes away during the term, his family receives a higher amount of ${sa} + accrued benefits.`;
            case '715':
                return `Ms. Desai, age 35, takes a ${sa} policy for 20 years. On surviving 20 years, she receives ${sa} + bonuses. Her life cover continues, and on her death anytime later, her family receives an additional ${sa}.`;
            case '745':
            case '771':
                return `Mr. Kumar, age 40, buys a ${sa} policy with a 15-year PPT. After 15 years, he starts receiving a guaranteed, tax-free annual pension for life, and his family still receives a large lump sum upon his death.`;
            case '720':
            case '721':
                return `Ms. Gupta, age 35, takes a ${sa} policy. She receives periodic payouts during the term for key life events. The full life cover remains active throughout, and she gets a final amount at maturity.`;
            case '734':
            case '732':
            case '774':
                return `A parent buys a ${sa} policy for their 2-year-old child. The plan provides annual payouts when the child turns 20, 21, 22, and 23 for college fees, with a final lump sum at age 25 for post-graduation.`;
            case '733':
                return `Mr. Singh buys this plan for his daughter's wedding. If he passes away, the plan pays a regular income to the family for expenses, waives future premiums, and still pays the full maturity amount on the planned date.`;
            case '859':
            case '955':
                return `Mr. Khan, a 28-year-old professional, buys a ${sa} policy for a 30-year term to protect his family. If he passes away within these 30 years, his family receives the full ${sa}. If he survives the term, no amount is paid.`;
            case '857':
            case '862':
                return `Mrs. Rao, age 60, invests a lump sum of 20 Lakhs. She immediately starts receiving a guaranteed pension for the rest of her life. Depending on the option, the initial 20 Lakhs can be returned to her nominee upon her death.`;
            default:
                return "This is a specialized plan offering tailored benefits for specific financial goals.";
        }
    }

    init();
});
</script>

</body>
</html>