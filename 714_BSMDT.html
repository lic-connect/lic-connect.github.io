<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>LIC Plan 714 Premium Calculator</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f8f9fa; margin: 0; padding: 20px; }
    .container { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 0 8px rgba(0,0,0,0.1); max-width: 700px; margin:auto; }
    h1 { text-align:center; }
    label { font-weight:bold; margin-top:10px; display:block; }
    input { width:100%; padding:10px; margin-bottom:10px; box-sizing: border-box; }
    button { width:100%; padding:15px; background:#27ae60; color:#fff; font-size:16px; border:none; cursor:pointer; }
    button:hover { background:#219150; }
    table { width:100%; margin-top:20px; border-collapse:collapse; }
    th, td { border:1px solid #ccc; padding:10px; text-align:center; }
    th { background:#e8f5e9; }
    
    /* === STYLES FOR POP-UP MODAL START === */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6);
        display: none; /* Hidden by default */
        align-items: center;
        justify-content: center;
        z-index: 2000;
    }
    .modal-content {
        background: #fff;
        padding: 30px;
        border-radius: 10px;
        width: 90%;
        max-width: 500px;
        text-align: center;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        position: relative;
    }
    .modal-close-btn {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 28px;
        font-weight: bold;
        color: #888;
        cursor: pointer;
    }
    .modal-close-btn:hover { color: #000; }
    #modal-title { margin-top: 0; color: #0056b3; }
    #modal-body { font-size: 1.5em; font-weight: bold; color: #333; }
    /* === STYLES FOR POP-UP MODAL END === */

    /* Container to hold and center the buttons */
    .premium-button-container {
        display: flex;          /* Aligns buttons in a row */
        justify-content: center;/* Horizontally centers the buttons */
        gap: 20px;              /* Creates space between the buttons */
        margin-top: 20px;       /* Adds space above the buttons */
    }

    /* Common style for both buttons */
    .premium-btn {
        background: linear-gradient(145deg, #007bff, #0056b3); /* Gradient for a modern look */
        color: white;
        font-family: Arial, sans-serif;
        font-size: 16px;
        font-weight: bold;
        border: none;
        border-radius: 10px; /* Slightly more rounded corners */
        padding: 15px 30px;
        cursor: pointer;
        box-shadow: 0 5px 15px rgba(0, 91, 179, 0.4); /* A more pronounced shadow */
        transition: all 0.3s ease; /* Smooth transition for all properties */
    }

    /* Effect for when the mouse hovers over a button */
    .premium-btn:hover {
        transform: translateY(-3px); /* Lifts the button slightly */
        box-shadow: 0 8px 20px rgba(0, 91, 179, 0.5); /* Enhance shadow on hover */
    }

    /* Effect for when a button is clicked */
    .premium-btn:active {
        transform: translateY(0); /* Pushes the button back down */
        box-shadow: 0 4px 10px rgba(0, 91, 179, 0.3);
    }
    
        .checkbox-container {
        display: flex;
        align-items: center;
        margin-top: 20px;
        margin-bottom: 20px;
        background-color: #f7f7f7;
        padding: 12px;
        border-radius: 8px;
        border: 1px solid #e0e0e0;
    }

    /* Styling the checkbox itself */
    .checkbox-container input[type="checkbox"] {
        width: auto; /* Resetting width from the general input style */
        height: 18px; /* Custom height */
        width: 18px;  /* Custom width */
        margin: 0 12px 0 5px; /* Spacing: top right bottom left */
        cursor: pointer;
    }

    /* Styling the label next to the checkbox */
    .checkbox-container label {
        margin: 0; /* Resetting default label margin */
        font-weight: normal; /* Making the label text look cleaner */
        color: #333;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>LIC Plan 714 Premium Calculator</h1>

    <label for="age">Age</label>
    <input type="number" id="age" value="30" min="8" max="50" />

    <label for="term">Policy Term</label>
    <input type="number" id="term" value="20" min="12" max="35" />

    <label for="sumAssured">Sum Assured</label>
    <input type="number" id="sumAssured" value="2500000" step="10000" />

    <label for="ppt">Premium Paying Term</label>
    <input type="text" id="ppt" disabled />
    
    <!-- HTML for the checkbox -->
<div class="checkbox-container">
    <input type="checkbox" id="addb_checkbox" name="addb_checkbox">
    <label for="addb_checkbox">Include AD&DB Rider</label>
</div>

    <button onclick="calculate()">Calculate Base Premium</button>

  <!-- === CODE FOR STYLISH BUTTONS === -->
  <div class="premium-button-container">
    <button id="pwb-premium-btn" class="premium-btn">Know Your PWB Premium</button>
    <button id="term-rider-premium-btn" class="premium-btn">Know Your Term Rider Premium</button>
  </div>
    
    <div id="results"></div>
  </div>



  <!-- === CODE FOR POP-UP MODAL === -->
  <div id="premium-modal" class="modal-overlay">
      <div class="modal-content">
          <span class="modal-close-btn">×</span>
          <h2 id="modal-title"></h2>
          <p id="modal-body"></p>
      </div>
  </div>

<!-- You can keep your existing HTML and CSS. -->
<!-- This is the required modal HTML. Place it before the <script> tag. -->
<div id="premium-modal" class="modal-overlay">
    <div class="modal-content">
        <span class="modal-close-btn">×</span>
        <h2 id="modal-title"></h2>
        <div id="modal-body"></div>
    </div>
</div>

<!-- Replace your existing <script> tag with this entire block -->
<script>
// Base Premium Rates
const premiumRates = {
  8:{12:92.35,13:84.7,14:78.2,15:73.7,16:68.65,17:64.25,18:60.3,19:56.8,20:53.65,21:50.95,22:48.45,23:46.2,24:44.1,25:42.2,26:40.45,27:38.85,28:37.35,29:35.95,30:34.65,31:33.55,32:32.45,33:31.45,34:30.55,35:29.65},
  9:{12:92.4,13:84.8,14:78.25,15:73.75,16:68.7,17:64.3,18:60.35,19:56.85,20:53.75,21:51.0,22:48.5,23:46.25,24:44.15,25:42.25,26:40.5,27:38.9,28:37.4,29:36.0,30:34.75,31:33.6,32:32.55,33:31.55,34:30.6,35:29.7},
  10:{12:92.45,13:84.85,14:78.35,15:73.8,16:68.8,17:64.35,18:60.45,19:56.95,20:53.8,21:51.05,22:48.55,23:46.3,24:44.25,25:42.35,26:40.55,27:38.95,28:37.45,29:36.1,30:34.8,31:33.65,32:32.6,33:31.6,34:30.65,35:29.8},
  11:{12:92.55,13:84.9,14:78.4,15:73.9,16:68.85,17:64.4,18:60.5,19:57.0,20:53.85,21:51.1,22:48.65,23:46.35,24:44.3,25:42.4,26:40.65,27:39.0,28:37.5,29:36.15,30:34.85,31:33.7,32:32.65,33:31.65,34:30.7,35:29.85},
  12:{12:92.6,13:85.0,14:78.45,15:73.95,16:68.9,17:64.5,18:60.55,19:57.05,20:53.9,21:51.15,22:48.7,23:46.4,24:44.35,25:42.45,26:40.7,27:39.05,28:37.6,29:36.2,30:34.9,31:33.75,32:32.7,33:31.7,34:30.8,35:29.9},
  13:{12:92.65,13:85.05,14:78.5,15:74.0,16:68.95,17:64.55,18:60.6,19:57.1,20:53.95,21:51.2,22:48.74,23:46.45,24:44.4,25:42.5,26:40.75,27:39.15,28:37.65,29:36.25,30:34.95,31:33.85,32:32.75,33:31.75,34:30.85,35:30.0},
  14:{12:92.7,13:85.1,14:78.55,15:74.05,16:69.0,17:64.6,18:60.65,19:57.15,20:54.0,21:51.25,22:48.8,23:46.5,24:44.45,25:42.55,26:40.8,27:39.15,28:37.7,29:36.3,30:35.0,31:33.9,32:32.8,33:31.8,34:30.9,35:30.05},
  15:{12:92.75,13:85.15,14:78.6,15:74.1,16:69.05,17:64.6,18:60.7,19:57.2,20:54.05,21:51.3,22:48.8,23:46.55,24:44.45,25:42.55,26:40.8,27:39.21,28:37.7,29:36.35,30:35.05,31:33.9,32:32.85,33:31.85,34:30.95,35:30.1},
  16:{12:92.8,13:85.15,14:78.65,15:74.1,16:69.1,17:64.65,18:60.7,19:57.2,20:54.05,21:51.35,22:48.85,23:46.6,24:44.5,25:42.6,26:40.85,27:39.25,28:37.75,29:36.4,30:35.1,31:33.95,32:32.9,33:31.9,34:31.0,35:30.15},
  17:{12:92.8,13:85.2,14:78.65,15:74.15,16:69.1,17:64.65,18:60.75,19:57.25,20:54.1,21:51.35,22:48.85,23:46.6,24:44.55,25:42.65,26:40.9,27:39.25,28:37.8,29:36.4,30:35.15,31:34.0,32:32.95,33:31.95,34:31.05,35:30.2},
  18:{12:92.85,13:85.2,14:78.65,15:74.15,16:69.15,17:64.7,18:60.75,19:57.25,20:54.1,21:51.35,22:48.9,23:46.6,24:44.55,25:42.65,26:40.9,27:39.3,28:37.8,29:36.45,30:35.15,31:34.05,32:33.0,33:32.0,34:31.1,35:30.25},
  19:{12:92.85,13:85.2,14:78.7,15:74.15,16:69.15,17:64.7,18:60.75,19:57.25,20:54.1,21:51.4,22:48.9,23:46.65,24:44.55,25:42.7,26:40.95,27:39.35,28:37.85,29:36.45,30:35.2,31:34.1,32:33.05,33:32.05,34:31.15,35:30.3},
  20:{12:92.85,13:85.2,14:78.7,15:74.2,16:69.15,17:64.7,18:60.8,19:57.3,20:54.15,21:51.4,22:48.9,23:46.65,24:44.6,25:42.7,26:40.95,27:39.35,28:37.9,29:36.5,30:35.25,31:34.1,32:33.05,33:32.1,34:31.2,35:30.35},
  21:{12:92.85,13:85.2,14:78.7,15:74.2,16:69.15,17:64.7,18:60.8,19:57.3,20:54.15,21:51.4,22:48.95,23:46.7,24:44.6,25:42.75,26:41.0,27:39.43,28:37.9,29:36.57,30:35.3,31:34.15,32:33.15,33:32.15,34:31.25,35:30.4},
  22:{12:92.85,13:85.2,14:78.7,15:74.2,16:69.15,17:64.7,18:60.8,19:57.3,20:54.15,21:51.45,22:48.95,23:46.7,24:44.65,25:42.75,26:41.0,27:39.45,28:37.95,29:36.6,30:35.35,31:34.2,32:33.2,33:32.2,34:31.35,35:30.5},
  23:{12:92.85,13:85.2,14:78.7,15:74.2,16:69.15,17:64.75,18:60.8,19:57.3,20:54.2,21:51.45,22:49.0,23:46.75,24:44.7,25:42.8,26:41.05,27:39.45,28:38.0,29:36.65,30:35.4,31:34.3,32:33.25,33:32.3,34:31.4,35:30.6},
  24:{12:92.85,13:85.25,14:78.7,15:74.2,16:69.2,17:64.75,18:60.85,19:57.35,20:54.2,21:51.5,22:49.0,23:46.75,24:44.7,25:42.85,26:41.1,27:39.5,28:38.05,29:36.7,30:35.45,31:34.35,32:33.35,33:32.4,34:31.5,35:30.7},
  25:{12:92.85,13:85.25,14:78.75,15:74.25,16:69.2,17:64.8,18:60.85,19:57.35,20:54.25,21:51.55,22:49.05,23:46.8,24:44.75,25:42.9,26:41.15,27:39.6,28:38.15,29:36.8,30:35.55,31:34.45,32:33.45,33:32.5,34:31.6,35:30.8},
  26:{12:92.9,13:85.25,14:78.75,15:74.25,16:69.25,17:64.8,18:60.9,19:57.4,20:54.3,21:51.55,22:49.1,23:46.85,24:44.8,25:42.95,26:41.25,27:39.65,28:38.2,29:36.9,30:35.65,31:34.55,32:33.55,33:32.6,34:31.75,35:30.95},
  27:{12:92.9,13:85.3,14:78.8,15:74.3,16:69.25,17:64.85,18:60.95,19:57.45,20:54.35,21:51.6,22:49.15,23:46.97,24:44.9,25:43.05,26:41.3,27:39.75,28:38.3,29:37.0,30:35.75,31:34.7,32:33.7,33:32.75,34:31.9,35:31.1},
  28:{12:92.95,13:85.3,14:78.8,15:74.35,16:69.3,17:64.9,18:61.0,19:57.5,20:54.4,21:51.7,22:49.25,23:47.0,24:44.95,25:43.1,26:41.4,27:39.85,28:38.4,29:37.1,30:35.9,31:34.8,32:33.8,33:32.9,34:32.05,35:31.25},
  29:{12:92.95,13:85.35,14:78.85,15:74.35,16:69.35,17:64.95,18:61.05,19:57.6,20:54.45,21:51.75,22:49.3,23:47.1,24:45.05,25:43.2,26:41.55,27:40.0,28:38.55,29:37.25,30:36.05,31:34.95,32:34.0,33:33.1,34:32.25,35:31.45},
  30:{12:93.0,13:85.4,14:78.9,15:74.45,16:69.4,17:65.0,18:61.1,19:57.65,20:54.55,21:51.85,22:49.4,23:47.2,24:45.2,25:43.35,26:41.65,27:40.1,28:38.7,29:37.4,30:36.2,31:35.15,32:34.2,33:33.3,34:32.45,35:31.7},
  31:{12:93.05,13:85.45,14:78.95,15:74.5,16:69.5,17:65.1,18:61.1,19:57.75,20:54.65,21:51.95,22:49.55,23:47.3,24:45.3,25:43.5,26:41.8,27:40.3,28:38.85,29:37.6,30:36.4,31:35.35,32:34.4,33:33.5,34:32.7,35:31.9},
  32:{12:93.15,13:85.5,14:79.05,15:74.55,16:69.55,17:65.2,18:61.3,19:57.85,20:54.75,21:52.1,22:49.65,23:47.45,24:45.45,25:43.65,26:42.0,27:40.45,28:39.05,29:37.8,30:36.6,31:35.55,32:34.6,33:33.75,34:32.95,35:32.2},
  33:{12:93.2,13:85.6,14:79.1,15:74.56,16:69.65,17:65.3,18:61.4,19:57.95,20:54.9,21:52.2,22:49.8,23:47.6,24:45.65,25:43.8,26:42.3,27:40.65,28:39.82,29:38.0,30:36.85,31:35.8,32:34.9,33:34.0,34:33.2,35:32.5},
  34:{12:93.3,13:85.7,14:79.2,15:74.75,16:69.75,17:65.4,18:61.55,19:58.1,20:55.05,21:52.35,22:49.95,23:47.8,24:45.8,25:44.0,26:42.4,27:40.9,28:39.5,29:38.25,30:37.1,31:35.9,32:35.15,33:34.3,34:33.55,35:32.8},
  35:{12:93.35,13:85.8,14:79.3,15:74.9,16:69.9,17:65.55,18:61.7,19:58.25,20:55.2,21:52.55,22:50.15,23:48.0,24:46.05,25:44.25,26:42.65,27:41.15,28:39.8,29:38.55,30:37.4,31:36.4,32:35.5,33:34.65,34:33.85,35:33.15},
  36:{12:93.45,13:85.9,14:79.45,15:75.0,16:70.05,17:65.75,18:61.85,19:58.45,20:55.4,21:52.75,22:50.4,23:48.25,24:46.3,25:44.5,26:42.9,27:41.4,28:40.1,29:38.85,30:37.75,31:36.75,32:35.85,33:35.0,34:34.25,35:33.55},
  37:{12:93.6,13:86.0,14:79.55,15:75.15,16:70.2,17:65.85,18:62.05,19:58.65,20:55.6,21:53.0,22:50.6,23:49.01,24:46.55,25:44.8,26:43.2,27:41.75,28:40.4,29:39.2,30:38.1,31:37.1,32:36.2,33:35.4,34:34.65,35:34.05},
  38:{12:93.7,13:86.15,14:79.75,15:75.35,16:70.4,17:66.05,18:62.25,19:58.85,20:55.85,21:53.25,22:50.9,23:48.75,24:46.85,25:45.1,26:43.5,27:42.1,28:40.75,29:39.55,30:38.45,31:37.5,32:36.65,33:35.85,34:35.1,35:34.45},
  39:{12:93.9,13:86.35,14:79.9,15:75.04,16:70.6,17:66.3,18:62.5,19:59.15,20:56.15,21:53.55,22:51.2,23:49.1,24:47.2,25:45.45,26:43.9,27:42.45,28:41.15,29:40.0,30:38.9,31:37.95,32:37.1,33:36.3,34:35.6,35:34.95},
  40:{12:94.05,13:86.55,14:80.1,15:75.75,16:70.85,17:66.55,18:62.75,19:59.4,20:56.45,21:53.85,22:51.55,23:49.45,24:47.55,25:45.85,26:44.3,27:42.9,28:41.6,29:40.45,30:39.35,31:38.45,32:37.6,33:36.85,34:36.15,35:35.5},
  41:{12:94.25,13:86.75,14:80.35,15:76.0,16:71.1,17:66.85,18:63.1,19:59.75,20:56.8,21:54.2,22:51.9,23:49.85,24:47.95,25:46.25,26:44.75,27:43.35,28:42.05,29:40.9,30:39.9,31:38.95,32:38.15,33:37.4,34:36.75},
  42:{12:94.5,13:87.0,14:80.6,15:76.3,16:71.45,17:67.15,18:63.45,19:60.1,20:57.15,21:54.76,22:52.37,23:50.25,24:48.4,25:46.75,26:45.2,27:43.85,28:42.6,29:41.45,30:40.45,31:39.69,32:38.75,33:38.0},
  43:{12:94.75,13:87.3,14:80.9,15:76.65,16:71.8,17:67.55,18:63.8,19:60.5,20:57.6,21:55.05,22:52.8,23:50.75,24:48.9,25:47.25,26:45.75,27:44.4,28:43.15,29:42.05,30:41.05,31:40.2,32:39.4},
  44:{12:95.05,13:87.6,14:81.25,15:77.0,16:72.2,17:67.95,18:64.25,19:60.95,20:58.05,21:55.55,22:53.3,23:51.25,24:49.45,25:47.8,26:46.3,27:45.0,28:43.75,29:42.7,30:41.7,31:40.85},
  45:{12:95.4,13:87.95,14:81.65,15:77.45,16:72.6,17:68.4,18:64.7,19:61.45,20:58.55,21:56.05,22:53.85,23:51.85,24:50.05,25:48.4,26:46.95,27:45.65,28:44.45,29:43.4,30:42.45},
  46:{12:95.8,13:88.4,14:82.1,15:77.9,16:73.1,17:68.9,18:65.25,19:62.0,20:59.1,21:56.65,22:54.45,23:52.45,24:50.65,25:49.05,26:47.65,27:46.35,28:45.2,29:44.15},
  47:{12:96.25,13:88.85,14:82.55,15:78.4,16:73.6,17:69.45,18:65.8,19:62.55,20:59.7,21:57.25,22:55.05,23:53.1,24:51.35,25:49.8,26:48.35,27:47.1,28:46.0},
  48:{12:96.7,13:89.35,14:83.05,15:78.95,16:74.2,17:70.05,18:66.4,19:63.2,20:60.35,21:57.95,22:55.75,23:53.85,24:52.1,25:50.55,26:49.15,27:47.95},
  49:{12:97.25,13:89.85,14:83.6,15:79.55,16:74.8,17:70.65,18:67.05,19:63.85,20:61.05,21:58.65,22:56.5,23:54.6,24:52.9,25:51.4,26:50.05},
  50:{12:97.8,13:90.45,14:84.2,15:80.15,16:75.45,17:71.35,18:67.75,19:64.6,20:61.8,21:59.45,22:57.3,23:55.45,24:53.75,25:52.3}
};

const pwbRates = {
    5:{1:1.7,2:1.7,3:1.85,4:2.1,5:2.45,6:3.1,7:4.1},
    6:{1:1.8,2:1.85,3:1.95,4:2.25,5:2.7,6:3.55,7:4.8},
    7:{1:1.9,2:1.9,3:2.1,4:2.4,5:2.95,6:4,7:5.55},
    8:{1:1.95,2:2,3:2.2,4:2.6,5:3.25,6:4.5,7:6.3},
    9:{1:2,2:2.1,3:2.3,4:2.8,5:3.6,6:5,7:7.05},
    10:{1:2.2,2:2.25,3:2.55,4:3.1,5:4.05,6:5.75,7:8.15},
    11:{1:2.25,2:2.4,3:2.65,4:3.3,5:4.4,6:6.35,7:9},
    12:{1:2.3,2:2.45,3:2.8,4:3.5,5:4.8,6:6.9,7:9.85},
    13:{1:2.45,2:2.55,3:2.95,4:3.75,5:5.15,6:7.5,7:10.7},
    14:{1:2.5,2:2.7,3:3.1,4:4,5:5.55,6:8.15,7:11.6},
    15:{1:2.6,2:2.8,3:3.3,4:4.35,5:6.1,6:8.9,7:12.75},
    16:{1:2.7,2:2.9,3:3.5,4:4.6,5:6.5,6:9.55,7:13.7},
    17:{1:2.8,2:3.05,3:3.65,4:4.9,5:7,6:10.25,7:14.7}
};

const termRiderRates = {
    18:{12:1.83,13:1.83,14:1.83,15:1.83,16:1.83,17:1.83,18:1.83,19:1.83,20:1.83,21:1.83,22:1.83,23:1.83,24:1.83,25:1.83,26:1.83,27:1.83,28:1.86,29:1.89,30:1.93,31:1.97,32:2.01,33:2.06,34:2.11,35:2.16},
    19:{12:1.84,13:1.84,14:1.84,15:1.84,16:1.84,17:1.84,18:1.84,19:1.84,20:1.84,21:1.84,22:1.84,23:1.84,24:1.84,25:1.84,26:1.85,27:1.88,28:1.92,29:1.96,30:2,31:2.04,32:2.09,33:2.15,34:2.2,35:2.26},
    20:{12:1.85,13:1.85,14:1.85,15:1.85,16:1.85,17:1.85,18:1.85,19:1.85,20:1.85,21:1.85,22:1.85,23:1.85,24:1.85,25:1.87,26:1.91,27:1.94,28:1.98,29:2.03,30:2.08,31:2.13,32:2.19,33:2.25,34:2.31,35:2.38},
    21:{12:1.85,13:1.85,14:1.85,15:1.85,16:1.85,17:1.85,18:1.85,19:1.85,20:1.85,21:1.85,22:1.85,23:1.86,24:1.9,25:1.93,26:1.97,27:2.01,28:2.06,29:2.11,30:2.17,31:2.23,32:2.29,33:2.36,34:2.43,35:2.5},
    22:{12:1.85,13:1.85,14:1.85,15:1.85,16:1.85,17:1.85,18:1.85,19:1.85,20:1.85,21:1.85,22:1.88,23:1.92,24:1.96,25:2,26:2.05,27:2.1,28:2.15,29:2.21,30:2.27,31:2.34,32:2.41,33:2.48,34:2.56,35:2.64},
    23:{12:1.85,13:1.85,14:1.85,15:1.85,16:1.85,17:1.85,18:1.85,19:1.85,20:1.88,21:1.91,22:1.95,23:1.99,24:2.03,25:2.08,26:2.13,27:2.19,28:2.25,29:2.32,30:2.39,31:2.47,32:2.54,33:2.63,34:2.71,35:2.8},
    24:{12:1.85,13:1.85,14:1.85,15:1.85,16:1.85,17:1.85,18:1.87,19:1.9,20:1.94,21:1.98,22:2.02,23:2.07,24:2.12,25:2.18,26:2.24,27:2.3,28:2.37,29:2.45,30:2.53,31:2.61,32:2.7,33:2.79,34:2.88,35:2.97},
    25:{12:1.86,13:1.86,14:1.86,15:1.86,16:1.87,17:1.9,18:1.93,19:1.97,20:2.01,21:2.06,22:2.11,23:2.16,24:2.22,25:2.29,26:2.36,27:2.43,28:2.51,29:2.59,30:2.68,31:2.78,32:2.87,33:2.97,34:3.06,35:3.16},
    26:{12:1.87,13:1.87,14:1.87,15:1.9,16:1.93,17:1.97,18:2.01,19:2.05,20:2.1,21:2.15,22:2.21,23:2.27,24:2.34,25:2.42,26:2.5,27:2.58,28:2.67,29:2.76,30:2.86,31:2.96,32:3.06,33:3.17,34:3.27,35:3.37},
    27:{12:1.89,13:1.89,14:1.9,15:1.97,16:2.01,17:2.05,18:2.1,19:2.15,20:2.21,21:2.27,22:2.33,23:2.4,24:2.48,25:2.57,26:2.66,27:2.75,28:2.85,29:2.95,30:3.06,31:3.17,32:3.28,33:3.39,34:3.5,35:3.61},
    28:{12:1.92,13:1.95,14:1.98,15:2.06,16:2.1,17:2.15,18:2.2,19:2.26,20:2.33,21:2.4,22:2.47,23:2.56,24:2.64,25:2.74,26:2.84,27:2.95,28:3.05,29:3.17,30:3.28,31:3.4,32:3.51,33:3.63,34:3.75,35:3.86},
    29:{12:1.99,13:2.03,14:2.08,15:2.16,16:2.21,17:2.26,18:2.33,19:2.39,20:2.47,21:2.55,22:2.64,23:2.73,24:2.83,25:2.94,26:3.05,27:3.16,28:3.28,29:3.4,30:3.53,31:3.65,32:3.77,33:3.89,34:4.02,35:4.14},
    30:{12:2.09,13:2.13,14:2.18,15:2.27,16:2.33,17:2.4,18:2.47,19:2.55,20:2.63,21:2.73,22:2.83,23:2.93,24:3.04,25:3.16,26:3.28,27:3.41,28:3.54,29:3.67,30:3.8,31:3.93,32:4.06,33:4.19,34:4.32,35:4.45},
    31:{12:2.2,13:2.25,14:2.31,15:2.41,16:2.48,17:2.55,18:2.63,19:2.72,20:2.82,21:2.93,22:3.04,23:3.16,24:3.28,25:3.41,26:3.55,27:3.68,28:3.82,29:3.95,30:4.09,31:4.23,32:4.37,33:4.5,34:4.64,35:4.78},
    32:{12:2.33,13:2.39,14:2.45,15:2.56,16:2.64,17:2.73,18:2.83,19:2.93,20:3.04,21:3.16,22:3.29,23:3.42,24:3.55,25:3.69,26:3.84,27:3.98,28:4.13,29:4.27,30:4.42,31:4.56,32:4.71,33:4.85,34:5,35:5.14},
    33:{12:2.47,13:2.54,14:2.62,15:2.74,16:2.83,17:2.94,18:3.04,19:3.16,20:3.29,21:3.42,22:3.56,23:3.71,24:3.85,25:4.01,26:4.16,27:4.31,28:4.46,29:4.62,30:4.77,31:4.92,32:5.07,33:5.23,34:5.38,35:5.54},
    34:{12:2.64,13:2.72,14:2.81,15:2.95,16:3.06,17:3.17,18:3.3,19:3.43,20:3.57,21:3.72,22:3.87,23:4.03,24:4.19,25:4.35,26:4.51,27:4.67,28:4.83,29:4.99,30:5.15,31:5.31,32:5.48,33:5.64,34:5.8,35:5.97},
    35:{12:2.83,13:2.92,14:3.03,15:3.19,16:3.31,17:3.44,18:3.58,19:3.73,20:3.89,21:4.05,22:4.21,23:4.38,24:4.55,25:4.72,26:4.89,27:5.06,28:5.23,29:5.4,30:5.57,31:5.74,32:5.91,33:6.09,34:6.26,35:6.44},
    36:{12:3.05,13:3.16,14:3.28,15:3.46,16:3.6,17:3.75,18:3.9,19:4.07,20:4.24,21:4.41,22:4.59,23:4.77,24:4.95,25:5.13,26:5.31,27:5.49,28:5.67,29:5.85,30:6.02,31:6.21,32:6.39,33:6.57,34:6.76,35:6.95},
    37:{12:3.3,13:3.43,14:3.56,15:3.77,16:3.92,17:4.09,18:4.26,19:4.45,20:4.63,21:4.82,22:5.01,23:5.2,24:5.39,25:5.57,26:5.76,27:5.95,28:6.14,29:6.33,30:6.52,31:6.71,32:6.91,33:7.1,34:7.3,35:7.5},
    38:{12:3.59,13:3.74,14:3.89,15:4.12,16:4.29,17:4.48,18:4.67,19:4.86,20:5.06,21:5.26,22:5.46,23:5.66,24:5.86,25:6.06,26:6.26,27:6.45,28:6.65,29:6.85,30:7.06,31:7.26,32:7.47,33:7.68,34:7.89,35:8.11},
    39:{12:3.93,13:4.09,14:4.26,15:4.52,16:4.71,17:4.91,18:5.12,19:5.32,20:5.53,21:5.74,22:5.95,23:6.16,24:6.37,25:6.58,26:6.79,27:7,28:7.21,29:7.42,30:7.64,31:7.86,32:8.08,33:8.3,34:8.53,35:8.76},
    40:{12:4.31,13:4.49,14:4.68,15:4.96,16:5.17,17:5.39,18:5.61,19:5.83,20:6.05,21:6.27,22:6.49,23:6.71,24:6.93,25:7.15,26:7.37,27:7.59,28:7.82,29:8.04,30:8.27,31:8.51,32:8.74,33:8.98,34:9.23,35:9.47},
    41:{12:4.74,13:4.94,14:5.15,15:5.46,16:5.69,17:5.92,18:6.15,19:6.38,20:6.61,21:6.84,22:7.07,23:7.3,24:7.54,25:7.77,26:8,27:8.24,28:8.48,29:8.72,30:8.97,31:9.21,32:9.47,33:9.72,34:9.98,35:0},
    42:{12:5.2,13:5.43,14:5.66,15:5.99,16:6.23,17:6.48,18:6.72,19:6.96,20:7.21,21:7.45,22:7.69,23:7.93,24:8.18,25:8.42,26:8.67,27:8.92,28:9.18,29:9.44,30:9.7,31:9.97,32:10.24,33:10.51,34:0,35:0},
    43:{12:5.72,13:5.97,14:6.22,15:6.57,16:6.83,17:7.08,18:7.34,19:7.59,20:7.85,21:8.1,22:8.36,23:8.61,24:8.87,25:9.13,26:9.4,27:9.67,28:9.94,29:10.22,30:10.5,31:10.79,32:11.07,33:0,34:0,35:0},
    44:{12:6.3,13:6.56,14:6.83,15:7.21,16:7.48,17:7.74,18:8.01,19:8.27,20:8.54,21:8.81,22:9.08,23:9.35,24:9.62,25:9.9,26:10.19,27:10.47,28:10.77,29:11.07,30:11.37,31:11.67,32:0,33:0,34:0,35:0},
    45:{12:6.94,13:7.21,14:7.49,15:7.9,16:8.18,17:8.45,18:8.73,19:9.01,20:9.29,21:9.57,22:9.85,23:10.14,24:10.44,25:10.74,26:11.04,27:11.35,28:11.66,29:11.98,30:12.31,31:0,32:0,33:0,34:0,35:0},
    46:{12:7.63,13:7.92,14:8.21,15:8.64,16:8.93,17:9.22,18:9.51,19:9.8,20:10.09,21:10.39,22:10.69,23:11,24:11.32,25:11.64,26:11.97,27:12.3,28:12.64,29:12.98,30:0,31:0,32:0,33:0,34:0,35:0},
    47:{12:8.38,13:8.68,14:8.99,15:9.44,16:9.74,17:10.04,18:10.34,19:10.65,20:10.96,21:11.28,22:11.6,23:11.93,24:12.27,25:12.62,26:12.97,27:13.32,28:13.68,29:0,30:0,31:0,32:0,33:0,34:0,35:0},
    48:{12:9.19,13:9.5,14:9.81,15:10.29,16:10.6,17:10.92,18:11.24,19:11.56,20:11.89,21:12.23,22:12.58,23:12.94,24:13.3,25:13.67,26:14.05,27:14.43,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},
    49:{12:10.05,13:10.37,14:10.69,15:11.19,16:11.52,17:11.85,18:12.19,19:12.54,20:12.9,21:13.26,22:13.63,23:14.02,24:14.41,25:14.81,26:15.21,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},
    50:{12:10.95,13:11.28,14:11.62,15:12.15,16:12.5,17:12.85,18:13.21,19:13.59,20:13.97,21:14.36,22:14.76,23:15.18,24:15.6,25:16.03,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0}
};

const modalFactors = { yly:1, hly:0.5054, qly:0.2554, mly:0.08515 };
const gstFirst = 1.045;
const gstSecond = 1.0225;

function formatINR(val) {
    return "₹ " + Math.round(val).toLocaleString("en-IN");
}

// --- START: REPLACE YOUR EXISTING calculate() FUNCTION WITH THIS ---

function calculate() {
  const sa = parseInt(document.getElementById("sumAssured").value);
  const age = parseInt(document.getElementById("age").value);
  const term = parseInt(document.getElementById("term").value);
  const ppt = term; // In this plan, PPT = Term
  document.getElementById("ppt").value = ppt + " Years";

  // Get the state of the new AD&DB checkbox
  const isAddbChecked = document.getElementById("addb_checkbox").checked;

  const rate = premiumRates[age]?.[term];
  if (!rate) {
    document.getElementById("results").innerHTML = `<p style="color:red; text-align:center;">No rate available for this Age/Term combination.</p>`;
    return;
  }

  // 1. Base premium
  let basePrem = (sa/1000) * rate;


  // 2. SA rebate (MODIFIED to have different rates with and without AD&DB)
  let saRebateRate = 0;
  if (isAddbChecked) {
      // --- Rebate rates WHEN AD&DB IS SELECTED (Original Rates) ---
      if (sa >= 1000000) {
          saRebateRate = 4.0815;
      } else if (sa >= 500000) {
          saRebateRate = 2.550;
      }
  } else {
      // --- <<< SET YOUR NEW REBATE RATES HERE WHEN AD&DB IS NOT SELECTED >>> ---
      if (sa >= 1000000) {
          saRebateRate = 4.0815; // Example: New rate for SA >= 10 Lakh
      } else if (sa >= 500000) {
          saRebateRate = 2.550; // Example: New rate for SA >= 5 Lakh
      }
  }
  let saRebate = (sa/1000) * saRebateRate;
  let afterSaRebate = basePrem - saRebate;

  // 3. Mode rebate (2% on yearly)
  let yearlyPrem = afterSaRebate - (afterSaRebate * 0.02);

  // 4. AD&DB Rider Premium Calculation
  let addbPremium = 0; // Default to 0
  if (isAddbChecked) {
      if (age >= 18) {
          // Calculate AD&DB only if age is 18 or over and checkbox is ticked
          addbPremium = (Math.min(sa, 10000000) / 1000) * 1.0;
      } else {
          // Optional: alert the user if they check the box for an invalid age
          alert("AD&DB Rider is only available for ages 18 and above.");
          document.getElementById("addb_checkbox").checked = false; // Uncheck the box
      }
  }
  
  // 5. Calculate Net Annual Premium
  let netAnnual = yearlyPrem + addbPremium;

  // 6. Modal + GST Calculations
  const result = {};
  for (let m of ["yly","hly","qly","mly"]) {
    let modalPrem = netAnnual * modalFactors[m];
    result[m] = {
      first: formatINR(modalPrem * gstFirst),
      second: formatINR(modalPrem * gstSecond)
    }
  }

  // --- Updated results display to show the AD&DB premium clearly ---
  document.getElementById("results").innerHTML = `
  <h2>Premium Summary</h2>
  <table>
      <tr>
          <td>Annual Base Premium (After Rebates)</td>
          <td style="font-weight:bold;">${formatINR(yearlyPrem)}</td>
      </tr>
      <tr>
          <td>Annual AD&DB Rider Premium</td>
          <td style="font-weight:bold;">${formatINR(addbPremium)}</td>
      </tr>
      <tr style="background:#e8f5e9;">
          <th>Net Annual Premium (Before GST)</th>
          <th>${formatINR(netAnnual)}</th>
      </tr>
  </table>

  <h3 style="text-align:center; margin-top:20px;">Final Modal Premiums (Inclusive of GST)</h3>
  <table>
    <tr><th>Mode</th><th>1st Year Premium</th><th>2nd Year Onwards</th></tr>
    <tr><td>Yearly</td><td>${result.yly.first}</td><td>${result.yly.second}</td></tr>
    <tr><td>Half-Yearly</td><td>${result.hly.first}</td><td>${result.hly.second}</td></tr>
    <tr><td>Quarterly</td><td>${result.qly.first}</td><td>${result.qly.second}</td></tr>
    <tr><td>Monthly</td><td>${result.mly.first}</td><td>${result.mly.second}</td></tr>
  </table>`;
}

// --- END: REPLACE YOUR EXISTING calculate() FUNCTION ---

// --- LOGIC FOR RIDERS AND MODAL ---

const modal = document.getElementById('premium-modal');
const modalTitle = document.getElementById('modal-title');
const modalBody = document.getElementById('modal-body');
const closeModalBtn = document.querySelector('.modal-close-btn');

function showModal(title, bodyHtml) {
    modalTitle.innerHTML = title;
    modalBody.innerHTML = bodyHtml;
    modal.style.display = 'flex';
}

function hideModal() {
    modal.style.display = 'none';
}

closeModalBtn.addEventListener('click', hideModal);
window.addEventListener('click', (event) => {
    if (event.target === modal) {
        hideModal();
    }
});

// --- PWB RIDER LOGIC ---

// --- START: REPLACE THIS BLOCK IN YOUR SCRIPT ---

// --- PWB RIDER LOGIC (CORRECTED) ---

function getPwbTier(proposerAge) {
    if (proposerAge >= 18 && proposerAge <= 25) return 1;
    if (proposerAge >= 26 && proposerAge <= 30) return 2;
    if (proposerAge >= 31 && proposerAge <= 35) return 3;
    if (proposerAge >= 36 && proposerAge <= 40) return 4;
    if (proposerAge >= 41 && proposerAge <= 45) return 5;
    if (proposerAge >= 46 && proposerAge <= 50) return 6;
    if (proposerAge >= 51 && proposerAge <= 55) return 7;
    return null; // Age is out of the valid range
}

document.getElementById('pwb-premium-btn').addEventListener('click', () => {
    // This function now only shows the pop-up to ask for the proposer's age
    const title = 'PWB Premium Calculator';
    const bodyHtml = `
        <label for="proposerAge" style="display:block; margin-bottom:10px; font-weight:bold;">Enter Proposer's Age (18-55)</label>
        <input type="number" id="proposerAge" style="width: 100%; padding: 10px; margin-bottom: 20px; box-sizing: border-box;" min="18" max="55" />
        <button onclick="calculatePwbFromModal()" class="premium-btn" style="width:100%;">Calculate PWB Premium</button>
    `;
    showModal(title, bodyHtml);
});

// --- START: Replace your existing PWB function with this corrected version ---

function calculatePwbFromModal() {
    const proposerAgeInput = document.getElementById('proposerAge');
    if (!proposerAgeInput) return; // safety check
    
    const proposerAge = parseInt(proposerAgeInput.value);
    const term = parseInt(document.getElementById("term").value);
    const sa = parseInt(document.getElementById("sumAssured").value);
    
    // 1. Validate Proposer Age input
    if (isNaN(proposerAge) || proposerAge < 18 || proposerAge > 55) {
        showModal('Error', '<p style="color:red;">Please enter a valid Proposer Age between 18 and 55.</p>');
        return;
    }
    
    // 2. Validate Term against available PWB rates
    if (!pwbRates.hasOwnProperty(term)) {
        showModal('PWB Premium Not Available', `<p style="color:red;">PWB rider is not available for a policy term of <b>${term} years</b>.<br><small>(This rider is only available for terms between 5 and 17)</small></p>`);
        return;
    }

    const tier = getPwbTier(proposerAge);
    const pwbRate = pwbRates[term]?.[tier];

    // 3. Validate the age tier for the given term
    if (!pwbRate) {
        showModal('PWB Premium Not Available', '<p style="color:red;">PWB rate is not available for this Proposer Age.</p>');
        return;
    }

    // 4. Calculate the premium with the fixed charge
    const variablePremium = (sa / 1000) * pwbRate;
    const pwbPremium = variablePremium + 0; // Correct formula: Variable Premium + Fixed Rider Charge
    
    // 5. Display the result
    const resultHtml = `
        <p style="font-size: 1.5em; font-weight: bold; color: #333;">
            Yearly Premium: ${formatINR(pwbPremium)}
        </p>
        <small>(Excluding Tax & Rebates)</small>
    `;
    showModal('Standalone PWB Premium', resultHtml);
}

// --- END: Replace your existing PWB function ---
// --- END: REPLACE THIS BLOCK IN YOUR SCRIPT --- 


// --- TERM RIDER LOGIC ---

// --- START: REPLACE THE EXISTING TERM RIDER LOGIC WITH THIS BLOCK ---

document.getElementById('term-rider-premium-btn').addEventListener('click', () => {
    // This function now only builds and shows the pop-up to get the Term Rider SA
    const baseSa = parseInt(document.getElementById("sumAssured").value);
    
    const title = 'Term Rider Premium Calculator';
    const bodyHtml = `
        <label for="termRiderSA" style="display:block; margin-bottom:10px; font-weight:bold;">Enter Term Rider Sum Assured</label>
        <p style="font-size:0.8em; color:#555; margin-top:0;">(Cannot exceed the Base Sum Assured of ${formatINR(baseSa)})</p>
        <input type="number" id="termRiderSA" style="width: 100%; padding: 10px; margin-bottom: 20px; box-sizing: border-box;" value="${baseSa}" />
        <button onclick="calculateTermRiderFromModal()" class="premium-btn" style="width:100%;">Calculate Term Rider Premium</button>
    `;
    showModal(title, bodyHtml);
});

function calculateTermRiderFromModal() {
    // Get all necessary values
    const age = parseInt(document.getElementById("age").value);
    const term = parseInt(document.getElementById("term").value);
    const baseSumAssured = parseInt(document.getElementById("sumAssured").value);
    const termRiderSA_Input = document.getElementById('termRiderSA');
    
    if (!termRiderSA_Input) return; // Safety check
    
    const termRiderSumAssured = parseInt(termRiderSA_Input.value);

    // --- Validation ---
    if (isNaN(termRiderSumAssured) || termRiderSumAssured <= 0) {
        showModal('Error', '<p style="color:red;">Please enter a valid Term Rider Sum Assured.</p>');
        return;
    }
    
    if (termRiderSumAssured > baseSumAssured) {
        const errorMessage = `
            <p style="color:red; font-weight:bold;">Term Rider Sum Assured cannot be greater than the Base Sum Assured.</p>
            <p style="color:red;">Please enter a value less than or equal to ${formatINR(baseSumAssured)}.</p>
        `;
        showModal('Validation Error', errorMessage);
        return;
    }

    // --- Calculation ---
    const termRiderRate = termRiderRates[age]?.[term];
    
    if (!termRiderRate || termRiderRate === 0) {
        showModal('Term Rider Premium', '<p style="color:red;">Term Rider is not available for this Age/Term combination.</p>');
        return;
    }

        const variablePremium = (termRiderSumAssured / 1000) * termRiderRate;
    const termRiderPremium = variablePremium + 0; // Correct formula: Variable Premium + Fixed Rider Charge
    const termRiderPremiumWithGst = termRiderPremium * 1.18; // Adding 18% GST

    // --- Display Result ---
    const resultHtml = `
        <p style="font-size: 1.5em; font-weight: bold; color: #333;">
            Yearly Premium: ${formatINR(termRiderPremiumWithGst)}
        </p>
        <small>(For a Term Rider Sum Assured of ${formatINR(termRiderSumAssured)}, inclusive of 18% GST)</small>
    `;
    showModal('Standalone Term Rider Premium', resultHtml);
}

// --- END: REPLACE THE EXISTING TERM RIDER LOGIC ---

</script>

<div style="margin-top: 20px; font-size: 0.9em; color: #555; text-align: center;">
  <strong>Disclaimer:</strong> The premium amounts calculated here are for indicative purposes only. Actual premiums may vary based on LIC’s official rates, underwriting guidelines, and policy terms. Please consult an authorized LIC agent or branch for the exact premium payable.
</div>

</body>
</html>```