<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>LIC Surrender Value Calculator - Jeevan Tarun (734)</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background-color: #f4f7f6; display: flex; justify-content: center; padding: 20px; }
    .container { background-color: #ffffff; padding: 30px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); width: 100%; max-width: 600px; }
    h2 { text-align: center; color: #003366; margin-top: 0; border-bottom: 2px solid #ffd700; padding-bottom: 10px; }
    .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px 20px; margin-bottom: 20px; }
    .grid .full-width { grid-column: 1 / -1; }
    label { font-weight: 500; color: #333; display: block; margin-bottom: 5px; }
    input, select { width: 100%; padding: 9px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
    input:read-only, input:disabled { background-color: #e9ecef; cursor: not-allowed; }
    button { width: 100%; padding: 12px; background-color: #003366; color: white; border: none; border-radius: 4px; font-size: 16px; font-weight: bold; cursor: pointer; transition: background-color 0.2s; }
    button:hover { background-color: #0055a4; }
    .output { margin-top: 25px; padding: 20px; border-top: 2px solid #003366; background-color: #f9f9f9; border-radius: 5px; }
    .output h3 { text-align: center; margin: 0; font-size: 24px; color: #003366; }
    .output-details { font-size: 14px; color: #555; text-align: center; margin-top: 10px; }
    .error-message { color: #D8000C; background-color: #FFD2D2; padding: 10px; border-radius: 5px; margin-bottom: 15px; text-align: center; display: none; }
  </style>
</head>
<body>

<div class="container">
    <h2>Surrender Value Calculator (Jeevan Tarun - 734)</h2>
    <div id="error-message" class="error-message"></div>
    <form id="sv-form">
        <div class="grid">
            <!-- MANUAL INPUTS -->
            <div class="full-width">
                <label for="doc">Date of Commencement</label>
                <input type="date" id="doc" required>
            </div>
            <div>
                <label for="ageAtEntry">Child's Age at Entry (0-12)</label>
                <input type="number" id="ageAtEntry" placeholder="e.g., 5" min="0" max="12" required>
            </div>
            <div>
                <label for="sa">Sum Assured</label>
                <input type="number" id="sa" placeholder="e.g., 500000" required>
            </div>
            <div class="full-width">
                <label for="survival-option">Survival Benefit Option</label>
                <select id="survival-option" required>
                    <option value="1">Option 1 (0% SB, 100% Maturity)</option>
                    <option value="2">Option 2 (5% SB, 75% Maturity)</option>
                    <option value="3">Option 3 (10% SB, 50% Maturity)</option>
                    <option value="4">Option 4 (15% SB, 25% Maturity)</option>
                </select>
            </div>
             <div class="full-width">
                <label for="annualPremium">Annual Premium</label>
                <input type="number" id="annualPremium" placeholder="e.g., 25000" required>
            </div>
            <div class="full-width">
                <label for="bonusRate">Assumed Bonus Rate (per 1000)</label>
                <input type="number" id="bonusRate" step="0.1" placeholder="e.g., 40" required>
            </div>

            <!-- AUTO-POPULATED FIELDS -->
            <div class="full-width" style="border-top: 1px dashed #ccc; padding-top: 15px; margin-top: 10px;">
                <label>Policy Term</label> <input type="text" id="policyTerm-auto" disabled>
            </div>
             <div>
                <label>Premium Paying Term</label> <input type="text" id="ppt-auto" disabled>
            </div>
            <div>
                <label>Current Policy Year</label> <input type="number" id="policyYear-auto" disabled>
            </div>
             <div>
                <label>Child's Current Age</label> <input type="number" id="currentAge-auto" disabled>
            </div>
             <div>
                <label>Total Bonus Accrued</label> <input type="text" id="totalBonus-auto" disabled>
            </div>
            <div>
                <label>Survival Benefits Paid</label> <input type="text" id="sbPaid-auto" disabled>
            </div>
             <div class="full-width">
                <label>Total Premiums Paid</label> <input type="text" id="premiumsPaid-auto" disabled>
            </div>
        </div>

        <button type="submit">Calculate Surrender Value</button>
    </form>

    <div class="output" id="result"></div>
</div>

<script>
    // ====================================================================
    // --- PASTE YOUR JSON DATA ARRAYS IN THESE SECTIONS ---
    // ====================================================================
    const gsv_p_data = [
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0,
        "T23": 0.0,
        "T24": 0.0,
        "T25": 0.0,
        "Term": 1
    },
    {
        "T13": 0.3,
        "T14": 0.3,
        "T15": 0.3,
        "T16": 0.3,
        "T17": 0.3,
        "T18": 0.3,
        "T19": 0.3,
        "T20": 0.3,
        "T21": 0.3,
        "T22": 0.3,
        "T23": 0.3,
        "T24": 0.3,
        "T25": 0.3,
        "Term": 2
    },
    {
        "T13": 0.35,
        "T14": 0.35,
        "T15": 0.35,
        "T16": 0.35,
        "T17": 0.35,
        "T18": 0.35,
        "T19": 0.35,
        "T20": 0.35,
        "T21": 0.35,
        "T22": 0.35,
        "T23": 0.35,
        "T24": 0.35,
        "T25": 0.35,
        "Term": 3
    },
    {
        "T13": 0.5,
        "T14": 0.5,
        "T15": 0.5,
        "T16": 0.5,
        "T17": 0.5,
        "T18": 0.5,
        "T19": 0.5,
        "T20": 0.5,
        "T21": 0.5,
        "T22": 0.5,
        "T23": 0.5,
        "T24": 0.5,
        "T25": 0.5,
        "Term": 4
    },
    {
        "T13": 0.5,
        "T14": 0.5,
        "T15": 0.5,
        "T16": 0.5,
        "T17": 0.5,
        "T18": 0.5,
        "T19": 0.5,
        "T20": 0.5,
        "T21": 0.5,
        "T22": 0.5,
        "T23": 0.5,
        "T24": 0.5,
        "T25": 0.5,
        "Term": 5
    },
    {
        "T13": 0.5,
        "T14": 0.5,
        "T15": 0.5,
        "T16": 0.5,
        "T17": 0.5,
        "T18": 0.5,
        "T19": 0.5,
        "T20": 0.5,
        "T21": 0.5,
        "T22": 0.5,
        "T23": 0.5,
        "T24": 0.5,
        "T25": 0.5,
        "Term": 6
    },
    {
        "T13": 0.5,
        "T14": 0.5,
        "T15": 0.5,
        "T16": 0.5,
        "T17": 0.5,
        "T18": 0.5,
        "T19": 0.5,
        "T20": 0.5,
        "T21": 0.5,
        "T22": 0.5,
        "T23": 0.5,
        "T24": 0.5,
        "T25": 0.5,
        "Term": 7
    },
    {
        "T13": 0.56,
        "T14": 0.55,
        "T15": 0.5429,
        "T16": 0.5375,
        "T17": 0.5333,
        "T18": 0.53,
        "T19": 0.5273,
        "T20": 0.525,
        "T21": 0.5231,
        "T22": 0.5214,
        "T23": 0.52,
        "T24": 0.5188,
        "T25": 0.5176,
        "Term": 8
    },
    {
        "T13": 0.62,
        "T14": 0.6,
        "T15": 0.5857,
        "T16": 0.575,
        "T17": 0.5667,
        "T18": 0.56,
        "T19": 0.5545,
        "T20": 0.55,
        "T21": 0.5462,
        "T22": 0.5429,
        "T23": 0.54,
        "T24": 0.5375,
        "T25": 0.5353,
        "Term": 9
    },
    {
        "T13": 0.68,
        "T14": 0.65,
        "T15": 0.6286,
        "T16": 0.6125,
        "T17": 0.6,
        "T18": 0.59,
        "T19": 0.5818,
        "T20": 0.575,
        "T21": 0.5692,
        "T22": 0.5643,
        "T23": 0.56,
        "T24": 0.5563,
        "T25": 0.5529,
        "Term": 10
    },
    {
        "T13": 0.74,
        "T14": 0.7,
        "T15": 0.6714,
        "T16": 0.65,
        "T17": 0.6333,
        "T18": 0.62,
        "T19": 0.6091,
        "T20": 0.6,
        "T21": 0.5923,
        "T22": 0.5857,
        "T23": 0.58,
        "T24": 0.575,
        "T25": 0.5706,
        "Term": 11
    },
    {
        "T13": 0.9,
        "T14": 0.75,
        "T15": 0.7143,
        "T16": 0.6875,
        "T17": 0.6667,
        "T18": 0.65,
        "T19": 0.6364,
        "T20": 0.625,
        "T21": 0.6154,
        "T22": 0.6071,
        "T23": 0.6,
        "T24": 0.5938,
        "T25": 0.5882,
        "Term": 12
    },
    {
        "T13": 0.9,
        "T14": 0.9,
        "T15": 0.7571,
        "T16": 0.725,
        "T17": 0.7,
        "T18": 0.68,
        "T19": 0.6636,
        "T20": 0.65,
        "T21": 0.6385,
        "T22": 0.6286,
        "T23": 0.62,
        "T24": 0.6125,
        "T25": 0.6059,
        "Term": 13
    },
    {
        "T13": null,
        "T14": 0.9,
        "T15": 0.9,
        "T16": 0.7625,
        "T17": 0.7333,
        "T18": 0.71,
        "T19": 0.6909,
        "T20": 0.675,
        "T21": 0.6615,
        "T22": 0.65,
        "T23": 0.64,
        "T24": 0.6313,
        "T25": 0.6235,
        "Term": 14
    },
    {
        "T13": null,
        "T14": null,
        "T15": 0.9,
        "T16": 0.9,
        "T17": 0.7667,
        "T18": 0.74,
        "T19": 0.7182,
        "T20": 0.7,
        "T21": 0.6846,
        "T22": 0.6714,
        "T23": 0.66,
        "T24": 0.65,
        "T25": 0.6412,
        "Term": 15
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": 0.9,
        "T17": 0.9,
        "T18": 0.77,
        "T19": 0.7455,
        "T20": 0.725,
        "T21": 0.7077,
        "T22": 0.6929,
        "T23": 0.68,
        "T24": 0.6688,
        "T25": 0.6588,
        "Term": 16
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": 0.9,
        "T18": 0.9,
        "T19": 0.7727,
        "T20": 0.75,
        "T21": 0.7308,
        "T22": 0.7143,
        "T23": 0.7,
        "T24": 0.6875,
        "T25": 0.6765,
        "Term": 17
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": 0.9,
        "T19": 0.9,
        "T20": 0.775,
        "T21": 0.7538,
        "T22": 0.7357,
        "T23": 0.72,
        "T24": 0.7063,
        "T25": 0.6941,
        "Term": 18
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": 0.9,
        "T20": 0.9,
        "T21": 0.7769,
        "T22": 0.7571,
        "T23": 0.74,
        "T24": 0.725,
        "T25": 0.7118,
        "Term": 19
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": 0.9,
        "T21": 0.9,
        "T22": 0.7786,
        "T23": 0.76,
        "T24": 0.7438,
        "T25": 0.7294,
        "Term": 20
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": 0.9,
        "T22": 0.9,
        "T23": 0.78,
        "T24": 0.7625,
        "T25": 0.7471,
        "Term": 21
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": 0.9,
        "T23": 0.9,
        "T24": 0.7813,
        "T25": 0.7647,
        "Term": 22
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": null,
        "T23": 0.9,
        "T24": 0.9,
        "T25": 0.7824,
        "Term": 23
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": null,
        "T23": null,
        "T24": 0.9,
        "T25": 0.9,
        "Term": 24
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": null,
        "T23": null,
        "T24": null,
        "T25": 0.9,
        "Term": 25
    }
];
    const gsv_b_data = [
    {
        "T13": "0",
        "T14": "0",
        "T15": "0",
        "T16": "0",
        "T17": "0",
        "T18": "0",
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0,
        "T23": 0.0,
        "T24": 0.0,
        "T25": 0.0,
        "Term": 1
    },
    {
        "T13": "0",
        "T14": "0",
        "T15": "0",
        "T16": "0",
        "T17": "0",
        "T18": "0",
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0,
        "T23": 0.0,
        "T24": 0.0,
        "T25": 0.0,
        "Term": 2
    },
    {
        "T13": "0.1816",
        "T14": "0.1785",
        "T15": "0.1766",
        "T16": "0.1758",
        "T17": "0.1758",
        "T18": "0.1703",
        "T19": 0.1658,
        "T20": 0.1622,
        "T21": 0.1593,
        "T22": 0.1572,
        "T23": 0.1555,
        "T24": 0.1542,
        "T25": 0.1528,
        "Term": 3
    },
    {
        "T13": "0.186",
        "T14": "0.1816",
        "T15": "0.1785",
        "T16": "0.1766",
        "T17": "0.1758",
        "T18": "0.1758",
        "T19": 0.1703,
        "T20": 0.1658,
        "T21": 0.1622,
        "T22": 0.1593,
        "T23": 0.1572,
        "T24": 0.1555,
        "T25": 0.1542,
        "Term": 4
    },
    {
        "T13": "0.1918",
        "T14": "0.186",
        "T15": "0.1816",
        "T16": "0.1785",
        "T17": "0.1766",
        "T18": "0.1758",
        "T19": 0.1758,
        "T20": 0.1703,
        "T21": 0.1658,
        "T22": 0.1622,
        "T23": 0.1593,
        "T24": 0.1572,
        "T25": 0.1555,
        "Term": 5
    },
    {
        "T13": "0.1993",
        "T14": "0.1918",
        "T15": "0.186",
        "T16": "0.1816",
        "T17": "0.1785",
        "T18": "0.1766",
        "T19": 0.1758,
        "T20": 0.1758,
        "T21": 0.1703,
        "T22": 0.1658,
        "T23": 0.1622,
        "T24": 0.1593,
        "T25": 0.1572,
        "Term": 6
    },
    {
        "T13": "0.2085",
        "T14": "0.1993",
        "T15": "0.1918",
        "T16": "0.186",
        "T17": "0.1816",
        "T18": "0.1785",
        "T19": 0.1766,
        "T20": 0.1758,
        "T21": 0.1758,
        "T22": 0.1703,
        "T23": 0.1658,
        "T24": 0.1622,
        "T25": 0.1593,
        "Term": 7
    },
    {
        "T13": "0.2199",
        "T14": "0.2085",
        "T15": "0.1993",
        "T16": "0.1918",
        "T17": "0.186",
        "T18": "0.1816",
        "T19": 0.1785,
        "T20": 0.1766,
        "T21": 0.1758,
        "T22": 0.1758,
        "T23": 0.1703,
        "T24": 0.1658,
        "T25": 0.1622,
        "Term": 8
    },
    {
        "T13": "0.2338",
        "T14": "0.2199",
        "T15": "0.2085",
        "T16": "0.1993",
        "T17": "0.1918",
        "T18": "0.186",
        "T19": 0.1816,
        "T20": 0.1785,
        "T21": 0.1766,
        "T22": 0.1758,
        "T23": 0.1758,
        "T24": 0.1703,
        "T25": 0.1658,
        "Term": 9
    },
    {
        "T13": "0.2505",
        "T14": "0.2338",
        "T15": "0.2199",
        "T16": "0.2085",
        "T17": "0.1993",
        "T18": "0.1918",
        "T19": 0.186,
        "T20": 0.1816,
        "T21": 0.1785,
        "T22": 0.1766,
        "T23": 0.1758,
        "T24": 0.1758,
        "T25": 0.1703,
        "Term": 10
    },
    {
        "T13": "0.2706",
        "T14": "0.2505",
        "T15": "0.2338",
        "T16": "0.2199",
        "T17": "0.2085",
        "T18": "0.1993",
        "T19": 0.1918,
        "T20": 0.186,
        "T21": 0.1816,
        "T22": 0.1785,
        "T23": 0.1766,
        "T24": 0.1758,
        "T25": 0.1758,
        "Term": 11
    },
    {
        "T13": "0.3",
        "T14": "0.2706",
        "T15": "0.2505",
        "T16": "0.2338",
        "T17": "0.2199",
        "T18": "0.2085",
        "T19": 0.1993,
        "T20": 0.1918,
        "T21": 0.186,
        "T22": 0.1816,
        "T23": 0.1785,
        "T24": 0.1766,
        "T25": 0.1758,
        "Term": 12
    },
    {
        "T13": "0.35",
        "T14": "0.3",
        "T15": "0.2706",
        "T16": "0.2505",
        "T17": "0.2338",
        "T18": "0.2199",
        "T19": 0.2085,
        "T20": 0.1993,
        "T21": 0.1918,
        "T22": 0.186,
        "T23": 0.1816,
        "T24": 0.1785,
        "T25": 0.1766,
        "Term": 13
    },
    {
        "T13": null,
        "T14": "0.35",
        "T15": "0.3",
        "T16": "0.2706",
        "T17": "0.2505",
        "T18": "0.2338",
        "T19": 0.2199,
        "T20": 0.2085,
        "T21": 0.1993,
        "T22": 0.1918,
        "T23": 0.186,
        "T24": 0.1816,
        "T25": 0.1785,
        "Term": 14
    },
    {
        "T13": null,
        "T14": null,
        "T15": "0.35",
        "T16": "0.3",
        "T17": "0.2706",
        "T18": "0.2505",
        "T19": 0.2338,
        "T20": 0.2199,
        "T21": 0.2085,
        "T22": 0.1993,
        "T23": 0.1918,
        "T24": 0.186,
        "T25": 0.1816,
        "Term": 15
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": "0.35",
        "T17": "0.3",
        "T18": "0.2706",
        "T19": 0.2505,
        "T20": 0.2338,
        "T21": 0.2199,
        "T22": 0.2085,
        "T23": 0.1993,
        "T24": 0.1918,
        "T25": 0.186,
        "Term": 16
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": "0.35",
        "T18": "0.3",
        "T19": 0.2706,
        "T20": 0.2505,
        "T21": 0.2338,
        "T22": 0.2199,
        "T23": 0.2085,
        "T24": 0.1993,
        "T25": 0.1918,
        "Term": 17
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": "0.35",
        "T19": 0.3,
        "T20": 0.2706,
        "T21": 0.2505,
        "T22": 0.2338,
        "T23": 0.2199,
        "T24": 0.2085,
        "T25": 0.1993,
        "Term": 18
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": 0.35,
        "T20": 0.3,
        "T21": 0.2706,
        "T22": 0.2505,
        "T23": 0.2338,
        "T24": 0.2199,
        "T25": 0.2085,
        "Term": 19
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": 0.35,
        "T21": 0.3,
        "T22": 0.2706,
        "T23": 0.2505,
        "T24": 0.2338,
        "T25": 0.2199,
        "Term": 20
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": 0.35,
        "T22": 0.3,
        "T23": 0.2706,
        "T24": 0.2505,
        "T25": 0.2338,
        "Term": 21
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": 0.35,
        "T23": 0.3,
        "T24": 0.2706,
        "T25": 0.2505,
        "Term": 22
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": null,
        "T23": 0.35,
        "T24": 0.3,
        "T25": 0.2706,
        "Term": 23
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": null,
        "T23": null,
        "T24": 0.35,
        "T25": 0.3,
        "Term": 24
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": null,
        "T23": null,
        "T24": null,
        "T25": 0.35,
        "Term": 25
    }
];
    const gsv_ga_data = []; // Not applicable
    const ssv_f1_data = [
    {
        "T13": 0.0066,
        "T14": 0.0066,
        "T15": 0.0065,
        "T16": 0.0063,
        "T17": 0.006,
        "T18": 0.0058,
        "T19": 0.0055,
        "T20": 0.0053,
        "T21": 0.0051,
        "T22": 0.005,
        "T23": 0.0051,
        "T24": 0.0057,
        "T25": 0.0092,
        "Term": 1
    },
    {
        "T13": 0.0066,
        "T14": 0.0066,
        "T15": 0.0066,
        "T16": 0.0065,
        "T17": 0.0063,
        "T18": 0.006,
        "T19": 0.0058,
        "T20": 0.0055,
        "T21": 0.0053,
        "T22": 0.0051,
        "T23": 0.005,
        "T24": 0.0051,
        "T25": 0.0057,
        "Term": 2
    },
    {
        "T13": 0.0064,
        "T14": 0.0066,
        "T15": 0.0066,
        "T16": 0.0066,
        "T17": 0.0065,
        "T18": 0.0063,
        "T19": 0.006,
        "T20": 0.0058,
        "T21": 0.0055,
        "T22": 0.0053,
        "T23": 0.0051,
        "T24": 0.005,
        "T25": 0.0051,
        "Term": 3
    },
    {
        "T13": 0.0061,
        "T14": 0.0064,
        "T15": 0.0066,
        "T16": 0.0066,
        "T17": 0.0066,
        "T18": 0.0065,
        "T19": 0.0063,
        "T20": 0.006,
        "T21": 0.0058,
        "T22": 0.0055,
        "T23": 0.0053,
        "T24": 0.0051,
        "T25": 0.005,
        "Term": 4
    },
    {
        "T13": 0.0058,
        "T14": 0.0061,
        "T15": 0.0064,
        "T16": 0.0066,
        "T17": 0.0066,
        "T18": 0.0066,
        "T19": 0.0065,
        "T20": 0.0063,
        "T21": 0.006,
        "T22": 0.0058,
        "T23": 0.0055,
        "T24": 0.0053,
        "T25": 0.0051,
        "Term": 5
    },
    {
        "T13": 0.0053,
        "T14": 0.0058,
        "T15": 0.0061,
        "T16": 0.0064,
        "T17": 0.0066,
        "T18": 0.0066,
        "T19": 0.0066,
        "T20": 0.0065,
        "T21": 0.0063,
        "T22": 0.006,
        "T23": 0.0058,
        "T24": 0.0055,
        "T25": 0.0053,
        "Term": 6
    },
    {
        "T13": 0.0047,
        "T14": 0.0053,
        "T15": 0.0058,
        "T16": 0.0061,
        "T17": 0.0064,
        "T18": 0.0066,
        "T19": 0.0066,
        "T20": 0.0066,
        "T21": 0.0065,
        "T22": 0.0063,
        "T23": 0.006,
        "T24": 0.0058,
        "T25": 0.0055,
        "Term": 7
    },
    {
        "T13": 0.0041,
        "T14": 0.0047,
        "T15": 0.0053,
        "T16": 0.0058,
        "T17": 0.0061,
        "T18": 0.0064,
        "T19": 0.0066,
        "T20": 0.0066,
        "T21": 0.0066,
        "T22": 0.0065,
        "T23": 0.0063,
        "T24": 0.006,
        "T25": 0.0058,
        "Term": 8
    },
    {
        "T13": 0.0034,
        "T14": 0.0041,
        "T15": 0.0047,
        "T16": 0.0053,
        "T17": 0.0058,
        "T18": 0.0061,
        "T19": 0.0064,
        "T20": 0.0066,
        "T21": 0.0066,
        "T22": 0.0066,
        "T23": 0.0065,
        "T24": 0.0063,
        "T25": 0.006,
        "Term": 9
    },
    {
        "T13": 0.0027,
        "T14": 0.0034,
        "T15": 0.0041,
        "T16": 0.0047,
        "T17": 0.0053,
        "T18": 0.0058,
        "T19": 0.0061,
        "T20": 0.0064,
        "T21": 0.0066,
        "T22": 0.0066,
        "T23": 0.0066,
        "T24": 0.0065,
        "T25": 0.0063,
        "Term": 10
    },
    {
        "T13": 0.0018,
        "T14": 0.0027,
        "T15": 0.0034,
        "T16": 0.0041,
        "T17": 0.0047,
        "T18": 0.0053,
        "T19": 0.0058,
        "T20": 0.0061,
        "T21": 0.0064,
        "T22": 0.0066,
        "T23": 0.0066,
        "T24": 0.0066,
        "T25": 0.0065,
        "Term": 11
    },
    {
        "T13": 0.001,
        "T14": 0.0018,
        "T15": 0.0027,
        "T16": 0.0034,
        "T17": 0.0041,
        "T18": 0.0047,
        "T19": 0.0053,
        "T20": 0.0058,
        "T21": 0.0061,
        "T22": 0.0064,
        "T23": 0.0066,
        "T24": 0.0066,
        "T25": 0.0066,
        "Term": 12
    },
    {
        "T13": null,
        "T14": 0.001,
        "T15": 0.0018,
        "T16": 0.0027,
        "T17": 0.0034,
        "T18": 0.0041,
        "T19": 0.0047,
        "T20": 0.0053,
        "T21": 0.0058,
        "T22": 0.0061,
        "T23": 0.0064,
        "T24": 0.0066,
        "T25": 0.0066,
        "Term": 13
    },
    {
        "T13": null,
        "T14": null,
        "T15": 0.001,
        "T16": 0.0018,
        "T17": 0.0027,
        "T18": 0.0034,
        "T19": 0.0041,
        "T20": 0.0047,
        "T21": 0.0053,
        "T22": 0.0058,
        "T23": 0.0061,
        "T24": 0.0064,
        "T25": 0.0066,
        "Term": 14
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": 0.001,
        "T17": 0.0018,
        "T18": 0.0027,
        "T19": 0.0034,
        "T20": 0.0041,
        "T21": 0.0047,
        "T22": 0.0053,
        "T23": 0.0058,
        "T24": 0.0061,
        "T25": 0.0064,
        "Term": 15
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": 0.001,
        "T18": 0.0018,
        "T19": 0.0027,
        "T20": 0.0034,
        "T21": 0.0041,
        "T22": 0.0047,
        "T23": 0.0053,
        "T24": 0.0058,
        "T25": 0.0061,
        "Term": 16
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": 0.001,
        "T19": 0.0018,
        "T20": 0.0027,
        "T21": 0.0034,
        "T22": 0.0041,
        "T23": 0.0047,
        "T24": 0.0053,
        "T25": 0.0058,
        "Term": 17
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": 0.001,
        "T20": 0.0018,
        "T21": 0.0027,
        "T22": 0.0034,
        "T23": 0.0041,
        "T24": 0.0047,
        "T25": 0.0053,
        "Term": 18
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": 0.001,
        "T21": 0.0018,
        "T22": 0.0027,
        "T23": 0.0034,
        "T24": 0.0041,
        "T25": 0.0047,
        "Term": 19
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": 0.001,
        "T22": 0.0018,
        "T23": 0.0027,
        "T24": 0.0034,
        "T25": 0.0041,
        "Term": 20
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": 0.001,
        "T23": 0.0018,
        "T24": 0.0027,
        "T25": 0.0034,
        "Term": 21
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": null,
        "T23": 0.001,
        "T24": 0.0018,
        "T25": 0.0027,
        "Term": 22
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": null,
        "T23": null,
        "T24": 0.001,
        "T25": 0.0018,
        "Term": 23
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": null,
        "T23": null,
        "T24": null,
        "T25": 0.001,
        "Term": 24
    }
];
    const ssv_f2_data = [
    {
        "T13": 0.4066,
        "T14": 0.3774,
        "T15": 0.3503,
        "T16": 0.3252,
        "T17": 0.3019,
        "T18": 0.2803,
        "T19": 0.2602,
        "T20": 0.2416,
        "T21": 0.2243,
        "T22": 0.2082,
        "T23": 0.1933,
        "T24": 0.1793,
        "T25": 0.1658,
        "Term": 1
    },
    {
        "T13": 0.4381,
        "T14": 0.4066,
        "T15": 0.3774,
        "T16": 0.3503,
        "T17": 0.3252,
        "T18": 0.3019,
        "T19": 0.2803,
        "T20": 0.2602,
        "T21": 0.2416,
        "T22": 0.2243,
        "T23": 0.2082,
        "T24": 0.1933,
        "T25": 0.1793,
        "Term": 2
    },
    {
        "T13": 0.4721,
        "T14": 0.4381,
        "T15": 0.4066,
        "T16": 0.3774,
        "T17": 0.3503,
        "T18": 0.3252,
        "T19": 0.3019,
        "T20": 0.2803,
        "T21": 0.2602,
        "T22": 0.2416,
        "T23": 0.2243,
        "T24": 0.2082,
        "T25": 0.1933,
        "Term": 3
    },
    {
        "T13": 0.5088,
        "T14": 0.4721,
        "T15": 0.4381,
        "T16": 0.4066,
        "T17": 0.3774,
        "T18": 0.3503,
        "T19": 0.3252,
        "T20": 0.3019,
        "T21": 0.2803,
        "T22": 0.2602,
        "T23": 0.2416,
        "T24": 0.2243,
        "T25": 0.2082,
        "Term": 4
    },
    {
        "T13": 0.5484,
        "T14": 0.5088,
        "T15": 0.4721,
        "T16": 0.4381,
        "T17": 0.4066,
        "T18": 0.3774,
        "T19": 0.3503,
        "T20": 0.3252,
        "T21": 0.3019,
        "T22": 0.2803,
        "T23": 0.2602,
        "T24": 0.2416,
        "T25": 0.2243,
        "Term": 5
    },
    {
        "T13": 0.5911,
        "T14": 0.5484,
        "T15": 0.5088,
        "T16": 0.4721,
        "T17": 0.4381,
        "T18": 0.4066,
        "T19": 0.3774,
        "T20": 0.3503,
        "T21": 0.3252,
        "T22": 0.3019,
        "T23": 0.2803,
        "T24": 0.2602,
        "T25": 0.2416,
        "Term": 6
    },
    {
        "T13": 0.6372,
        "T14": 0.5911,
        "T15": 0.5484,
        "T16": 0.5088,
        "T17": 0.4721,
        "T18": 0.4381,
        "T19": 0.4066,
        "T20": 0.3774,
        "T21": 0.3503,
        "T22": 0.3252,
        "T23": 0.3019,
        "T24": 0.2803,
        "T25": 0.2602,
        "Term": 7
    },
    {
        "T13": 0.6869,
        "T14": 0.6372,
        "T15": 0.5911,
        "T16": 0.5484,
        "T17": 0.5088,
        "T18": 0.4721,
        "T19": 0.4381,
        "T20": 0.4066,
        "T21": 0.3774,
        "T22": 0.3503,
        "T23": 0.3252,
        "T24": 0.3019,
        "T25": 0.2803,
        "Term": 8
    },
    {
        "T13": 0.7405,
        "T14": 0.6869,
        "T15": 0.6372,
        "T16": 0.5911,
        "T17": 0.5484,
        "T18": 0.5088,
        "T19": 0.4721,
        "T20": 0.4381,
        "T21": 0.4066,
        "T22": 0.3774,
        "T23": 0.3503,
        "T24": 0.3252,
        "T25": 0.3019,
        "Term": 9
    },
    {
        "T13": 0.7982,
        "T14": 0.7405,
        "T15": 0.6869,
        "T16": 0.6372,
        "T17": 0.5911,
        "T18": 0.5484,
        "T19": 0.5088,
        "T20": 0.4721,
        "T21": 0.4381,
        "T22": 0.4066,
        "T23": 0.3774,
        "T24": 0.3503,
        "T25": 0.3252,
        "Term": 10
    },
    {
        "T13": 0.8605,
        "T14": 0.7982,
        "T15": 0.7405,
        "T16": 0.6869,
        "T17": 0.6372,
        "T18": 0.5911,
        "T19": 0.5484,
        "T20": 0.5088,
        "T21": 0.4721,
        "T22": 0.4381,
        "T23": 0.4066,
        "T24": 0.3774,
        "T25": 0.3503,
        "Term": 11
    },
    {
        "T13": 0.9276,
        "T14": 0.8605,
        "T15": 0.7982,
        "T16": 0.7405,
        "T17": 0.6869,
        "T18": 0.6372,
        "T19": 0.5911,
        "T20": 0.5484,
        "T21": 0.5088,
        "T22": 0.4721,
        "T23": 0.4381,
        "T24": 0.4066,
        "T25": 0.3774,
        "Term": 12
    },
    {
        "T13": null,
        "T14": 0.9276,
        "T15": 0.8605,
        "T16": 0.7982,
        "T17": 0.7405,
        "T18": 0.6869,
        "T19": 0.6372,
        "T20": 0.5911,
        "T21": 0.5484,
        "T22": 0.5088,
        "T23": 0.4721,
        "T24": 0.4381,
        "T25": 0.4066,
        "Term": 13
    },
    {
        "T13": null,
        "T14": null,
        "T15": 0.9276,
        "T16": 0.8605,
        "T17": 0.7982,
        "T18": 0.7405,
        "T19": 0.6869,
        "T20": 0.6372,
        "T21": 0.5911,
        "T22": 0.5484,
        "T23": 0.5088,
        "T24": 0.4721,
        "T25": 0.4381,
        "Term": 14
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": 0.9276,
        "T17": 0.8605,
        "T18": 0.7982,
        "T19": 0.7405,
        "T20": 0.6869,
        "T21": 0.6372,
        "T22": 0.5911,
        "T23": 0.5484,
        "T24": 0.5088,
        "T25": 0.4721,
        "Term": 15
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": 0.9276,
        "T18": 0.8605,
        "T19": 0.7982,
        "T20": 0.7405,
        "T21": 0.6869,
        "T22": 0.6372,
        "T23": 0.5911,
        "T24": 0.5484,
        "T25": 0.5088,
        "Term": 16
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": 0.9276,
        "T19": 0.8605,
        "T20": 0.7982,
        "T21": 0.7405,
        "T22": 0.6869,
        "T23": 0.6372,
        "T24": 0.5911,
        "T25": 0.5484,
        "Term": 17
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": 0.9276,
        "T20": 0.8605,
        "T21": 0.7982,
        "T22": 0.7405,
        "T23": 0.6869,
        "T24": 0.6372,
        "T25": 0.5911,
        "Term": 18
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": 0.9276,
        "T21": 0.8605,
        "T22": 0.7982,
        "T23": 0.7405,
        "T24": 0.6869,
        "T25": 0.6372,
        "Term": 19
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": 0.9276,
        "T22": 0.8605,
        "T23": 0.7982,
        "T24": 0.7405,
        "T25": 0.6869,
        "Term": 20
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": 0.9276,
        "T23": 0.8605,
        "T24": 0.7982,
        "T25": 0.7405,
        "Term": 21
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": null,
        "T23": 0.9276,
        "T24": 0.8605,
        "T25": 0.7982,
        "Term": 22
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": null,
        "T23": null,
        "T24": 0.9276,
        "T25": 0.8605,
        "Term": 23
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": null,
        "T23": null,
        "T24": null,
        "T25": 0.9276,
        "Term": 24
    }
];
    const ssv_f3_data = []; // Not applicable

    // =========================================================
    // --- SCRIPT LOGIC for JEEVAN TARUN (734) ---
    // =========================================================
    
    const formatCurrency = (num) => `â‚¹ ${num.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
    
    const triggerInputs = ['doc', 'ageAtEntry', 'sa', 'annualPremium', 'bonusRate', 'survival-option'];
    triggerInputs.forEach(id => document.getElementById(id).addEventListener('input', updateAutoFields));

    function updateAutoFields() {
        const doc = document.getElementById("doc").value;
        const ageAtEntry = parseInt(document.getElementById("ageAtEntry").value) || 0;
        const sa = parseFloat(document.getElementById("sa").value) || 0;
        const annualPremium = parseFloat(document.getElementById("annualPremium").value) || 0;
        const bonusRate = parseFloat(document.getElementById("bonusRate").value) || 0;
        const option = parseInt(document.getElementById("survival-option").value);
        
        if (!doc || isNaN(ageAtEntry)) return;
        
        const policyTerm = 25 - ageAtEntry;
        const ppt = 20 - ageAtEntry;
        document.getElementById('policyTerm-auto').value = `${policyTerm} Years`;
        document.getElementById('ppt-auto').value = `${ppt} Years`;

        const startDate = new Date(doc);
        const now = new Date();
        const diff = now.getTime() - startDate.getTime();
        const policyYear = Math.floor(diff / (1000 * 60 * 60 * 24 * 365.25));
        document.getElementById('policyYear-auto').value = policyYear;
        
        const currentAge = ageAtEntry + policyYear;
        document.getElementById('currentAge-auto').value = currentAge;
        
        const premiumsPaidYears = Math.min(policyYear, ppt);
        const totalPremiumsPaid = annualPremium * premiumsPaidYears;
        document.getElementById('premiumsPaid-auto').value = formatCurrency(totalPremiumsPaid);

        const totalBonus = (bonusRate * sa / 1000) * policyYear;
        document.getElementById('totalBonus-auto').value = formatCurrency(totalBonus);

        // --- Survival Benefit Calculation for Jeevan Tarun ---
        let sbRate = 0;
        if (option === 2) sbRate = 0.05;
        if (option === 3) sbRate = 0.10;
        if (option === 4) sbRate = 0.15;
        
        let survivalBenefitsPaid = 0;
        if (sbRate > 0) {
            for (let ageCheck = 20; ageCheck < 25; ageCheck++) {
                if (currentAge >= ageCheck) {
                    survivalBenefitsPaid += sbRate * sa;
                }
            }
        }
        document.getElementById('sbPaid-auto').value = formatCurrency(survivalBenefitsPaid);
    }
    
    document.getElementById('sv-form').addEventListener('submit', function(event) {
        event.preventDefault();
        calculateSurrenderValue();
    });

    function calculateSurrenderValue() {
        const resultDiv = document.getElementById("result");
        
        const ageAtEntry = parseInt(document.getElementById("ageAtEntry").value);
        const sa = parseFloat(document.getElementById("sa").value);
        const doc = document.getElementById("doc").value;
        const policyTerm = 25 - ageAtEntry;
        const ppt = 20 - ageAtEntry;
        const option = parseInt(document.getElementById("survival-option").value);

        if (!validateInputs(ageAtEntry, doc, sa)) return;

        const policyYear = parseInt(document.getElementById('policyYear-auto').value);
        const annualPremium = parseFloat(document.getElementById("annualPremium").value);
        const bonusRate = parseFloat(document.getElementById("bonusRate").value) || 0;
        const currentAge = ageAtEntry + policyYear;

        if (policyYear < 2) {
            displayError("Policy cannot be surrendered before 2 full years of premium payment.");
            return;
        }

        const premiumsPaidYears = Math.min(policyYear, ppt);
        const totalPremiumsPaid = annualPremium * premiumsPaidYears;
        const totalBonus = (bonusRate * sa / 1000) * policyYear;

        // Recalculate Survival Benefits Paid
        let sbRate = 0;
        if (option === 2) sbRate = 0.05;
        if (option === 3) sbRate = 0.10;
        if (option === 4) sbRate = 0.15;
        
        let survivalBenefitsPaid = 0;
        if (sbRate > 0) {
            for (let ageCheck = 20; ageCheck < 25; ageCheck++) {
                if (currentAge >= ageCheck) {
                    survivalBenefitsPaid += sbRate * sa;
                }
            }
        }

        // --- 1. Calculate GSV ---
        const netPremiumsPaidForGSV = totalPremiumsPaid - survivalBenefitsPaid;
        const gsvFactorP = getFactor(gsv_p_data, policyYear, policyTerm);
        const gsvFactorB = getFactor(gsv_b_data, policyYear, policyTerm);
        const gsv = (gsvFactorP * netPremiumsPaidForGSV) + (gsvFactorB * totalBonus);

        // --- 2. Calculate SSV ---
        const paidUpSA = (premiumsPaidYears / ppt) * (sa - survivalBenefitsPaid);
        const f1 = getFactor(ssv_f1_data, policyYear, policyTerm);
        const f2 = getFactor(ssv_f2_data, policyYear, policyTerm);
        const ssv = (f1 * paidUpSA) + (f2 * totalBonus);

        // --- 3. Final Surrender Value ---
        const surrenderValue = Math.max(gsv, ssv);

        resultDiv.innerHTML = `
            <h3>Total Surrender Value is:</h3>
            <h3 style="font-size: 28px;">${formatCurrency(surrenderValue)}</h3>
            <div class="output-details">
                (This is the higher of GSV & SSV)<br>
                GSV Calculated: ${formatCurrency(gsv)} | SSV Calculated: ${formatCurrency(ssv)}
            </div>
        `;
    }

    function validateInputs(age, doc, sa) {
        const errorDiv = document.getElementById("error-message");
        errorDiv.style.display = 'none';

        if (!doc || isNaN(age) || isNaN(sa)) {
            displayError("Please fill all required fields correctly.");
            return false;
        }
        if (age < 0 || age > 12) {
            displayError("Entry Age must be between 0 and 12 years.");
            return false;
        }
        return true;
    }

    function displayError(message) {
        const errorDiv = document.getElementById("error-message");
        errorDiv.textContent = message;
        errorDiv.style.display = 'block';
    }

    function getFactor(data, policyYear, term) {
        if (!data || data.length === 0) return 0;
        const row = data.find(item => item.Term === policyYear);
        if (!row) return 0;
        const factor = row[`T${term}`];
        return factor !== null && factor !== undefined ? parseFloat(factor) : 0;
    }
    
    updateAutoFields();
</script>

</body>
</html>