<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>LIC Surrender Value Calculator - Jeevan Lakshya (733)</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background-color: #f4f7f6; display: flex; justify-content: center; padding: 20px; }
    .container { background-color: #ffffff; padding: 30px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); width: 100%; max-width: 600px; }
    h2 { text-align: center; color: #003366; margin-top: 0; border-bottom: 2px solid #ffd700; padding-bottom: 10px; }
    .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px 20px; margin-bottom: 20px; }
    .grid .full-width { grid-column: 1 / -1; }
    label { font-weight: 500; color: #333; display: block; margin-bottom: 5px; }
    input, select { width: 100%; padding: 9px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
    input:read-only, input:disabled { background-color: #e9ecef; cursor: not-allowed; }
    button { width: 100%; padding: 12px; background-color: #003366; color: white; border: none; border-radius: 4px; font-size: 16px; font-weight: bold; cursor: pointer; transition: background-color 0.2s; }
    button:hover { background-color: #0055a4; }
    .output { margin-top: 25px; padding: 20px; border-top: 2px solid #003366; background-color: #f9f9f9; border-radius: 5px; }
    .output h3 { text-align: center; margin: 0; font-size: 24px; color: #003366; }
    .output-details { font-size: 14px; color: #555; text-align: center; margin-top: 10px; }
    .error-message { color: #D8000C; background-color: #FFD2D2; padding: 10px; border-radius: 5px; margin-bottom: 15px; text-align: center; display: none; }
  </style>
</head>
<body>

<div class="container">
    <h2>Surrender Value Calculator (Jeevan Lakshya - 733)</h2>
    <div id="error-message" class="error-message"></div>
    <form id="sv-form">
        <div class="grid">
            <!-- MANUAL INPUTS -->
            <div class="full-width">
                <label for="doc">Date of Commencement</label>
                <input type="date" id="doc" required>
            </div>
            <div>
                <label for="policyTerm">Policy Term (13-25 Years)</label>
                <input type="number" id="policyTerm" placeholder="e.g., 25" min="13" max="25" required>
            </div>
             <div>
                <label for="ppt">Premium Paying Term (Auto)</label>
                <input type="number" id="ppt" readonly>
            </div>
            <div>
                <label for="ageAtEntry">Age at Entry (18-50)</label>
                <input type="number" id="ageAtEntry" placeholder="e.g., 30" required>
            </div>
            <div>
                <label for="sa">Sum Assured</label>
                <input type="number" id="sa" placeholder="e.g., 500000" required>
            </div>
            <div class="full-width">
                <label for="annualPremium">Annual Premium</label>
                <input type="number" id="annualPremium" placeholder="e.g., 22000" required>
            </div>
            <div class="full-width">
                <label for="bonusRate">Assumed Bonus Rate (per 1000)</label>
                <input type="number" id="bonusRate" step="0.1" placeholder="e.g., 49" required>
            </div>

            <!-- AUTO-POPULATED FIELDS -->
            <div class="full-width" style="border-top: 1px dashed #ccc; padding-top: 15px; margin-top: 10px;">
                <label>Current Policy Year</label>
                <input type="number" id="policyYear-auto" disabled>
            </div>
            <div>
                <label>Total Bonus Accrued</label>
                <input type="text" id="totalBonus-auto" disabled>
            </div>
            <div>
                <label>Total Premiums Paid</label>
                <input type="text" id="premiumsPaid-auto" disabled>
            </div>
        </div>

        <button type="submit">Calculate Surrender Value</button>
    </form>

    <div class="output" id="result"></div>
</div>

<script>
    // ====================================================================
    // --- PASTE YOUR JSON DATA ARRAYS IN THESE SECTIONS ---
    // If a plan doesn't have a factor (e.g., no GA), you can leave the array empty.
    // ====================================================================
    const gsv_p_data = [
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0,
        "T23": 0.0,
        "T24": 0.0,
        "T25": 0.0,
        "Term": 1
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0,
        "T23": 0.0,
        "T24": 0.0,
        "T25": 0.0,
        "Term": 2
    },
    {
        "T13": 0.3,
        "T14": 0.3,
        "T15": 0.3,
        "T16": 0.3,
        "T17": 0.3,
        "T18": 0.3,
        "T19": 0.3,
        "T20": 0.3,
        "T21": 0.3,
        "T22": 0.3,
        "T23": 0.3,
        "T24": 0.3,
        "T25": 0.3,
        "Term": 3
    },
    {
        "T13": 0.5,
        "T14": 0.5,
        "T15": 0.5,
        "T16": 0.5,
        "T17": 0.5,
        "T18": 0.5,
        "T19": 0.5,
        "T20": 0.5,
        "T21": 0.5,
        "T22": 0.5,
        "T23": 0.5,
        "T24": 0.5,
        "T25": 0.5,
        "Term": 4
    },
    {
        "T13": 0.5,
        "T14": 0.5,
        "T15": 0.5,
        "T16": 0.5,
        "T17": 0.5,
        "T18": 0.5,
        "T19": 0.5,
        "T20": 0.5,
        "T21": 0.5,
        "T22": 0.5,
        "T23": 0.5,
        "T24": 0.5,
        "T25": 0.5,
        "Term": 5
    },
    {
        "T13": 0.5,
        "T14": 0.5,
        "T15": 0.5,
        "T16": 0.5,
        "T17": 0.5,
        "T18": 0.5,
        "T19": 0.5,
        "T20": 0.5,
        "T21": 0.5,
        "T22": 0.5,
        "T23": 0.5,
        "T24": 0.5,
        "T25": 0.5,
        "Term": 6
    },
    {
        "T13": 0.5,
        "T14": 0.5,
        "T15": 0.5,
        "T16": 0.5,
        "T17": 0.5,
        "T18": 0.5,
        "T19": 0.5,
        "T20": 0.5,
        "T21": 0.5,
        "T22": 0.5,
        "T23": 0.5,
        "T24": 0.5,
        "T25": 0.5,
        "Term": 7
    },
    {
        "T13": 0.56,
        "T14": 0.55,
        "T15": 0.54,
        "T16": 0.54,
        "T17": 0.53,
        "T18": 0.53,
        "T19": 0.53,
        "T20": 0.53,
        "T21": 0.52,
        "T22": 0.52,
        "T23": 0.52,
        "T24": 0.52,
        "T25": 0.52,
        "Term": 8
    },
    {
        "T13": 0.62,
        "T14": 0.6,
        "T15": 0.59,
        "T16": 0.58,
        "T17": 0.57,
        "T18": 0.56,
        "T19": 0.55,
        "T20": 0.55,
        "T21": 0.55,
        "T22": 0.54,
        "T23": 0.54,
        "T24": 0.54,
        "T25": 0.54,
        "Term": 9
    },
    {
        "T13": 0.68,
        "T14": 0.65,
        "T15": 0.63,
        "T16": 0.61,
        "T17": 0.6,
        "T18": 0.59,
        "T19": 0.58,
        "T20": 0.58,
        "T21": 0.57,
        "T22": 0.56,
        "T23": 0.56,
        "T24": 0.56,
        "T25": 0.55,
        "Term": 10
    },
    {
        "T13": 0.74,
        "T14": 0.7,
        "T15": 0.67,
        "T16": 0.65,
        "T17": 0.63,
        "T18": 0.62,
        "T19": 0.61,
        "T20": 0.6,
        "T21": 0.59,
        "T22": 0.59,
        "T23": 0.58,
        "T24": 0.58,
        "T25": 0.57,
        "Term": 11
    },
    {
        "T13": 0.8,
        "T14": 0.75,
        "T15": 0.71,
        "T16": 0.69,
        "T17": 0.67,
        "T18": 0.65,
        "T19": 0.64,
        "T20": 0.63,
        "T21": 0.62,
        "T22": 0.61,
        "T23": 0.6,
        "T24": 0.59,
        "T25": 0.59,
        "Term": 12
    },
    {
        "T13": 0.8,
        "T14": 0.8,
        "T15": 0.76,
        "T16": 0.73,
        "T17": 0.7,
        "T18": 0.68,
        "T19": 0.66,
        "T20": 0.65,
        "T21": 0.64,
        "T22": 0.63,
        "T23": 0.62,
        "T24": 0.61,
        "T25": 0.61,
        "Term": 13
    },
    {
        "T13": null,
        "T14": 0.8,
        "T15": 0.8,
        "T16": 0.76,
        "T17": 0.73,
        "T18": 0.71,
        "T19": 0.69,
        "T20": 0.68,
        "T21": 0.66,
        "T22": 0.65,
        "T23": 0.64,
        "T24": 0.63,
        "T25": 0.62,
        "Term": 14
    },
    {
        "T13": null,
        "T14": null,
        "T15": 0.8,
        "T16": 0.8,
        "T17": 0.77,
        "T18": 0.74,
        "T19": 0.72,
        "T20": 0.7,
        "T21": 0.68,
        "T22": 0.67,
        "T23": 0.66,
        "T24": 0.65,
        "T25": 0.64,
        "Term": 15
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": 0.8,
        "T17": 0.8,
        "T18": 0.77,
        "T19": 0.75,
        "T20": 0.73,
        "T21": 0.71,
        "T22": 0.69,
        "T23": 0.68,
        "T24": 0.67,
        "T25": 0.66,
        "Term": 16
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": 0.8,
        "T18": 0.8,
        "T19": 0.77,
        "T20": 0.75,
        "T21": 0.73,
        "T22": 0.71,
        "T23": 0.7,
        "T24": 0.69,
        "T25": 0.68,
        "Term": 17
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": 0.8,
        "T19": 0.8,
        "T20": 0.78,
        "T21": 0.75,
        "T22": 0.74,
        "T23": 0.72,
        "T24": 0.71,
        "T25": 0.69,
        "Term": 18
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": 0.8,
        "T20": 0.8,
        "T21": 0.78,
        "T22": 0.76,
        "T23": 0.74,
        "T24": 0.73,
        "T25": 0.71,
        "Term": 19
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": 0.8,
        "T21": 0.8,
        "T22": 0.78,
        "T23": 0.76,
        "T24": 0.74,
        "T25": 0.73,
        "Term": 20
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": 0.8,
        "T22": 0.8,
        "T23": 0.78,
        "T24": 0.76,
        "T25": 0.75,
        "Term": 21
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": 0.8,
        "T23": 0.8,
        "T24": 0.78,
        "T25": 0.76,
        "Term": 22
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": null,
        "T23": 0.8,
        "T24": 0.8,
        "T25": 0.78,
        "Term": 23
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": null,
        "T23": null,
        "T24": 0.8,
        "T25": 0.8,
        "Term": 24
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": null,
        "T23": null,
        "T24": null,
        "T25": 0.8,
        "Term": 25
    }
];
    const gsv_b_data = [
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0,
        "T23": 0.0,
        "T24": 0.0,
        "T25": 0.0,
        "Term": 1
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0,
        "T23": 0.0,
        "T24": 0.0,
        "T25": 0.0,
        "Term": 2
    },
    {
        "T13": 0.1816,
        "T14": 0.1785,
        "T15": 0.1766,
        "T16": 0.1758,
        "T17": 0.1758,
        "T18": 0.1703,
        "T19": 0.1658,
        "T20": 0.1622,
        "T21": 0.1593,
        "T22": 0.1572,
        "T23": 0.1555,
        "T24": 0.1542,
        "T25": 0.1528,
        "Term": 3
    },
    {
        "T13": 0.186,
        "T14": 0.1816,
        "T15": 0.1785,
        "T16": 0.1766,
        "T17": 0.1758,
        "T18": 0.1758,
        "T19": 0.1703,
        "T20": 0.1658,
        "T21": 0.1622,
        "T22": 0.1593,
        "T23": 0.1572,
        "T24": 0.1555,
        "T25": 0.1542,
        "Term": 4
    },
    {
        "T13": 0.1918,
        "T14": 0.186,
        "T15": 0.1816,
        "T16": 0.1785,
        "T17": 0.1766,
        "T18": 0.1758,
        "T19": 0.1758,
        "T20": 0.1703,
        "T21": 0.1658,
        "T22": 0.1622,
        "T23": 0.1593,
        "T24": 0.1572,
        "T25": 0.1555,
        "Term": 5
    },
    {
        "T13": 0.1993,
        "T14": 0.1918,
        "T15": 0.186,
        "T16": 0.1816,
        "T17": 0.1785,
        "T18": 0.1766,
        "T19": 0.1758,
        "T20": 0.1758,
        "T21": 0.1703,
        "T22": 0.1658,
        "T23": 0.1622,
        "T24": 0.1593,
        "T25": 0.1572,
        "Term": 6
    },
    {
        "T13": 0.2085,
        "T14": 0.1993,
        "T15": 0.1918,
        "T16": 0.186,
        "T17": 0.1816,
        "T18": 0.1785,
        "T19": 0.1766,
        "T20": 0.1758,
        "T21": 0.1758,
        "T22": 0.1703,
        "T23": 0.1658,
        "T24": 0.1622,
        "T25": 0.1593,
        "Term": 7
    },
    {
        "T13": 0.2199,
        "T14": 0.2085,
        "T15": 0.1993,
        "T16": 0.1918,
        "T17": 0.186,
        "T18": 0.1816,
        "T19": 0.1785,
        "T20": 0.1766,
        "T21": 0.1758,
        "T22": 0.1758,
        "T23": 0.1703,
        "T24": 0.1658,
        "T25": 0.1622,
        "Term": 8
    },
    {
        "T13": 0.2338,
        "T14": 0.2199,
        "T15": 0.2085,
        "T16": 0.1993,
        "T17": 0.1918,
        "T18": 0.186,
        "T19": 0.1816,
        "T20": 0.1785,
        "T21": 0.1766,
        "T22": 0.1758,
        "T23": 0.1758,
        "T24": 0.1703,
        "T25": 0.1658,
        "Term": 9
    },
    {
        "T13": 0.2505,
        "T14": 0.2338,
        "T15": 0.2199,
        "T16": 0.2085,
        "T17": 0.1993,
        "T18": 0.1918,
        "T19": 0.186,
        "T20": 0.1816,
        "T21": 0.1785,
        "T22": 0.1766,
        "T23": 0.1758,
        "T24": 0.1758,
        "T25": 0.1703,
        "Term": 10
    },
    {
        "T13": 0.2706,
        "T14": 0.2505,
        "T15": 0.2338,
        "T16": 0.2199,
        "T17": 0.2085,
        "T18": 0.1993,
        "T19": 0.1918,
        "T20": 0.186,
        "T21": 0.1816,
        "T22": 0.1785,
        "T23": 0.1766,
        "T24": 0.1758,
        "T25": 0.1758,
        "Term": 11
    },
    {
        "T13": 0.3,
        "T14": 0.2706,
        "T15": 0.2505,
        "T16": 0.2338,
        "T17": 0.2199,
        "T18": 0.2085,
        "T19": 0.1993,
        "T20": 0.1918,
        "T21": 0.186,
        "T22": 0.1816,
        "T23": 0.1785,
        "T24": 0.1766,
        "T25": 0.1758,
        "Term": 12
    },
    {
        "T13": 0.35,
        "T14": 0.3,
        "T15": 0.2706,
        "T16": 0.2505,
        "T17": 0.2338,
        "T18": 0.2199,
        "T19": 0.2085,
        "T20": 0.1993,
        "T21": 0.1918,
        "T22": 0.186,
        "T23": 0.1816,
        "T24": 0.1785,
        "T25": 0.1766,
        "Term": 13
    },
    {
        "T13": null,
        "T14": 0.35,
        "T15": 0.3,
        "T16": 0.2706,
        "T17": 0.2505,
        "T18": 0.2338,
        "T19": 0.2199,
        "T20": 0.2085,
        "T21": 0.1993,
        "T22": 0.1918,
        "T23": 0.186,
        "T24": 0.1816,
        "T25": 0.1785,
        "Term": 14
    },
    {
        "T13": null,
        "T14": null,
        "T15": 0.35,
        "T16": 0.3,
        "T17": 0.2706,
        "T18": 0.2505,
        "T19": 0.2338,
        "T20": 0.2199,
        "T21": 0.2085,
        "T22": 0.1993,
        "T23": 0.1918,
        "T24": 0.186,
        "T25": 0.1816,
        "Term": 15
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": 0.35,
        "T17": 0.3,
        "T18": 0.2706,
        "T19": 0.2505,
        "T20": 0.2338,
        "T21": 0.2199,
        "T22": 0.2085,
        "T23": 0.1993,
        "T24": 0.1918,
        "T25": 0.186,
        "Term": 16
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": 0.35,
        "T18": 0.3,
        "T19": 0.2706,
        "T20": 0.2505,
        "T21": 0.2338,
        "T22": 0.2199,
        "T23": 0.2085,
        "T24": 0.1993,
        "T25": 0.1918,
        "Term": 17
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": 0.35,
        "T19": 0.3,
        "T20": 0.2706,
        "T21": 0.2505,
        "T22": 0.2338,
        "T23": 0.2199,
        "T24": 0.2085,
        "T25": 0.1993,
        "Term": 18
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": 0.35,
        "T20": 0.3,
        "T21": 0.2706,
        "T22": 0.2505,
        "T23": 0.2338,
        "T24": 0.2199,
        "T25": 0.2085,
        "Term": 19
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": 0.35,
        "T21": 0.3,
        "T22": 0.2706,
        "T23": 0.2505,
        "T24": 0.2338,
        "T25": 0.2199,
        "Term": 20
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": 0.35,
        "T22": 0.3,
        "T23": 0.2706,
        "T24": 0.2505,
        "T25": 0.2338,
        "Term": 21
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": 0.35,
        "T23": 0.3,
        "T24": 0.2706,
        "T25": 0.2505,
        "Term": 22
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": null,
        "T23": 0.35,
        "T24": 0.3,
        "T25": 0.2706,
        "Term": 23
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": null,
        "T23": null,
        "T24": 0.35,
        "T25": 0.3,
        "Term": 24
    },
    {
        "T13": null,
        "T14": null,
        "T15": null,
        "T16": null,
        "T17": null,
        "T18": null,
        "T19": null,
        "T20": null,
        "T21": null,
        "T22": null,
        "T23": null,
        "T24": null,
        "T25": 0.35,
        "Term": 25
    }
];
    const gsv_ga_data = []; // Not applicable for this plan

    const ssv_f1_data = [
    {
        "T13": 0.1195,
        "T14": 0.1375,
        "T15": 0.1561,
        "T16": 0.1754,
        "T17": 0.1959,
        "T18": 0.2179,
        "T19": 0.2404,
        "T20": 0.2632,
        "T21": 0.2874,
        "T22": 0.3109,
        "T23": 0.3356,
        "T24": 0.3606,
        "T25": 0.3847,
        "Term": 1
    },
    {
        "T13": 0.1123,
        "T14": 0.1302,
        "T15": 0.1496,
        "T16": 0.1704,
        "T17": 0.1919,
        "T18": 0.2149,
        "T19": 0.2384,
        "T20": 0.2634,
        "T21": 0.2888,
        "T22": 0.3145,
        "T23": 0.3406,
        "T24": 0.367,
        "T25": 0.3936,
        "Term": 2
    },
    {
        "T13": 0.1034,
        "T14": 0.1225,
        "T15": 0.1425,
        "T16": 0.164,
        "T17": 0.1872,
        "T18": 0.2111,
        "T19": 0.2366,
        "T20": 0.2626,
        "T21": 0.2892,
        "T22": 0.3172,
        "T23": 0.3447,
        "T24": 0.3735,
        "T25": 0.4015,
        "Term": 3
    },
    {
        "T13": 0.0937,
        "T14": 0.113,
        "T15": 0.1341,
        "T16": 0.1562,
        "T17": 0.1801,
        "T18": 0.2057,
        "T19": 0.2321,
        "T20": 0.2601,
        "T21": 0.2887,
        "T22": 0.318,
        "T23": 0.3477,
        "T24": 0.3788,
        "T25": 0.4083,
        "Term": 4
    },
    {
        "T13": 0.0826,
        "T14": 0.1025,
        "T15": 0.1238,
        "T16": 0.1471,
        "T17": 0.1723,
        "T18": 0.1986,
        "T19": 0.2267,
        "T20": 0.2556,
        "T21": 0.2862,
        "T22": 0.3176,
        "T23": 0.3496,
        "T24": 0.3821,
        "T25": 0.415,
        "Term": 5
    },
    {
        "T13": 0.071,
        "T14": 0.0907,
        "T15": 0.1126,
        "T16": 0.1361,
        "T17": 0.1623,
        "T18": 0.1899,
        "T19": 0.2195,
        "T20": 0.2502,
        "T21": 0.2827,
        "T22": 0.316,
        "T23": 0.3493,
        "T24": 0.384,
        "T25": 0.4194,
        "Term": 6
    },
    {
        "T13": 0.0583,
        "T14": 0.0779,
        "T15": 0.1,
        "T16": 0.124,
        "T17": 0.1504,
        "T18": 0.1797,
        "T19": 0.2098,
        "T20": 0.2428,
        "T21": 0.2762,
        "T22": 0.3114,
        "T23": 0.3476,
        "T24": 0.3846,
        "T25": 0.4214,
        "Term": 7
    },
    {
        "T13": 0.0459,
        "T14": 0.0644,
        "T15": 0.0863,
        "T16": 0.1105,
        "T17": 0.1373,
        "T18": 0.1667,
        "T19": 0.1986,
        "T20": 0.2328,
        "T21": 0.2685,
        "T22": 0.3056,
        "T23": 0.3437,
        "T24": 0.3829,
        "T25": 0.4228,
        "Term": 8
    },
    {
        "T13": 0.033,
        "T14": 0.0507,
        "T15": 0.0714,
        "T16": 0.0952,
        "T17": 0.1227,
        "T18": 0.1525,
        "T19": 0.1858,
        "T20": 0.2203,
        "T21": 0.2581,
        "T22": 0.2967,
        "T23": 0.3375,
        "T24": 0.3786,
        "T25": 0.4208,
        "Term": 9
    },
    {
        "T13": 0.021,
        "T14": 0.0367,
        "T15": 0.056,
        "T16": 0.0793,
        "T17": 0.1063,
        "T18": 0.1366,
        "T19": 0.1696,
        "T20": 0.2062,
        "T21": 0.245,
        "T22": 0.2857,
        "T23": 0.328,
        "T24": 0.3719,
        "T25": 0.4161,
        "Term": 10
    },
    {
        "T13": 0.0106,
        "T14": 0.0233,
        "T15": 0.0407,
        "T16": 0.0624,
        "T17": 0.0887,
        "T18": 0.1184,
        "T19": 0.1518,
        "T20": 0.1892,
        "T21": 0.2286,
        "T22": 0.2711,
        "T23": 0.3155,
        "T24": 0.3618,
        "T25": 0.4088,
        "Term": 11
    },
    {
        "T13": 0.003,
        "T14": 0.0118,
        "T15": 0.0259,
        "T16": 0.0454,
        "T17": 0.0696,
        "T18": 0.0989,
        "T19": 0.1321,
        "T20": 0.1692,
        "T21": 0.2101,
        "T22": 0.2538,
        "T23": 0.3001,
        "T24": 0.3477,
        "T25": 0.398,
        "Term": 12
    },
    {
        "T13": 0.0,
        "T14": 0.0033,
        "T15": 0.0133,
        "T16": 0.029,
        "T17": 0.0507,
        "T18": 0.0781,
        "T19": 0.1101,
        "T20": 0.1473,
        "T21": 0.1884,
        "T22": 0.2329,
        "T23": 0.2804,
        "T24": 0.3305,
        "T25": 0.3822,
        "Term": 13
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0037,
        "T16": 0.0147,
        "T17": 0.0327,
        "T18": 0.0567,
        "T19": 0.087,
        "T20": 0.1227,
        "T21": 0.1636,
        "T22": 0.2088,
        "T23": 0.2569,
        "T24": 0.3089,
        "T25": 0.3631,
        "Term": 14
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0042,
        "T17": 0.0165,
        "T18": 0.0365,
        "T19": 0.0634,
        "T20": 0.097,
        "T21": 0.1363,
        "T22": 0.181,
        "T23": 0.2303,
        "T24": 0.2829,
        "T25": 0.3389,
        "Term": 15
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0047,
        "T18": 0.0184,
        "T19": 0.0407,
        "T20": 0.0707,
        "T21": 0.1075,
        "T22": 0.1507,
        "T23": 0.1994,
        "T24": 0.2529,
        "T25": 0.3101,
        "Term": 16
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0053,
        "T19": 0.0206,
        "T20": 0.0451,
        "T21": 0.078,
        "T22": 0.1188,
        "T23": 0.1661,
        "T24": 0.2189,
        "T25": 0.2768,
        "Term": 17
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0059,
        "T20": 0.0227,
        "T21": 0.05,
        "T22": 0.086,
        "T23": 0.1304,
        "T24": 0.1815,
        "T25": 0.2389,
        "Term": 18
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0065,
        "T21": 0.0253,
        "T22": 0.0549,
        "T23": 0.0944,
        "T24": 0.1425,
        "T25": 0.1979,
        "Term": 19
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0072,
        "T22": 0.0276,
        "T23": 0.0599,
        "T24": 0.1027,
        "T25": 0.1546,
        "Term": 20
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0078,
        "T23": 0.0301,
        "T24": 0.065,
        "T25": 0.1114,
        "Term": 21
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0,
        "T23": 0.0085,
        "T24": 0.0326,
        "T25": 0.0702,
        "Term": 22
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0,
        "T23": 0.0,
        "T24": 0.0092,
        "T25": 0.0351,
        "Term": 23
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0,
        "T23": 0.0,
        "T24": 0.0,
        "T25": 0.0098,
        "Term": 24
    }
];
    const ssv_f2_data = [
    {
        "T13": 0.4111,
        "T14": 0.3817,
        "T15": 0.3544,
        "T16": 0.3291,
        "T17": 0.3056,
        "T18": 0.2838,
        "T19": 0.2635,
        "T20": 0.2447,
        "T21": 0.2272,
        "T22": 0.211,
        "T23": 0.1959,
        "T24": 0.182,
        "T25": 0.169,
        "Term": 1
    },
    {
        "T13": 0.4427,
        "T14": 0.4111,
        "T15": 0.3817,
        "T16": 0.3544,
        "T17": 0.3291,
        "T18": 0.3056,
        "T19": 0.2838,
        "T20": 0.2635,
        "T21": 0.2447,
        "T22": 0.2272,
        "T23": 0.211,
        "T24": 0.1959,
        "T25": 0.182,
        "Term": 2
    },
    {
        "T13": 0.4767,
        "T14": 0.4427,
        "T15": 0.4111,
        "T16": 0.3817,
        "T17": 0.3544,
        "T18": 0.3291,
        "T19": 0.3056,
        "T20": 0.2838,
        "T21": 0.2635,
        "T22": 0.2447,
        "T23": 0.2272,
        "T24": 0.211,
        "T25": 0.1959,
        "Term": 3
    },
    {
        "T13": 0.5134,
        "T14": 0.4767,
        "T15": 0.4427,
        "T16": 0.4111,
        "T17": 0.3817,
        "T18": 0.3544,
        "T19": 0.3291,
        "T20": 0.3056,
        "T21": 0.2838,
        "T22": 0.2635,
        "T23": 0.2447,
        "T24": 0.2272,
        "T25": 0.211,
        "Term": 4
    },
    {
        "T13": 0.5528,
        "T14": 0.5134,
        "T15": 0.4767,
        "T16": 0.4427,
        "T17": 0.4111,
        "T18": 0.3817,
        "T19": 0.3544,
        "T20": 0.3291,
        "T21": 0.3056,
        "T22": 0.2838,
        "T23": 0.2635,
        "T24": 0.2447,
        "T25": 0.2272,
        "Term": 5
    },
    {
        "T13": 0.5954,
        "T14": 0.5528,
        "T15": 0.5134,
        "T16": 0.4767,
        "T17": 0.4427,
        "T18": 0.4111,
        "T19": 0.3817,
        "T20": 0.3544,
        "T21": 0.3291,
        "T22": 0.3056,
        "T23": 0.2838,
        "T24": 0.2635,
        "T25": 0.2447,
        "Term": 6
    },
    {
        "T13": 0.6411,
        "T14": 0.5954,
        "T15": 0.5528,
        "T16": 0.5134,
        "T17": 0.4767,
        "T18": 0.4427,
        "T19": 0.4111,
        "T20": 0.3817,
        "T21": 0.3544,
        "T22": 0.3291,
        "T23": 0.3056,
        "T24": 0.2838,
        "T25": 0.2635,
        "Term": 7
    },
    {
        "T13": 0.6904,
        "T14": 0.6411,
        "T15": 0.5954,
        "T16": 0.5528,
        "T17": 0.5134,
        "T18": 0.4767,
        "T19": 0.4427,
        "T20": 0.4111,
        "T21": 0.3817,
        "T22": 0.3544,
        "T23": 0.3291,
        "T24": 0.3056,
        "T25": 0.2838,
        "Term": 8
    },
    {
        "T13": 0.7435,
        "T14": 0.6904,
        "T15": 0.6411,
        "T16": 0.5954,
        "T17": 0.5528,
        "T18": 0.5134,
        "T19": 0.4767,
        "T20": 0.4427,
        "T21": 0.4111,
        "T22": 0.3817,
        "T23": 0.3544,
        "T24": 0.3291,
        "T25": 0.3056,
        "Term": 9
    },
    {
        "T13": 0.8007,
        "T14": 0.7435,
        "T15": 0.6904,
        "T16": 0.6411,
        "T17": 0.5954,
        "T18": 0.5528,
        "T19": 0.5134,
        "T20": 0.4767,
        "T21": 0.4427,
        "T22": 0.4111,
        "T23": 0.3817,
        "T24": 0.3544,
        "T25": 0.3291,
        "Term": 10
    },
    {
        "T13": 0.8623,
        "T14": 0.8007,
        "T15": 0.7435,
        "T16": 0.6904,
        "T17": 0.6411,
        "T18": 0.5954,
        "T19": 0.5528,
        "T20": 0.5134,
        "T21": 0.4767,
        "T22": 0.4427,
        "T23": 0.4111,
        "T24": 0.3817,
        "T25": 0.3544,
        "Term": 11
    },
    {
        "T13": 0.9286,
        "T14": 0.8623,
        "T15": 0.8007,
        "T16": 0.7435,
        "T17": 0.6904,
        "T18": 0.6411,
        "T19": 0.5954,
        "T20": 0.5528,
        "T21": 0.5134,
        "T22": 0.4767,
        "T23": 0.4427,
        "T24": 0.4111,
        "T25": 0.3817,
        "Term": 12
    },
    {
        "T13": 0.0,
        "T14": 0.9286,
        "T15": 0.8623,
        "T16": 0.8007,
        "T17": 0.7435,
        "T18": 0.6904,
        "T19": 0.6411,
        "T20": 0.5954,
        "T21": 0.5528,
        "T22": 0.5134,
        "T23": 0.4767,
        "T24": 0.4427,
        "T25": 0.4111,
        "Term": 13
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.9286,
        "T16": 0.8623,
        "T17": 0.8007,
        "T18": 0.7435,
        "T19": 0.6904,
        "T20": 0.6411,
        "T21": 0.5954,
        "T22": 0.5528,
        "T23": 0.5134,
        "T24": 0.4767,
        "T25": 0.4427,
        "Term": 14
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.9286,
        "T17": 0.8623,
        "T18": 0.8007,
        "T19": 0.7435,
        "T20": 0.6904,
        "T21": 0.6411,
        "T22": 0.5954,
        "T23": 0.5528,
        "T24": 0.5134,
        "T25": 0.4767,
        "Term": 15
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.9286,
        "T18": 0.8623,
        "T19": 0.8007,
        "T20": 0.7435,
        "T21": 0.6904,
        "T22": 0.6411,
        "T23": 0.5954,
        "T24": 0.5528,
        "T25": 0.5134,
        "Term": 16
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.9286,
        "T19": 0.8623,
        "T20": 0.8007,
        "T21": 0.7435,
        "T22": 0.6904,
        "T23": 0.6411,
        "T24": 0.5954,
        "T25": 0.5528,
        "Term": 17
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.9286,
        "T20": 0.8623,
        "T21": 0.8007,
        "T22": 0.7435,
        "T23": 0.6904,
        "T24": 0.6411,
        "T25": 0.5954,
        "Term": 18
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.9286,
        "T21": 0.8623,
        "T22": 0.8007,
        "T23": 0.7435,
        "T24": 0.6904,
        "T25": 0.6411,
        "Term": 19
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.9286,
        "T22": 0.8623,
        "T23": 0.8007,
        "T24": 0.7435,
        "T25": 0.6904,
        "Term": 20
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.9286,
        "T23": 0.8623,
        "T24": 0.8007,
        "T25": 0.7435,
        "Term": 21
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0,
        "T23": 0.9286,
        "T24": 0.8623,
        "T25": 0.8007,
        "Term": 22
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0,
        "T23": 0.0,
        "T24": 0.9286,
        "T25": 0.8623,
        "Term": 23
    },
    {
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0,
        "T23": 0.0,
        "T24": 0.0,
        "T25": 0.9286,
        "Term": 24
    }
];
    const ssv_f3_data = []; // Not applicable for this plan

    // =========================================================
    // --- SCRIPT LOGIC for JEEVAN LAKSHYA (733) ---
    // =========================================================
    
    const formatCurrency = (num) => `₹ ${num.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
    
    const policyTermInput = document.getElementById('policyTerm');
    const pptInput = document.getElementById('ppt');

    function updatePpt() {
        const selectedTerm = parseInt(policyTermInput.value);
        if (!isNaN(selectedTerm) && selectedTerm >= 13 && selectedTerm <= 25) {
            pptInput.value = selectedTerm - 3;
        } else {
            pptInput.value = '';
        }
    }
    
    policyTermInput.addEventListener('input', updatePpt);

    const triggerInputs = ['doc', 'sa', 'annualPremium', 'bonusRate', 'policyTerm'];
    triggerInputs.forEach(id => {
        document.getElementById(id).addEventListener('input', updateAutoFields);
    });

    function updateAutoFields() {
        const doc = document.getElementById("doc").value;
        const sa = parseFloat(document.getElementById("sa").value) || 0;
        const annualPremium = parseFloat(document.getElementById("annualPremium").value) || 0;
        const bonusRate = parseFloat(document.getElementById("bonusRate").value) || 0;
        const ppt = parseInt(document.getElementById("ppt").value);

        if (!doc) return;

        const startDate = new Date(doc);
        const now = new Date();
        const diff = now.getTime() - startDate.getTime();
        const policyYear = Math.floor(diff / (1000 * 60 * 60 * 24 * 365.25));
        document.getElementById('policyYear-auto').value = policyYear;
        
        const premiumsPaidYears = Math.min(policyYear, ppt);
        const totalPremiumsPaid = annualPremium * premiumsPaidYears;
        document.getElementById('premiumsPaid-auto').value = formatCurrency(totalPremiumsPaid);

        const totalBonus = (bonusRate * sa / 1000) * policyYear;
        document.getElementById('totalBonus-auto').value = formatCurrency(totalBonus);
    }
    
    document.getElementById('sv-form').addEventListener('submit', function(event) {
        event.preventDefault();
        calculateSurrenderValue();
    });

    function calculateSurrenderValue() {
        const resultDiv = document.getElementById("result");
        
        const policyTerm = parseInt(document.getElementById("policyTerm").value);
        const ppt = parseInt(document.getElementById("ppt").value);
        const sa = parseFloat(document.getElementById("sa").value);
        const doc = document.getElementById("doc").value;
        const ageAtEntry = parseInt(document.getElementById("ageAtEntry").value);
        
        if (!validateInputs(ageAtEntry, policyTerm, doc, sa)) return;

        const policyYear = parseInt(document.getElementById('policyYear-auto').value);
        const annualPremium = parseFloat(document.getElementById("annualPremium").value);
        const bonusRate = parseFloat(document.getElementById("bonusRate").value) || 0;
        
        if (policyYear < 2) {
            displayError("Policy cannot be surrendered before 2 full years of premium payment.");
            return;
        }

        const premiumsPaidYears = Math.min(policyYear, ppt);
        const totalPremiumsPaid = annualPremium * premiumsPaidYears;
        const totalBonus = (bonusRate * sa / 1000) * policyYear;

        // --- 1. Calculate GSV ---
        const gsvFactorP = getFactor(gsv_p_data, policyYear, policyTerm);
        const gsvFactorB = getFactor(gsv_b_data, policyYear, policyTerm);
        const gsv = (gsvFactorP * totalPremiumsPaid) + (gsvFactorB * totalBonus);

        // --- 2. Calculate SSV ---
        const paidUpSA = (premiumsPaidYears / ppt) * sa;
        const f1 = getFactor(ssv_f1_data, policyYear, policyTerm);
        const f2 = getFactor(ssv_f2_data, policyYear, policyTerm);
        const ssv = (f1 * paidUpSA) + (f2 * totalBonus);

        // --- 3. Final Surrender Value ---
        const surrenderValue = Math.max(gsv, ssv);

        resultDiv.innerHTML = `
            <h3>Total Surrender Value is:</h3>
            <h3 style="font-size: 28px;">${formatCurrency(surrenderValue)}</h3>
            <div class="output-details">
                (This is the higher of GSV & SSV)<br>
                GSV Calculated: ${formatCurrency(gsv)} | SSV Calculated: ${formatCurrency(ssv)}
            </div>
        `;
    }

    function validateInputs(age, term, doc, sa) {
        const errorDiv = document.getElementById("error-message");
        errorDiv.style.display = 'none';

        if (!doc || isNaN(age) || isNaN(term) || isNaN(sa)) {
            displayError("Please fill all required fields correctly.");
            return false;
        }
        if (age < 18 || age > 50) {
            displayError("Entry Age must be between 18 and 50 years.");
            return false;
        }
         if (term < 13 || term > 25) {
            displayError("Policy Term must be between 13 and 25 years.");
            return false;
        }
        if (age + term > 65) {
            displayError(`Maturity Age (${age + term}) cannot exceed 65 years.`);
            return false;
        }
        return true;
    }

    function displayError(message) {
        const errorDiv = document.getElementById("error-message");
        errorDiv.textContent = message;
        errorDiv.style.display = 'block';
    }

    function getFactor(data, policyYear, term) {
        if (!data || data.length === 0) return 0;
        const row = data.find(item => item.Term === policyYear);
        if (!row) return 0;
        const factor = row[`T${term}`];
        return factor !== null && factor !== undefined ? parseFloat(factor) : 0;
    }
    
    // Initial setup on page load
    updatePpt();
    updateAutoFields();

</script>

</body>
</html>