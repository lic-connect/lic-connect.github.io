<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LIC Plan 774 - Amritbaal Surrender Value Calculator</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #6a11cb, #2575fc);
      color: #fff;
      margin: 0;
      padding: 30px;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .container {
      background: rgba(255, 255, 255, 0.1);
      padding: 30px 40px;
      border-radius: 15px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
      max-width: 500px;
      width: 100%;
      backdrop-filter: blur(10px);
    }
    h1 {
      text-align: center;
      margin-bottom: 25px;
      font-weight: 900;
      font-size: 1.9rem;
      text-shadow: 2px 2px 6px #0009;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: 600;
      font-size: 1rem;
    }
    input, select {
      width: 100%;
      padding: 10px 12px;
      margin-top: 6px;
      border-radius: 8px;
      border: none;
      font-size: 1rem;
      outline: none;
      box-sizing: border-box;
      color: #000;
    }
    input[type="date"] {
      color: #222;
    }
    button {
      margin-top: 25px;
      background: #ff6f61;
      border: none;
      width: 100%;
      padding: 14px 0;
      border-radius: 12px;
      font-weight: 700;
      font-size: 1.2rem;
      color: white;
      cursor: pointer;
      box-shadow: 0 5px 15px #ff6f61cc;
      transition: background 0.3s ease;
    }
    button:hover {
      background: #ff4a3d;
    }
    .result {
      margin-top: 30px;
      background: rgba(0, 0, 0, 0.3);
      padding: 20px;
      border-radius: 12px;
      font-size: 1.1rem;
      line-height: 1.6;
    }
    .result span {
      font-weight: 700;
      color: #ffcc00;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>LIC Amritbaal (774) Surrender Value Calculator</h1>

    <!-- Input Fields -->
    <label for="doc">Date of Commencement (DOC):</label>
    <input type="date" id="doc" />

    <label for="sumAssured">Sum Assured (₹):</label>
    <input type="number" id="sumAssured" min="200000" step="1000" value="200000" />

    <label for="policyTerm">Policy Term (years):</label>
    <select id="policyTerm" onchange="updatePPT()"></select>

    <label for="ppt">Premium Payment Term (PPT):</label>
    <select id="ppt"></select>

    <label for="mode">Mode of Payment:</label>
    <select id="mode">
      <option value="annual">Annual</option>
      <option value="semiAnnual">Semi-Annual</option>
      <option value="quarterly">Quarterly</option>
      <option value="monthly">Monthly</option>
    </select>

    <label for="entryAge">Age at Entry (years):</label>
    <input type="number" id="entryAge" min="0" max="13" value="0" />

    <label for="gaRate">GA Rate (per 1000 SA):</label>
    <input type="number" id="gaRate" step="0.0001" value="0.1758" />

    <label for="annualPremium">Annual Premium (₹):</label>
    <input type="number" id="annualPremium" min="0" step="1000" value="20000" />

    <label for="totalPremiumPaid">Total Premiums Paid (₹):</label>
    <input type="number" id="totalPremiumPaid" readonly />

    <label for="policyYear">Policy Year:</label>
    <input type="number" id="policyYear" readonly />

    <label for="accruedGA">Accrued Guaranteed Additions (₹):</label>
    <input type="number" id="accruedGA" readonly />

    <button onclick="calculateSurrenderValue()">Calculate Surrender Value</button>

    <!-- Output -->
    <div class="result" id="result" style="display:none;">
      <p>Total Guaranteed Additions (GA): <span id="totalGA">0</span> ₹</p>
      <p>Guaranteed Surrender Value (GSV): <span id="gsv">0</span> ₹</p>
      <p>Special Surrender Value (SSV): <span id="ssv">0</span> ₹</p>
      <p><strong>Total Surrender Value: <span id="totalSV">0</span> ₹</strong></p>
    </div>
  </div>

  <script>
    const gsvPremiumFactors =[
    {
        "T10": 0.0,
        "T11": 0.0,
        "T12": 0.0,
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0,
        "T23": 0.0,
        "T24": 0.0,
        "T25": 0.0,
        "Year": 1
    },
    {
        "T10": 0.3,
        "T11": 0.3,
        "T12": 0.3,
        "T13": 0.3,
        "T14": 0.3,
        "T15": 0.3,
        "T16": 0.3,
        "T17": 0.3,
        "T18": 0.3,
        "T19": 0.3,
        "T20": 0.3,
        "T21": 0.3,
        "T22": 0.3,
        "T23": 0.3,
        "T24": 0.3,
        "T25": 0.3,
        "Year": 2
    },
    {
        "T10": 0.35,
        "T11": 0.35,
        "T12": 0.35,
        "T13": 0.35,
        "T14": 0.35,
        "T15": 0.35,
        "T16": 0.35,
        "T17": 0.35,
        "T18": 0.35,
        "T19": 0.35,
        "T20": 0.35,
        "T21": 0.35,
        "T22": 0.35,
        "T23": 0.35,
        "T24": 0.35,
        "T25": 0.35,
        "Year": 3
    },
    {
        "T10": 0.5,
        "T11": 0.5,
        "T12": 0.5,
        "T13": 0.5,
        "T14": 0.5,
        "T15": 0.5,
        "T16": 0.5,
        "T17": 0.5,
        "T18": 0.5,
        "T19": 0.5,
        "T20": 0.5,
        "T21": 0.5,
        "T22": 0.5,
        "T23": 0.5,
        "T24": 0.5,
        "T25": 0.5,
        "Year": 4
    },
    {
        "T10": 0.5,
        "T11": 0.5,
        "T12": 0.5,
        "T13": 0.5,
        "T14": 0.5,
        "T15": 0.5,
        "T16": 0.5,
        "T17": 0.5,
        "T18": 0.5,
        "T19": 0.5,
        "T20": 0.5,
        "T21": 0.5,
        "T22": 0.5,
        "T23": 0.5,
        "T24": 0.5,
        "T25": 0.5,
        "Year": 5
    },
    {
        "T10": 0.5,
        "T11": 0.5,
        "T12": 0.5,
        "T13": 0.5,
        "T14": 0.5,
        "T15": 0.5,
        "T16": 0.5,
        "T17": 0.5,
        "T18": 0.5,
        "T19": 0.5,
        "T20": 0.5,
        "T21": 0.5,
        "T22": 0.5,
        "T23": 0.5,
        "T24": 0.5,
        "T25": 0.5,
        "Year": 6
    },
    {
        "T10": 0.5,
        "T11": 0.5,
        "T12": 0.5,
        "T13": 0.5,
        "T14": 0.5,
        "T15": 0.5,
        "T16": 0.5,
        "T17": 0.5,
        "T18": 0.5,
        "T19": 0.5,
        "T20": 0.5,
        "T21": 0.5,
        "T22": 0.5,
        "T23": 0.5,
        "T24": 0.5,
        "T25": 0.5,
        "Year": 7
    },
    {
        "T10": 0.65,
        "T11": 0.6,
        "T12": 0.575,
        "T13": 0.56,
        "T14": 0.55,
        "T15": 0.5429,
        "T16": 0.5375,
        "T17": 0.5333,
        "T18": 0.53,
        "T19": 0.5273,
        "T20": 0.525,
        "T21": 0.5231,
        "T22": 0.5214,
        "T23": 0.52,
        "T24": 0.5188,
        "T25": 0.5176,
        "Year": 8
    },
    {
        "T10": 0.9,
        "T11": 0.7,
        "T12": 0.65,
        "T13": 0.62,
        "T14": 0.6,
        "T15": 0.5857,
        "T16": 0.575,
        "T17": 0.5667,
        "T18": 0.56,
        "T19": 0.5545,
        "T20": 0.55,
        "T21": 0.5462,
        "T22": 0.5429,
        "T23": 0.54,
        "T24": 0.5375,
        "T25": 0.5353,
        "Year": 9
    },
    {
        "T10": 0.9,
        "T11": 0.9,
        "T12": 0.725,
        "T13": 0.68,
        "T14": 0.65,
        "T15": 0.6286,
        "T16": 0.6125,
        "T17": 0.6,
        "T18": 0.59,
        "T19": 0.5818,
        "T20": 0.575,
        "T21": 0.5692,
        "T22": 0.5643,
        "T23": 0.56,
        "T24": 0.5563,
        "T25": 0.5529,
        "Year": 10
    },
    {
        "T10": 1.0,
        "T11": 0.9,
        "T12": 0.9,
        "T13": 0.74,
        "T14": 0.7,
        "T15": 0.6714,
        "T16": 0.65,
        "T17": 0.6333,
        "T18": 0.62,
        "T19": 0.6091,
        "T20": 0.6,
        "T21": 0.5923,
        "T22": 0.5857,
        "T23": 0.58,
        "T24": 0.575,
        "T25": 0.5706,
        "Year": 11
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 0.9,
        "T13": 0.9,
        "T14": 0.75,
        "T15": 0.7143,
        "T16": 0.6875,
        "T17": 0.6667,
        "T18": 0.65,
        "T19": 0.6364,
        "T20": 0.625,
        "T21": 0.6154,
        "T22": 0.6071,
        "T23": 0.6,
        "T24": 0.5938,
        "T25": 0.5882,
        "Year": 12
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 0.9,
        "T14": 0.9,
        "T15": 0.7571,
        "T16": 0.725,
        "T17": 0.7,
        "T18": 0.68,
        "T19": 0.6636,
        "T20": 0.65,
        "T21": 0.6385,
        "T22": 0.6286,
        "T23": 0.62,
        "T24": 0.6125,
        "T25": 0.6059,
        "Year": 13
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 0.9,
        "T15": 0.9,
        "T16": 0.7625,
        "T17": 0.7333,
        "T18": 0.71,
        "T19": 0.6909,
        "T20": 0.675,
        "T21": 0.6615,
        "T22": 0.65,
        "T23": 0.64,
        "T24": 0.6313,
        "T25": 0.6235,
        "Year": 14
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 0.9,
        "T16": 0.9,
        "T17": 0.7667,
        "T18": 0.74,
        "T19": 0.7182,
        "T20": 0.7,
        "T21": 0.6846,
        "T22": 0.6714,
        "T23": 0.66,
        "T24": 0.65,
        "T25": 0.6412,
        "Year": 15
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 0.9,
        "T17": 0.9,
        "T18": 0.77,
        "T19": 0.7455,
        "T20": 0.725,
        "T21": 0.7077,
        "T22": 0.6929,
        "T23": 0.68,
        "T24": 0.6688,
        "T25": 0.6588,
        "Year": 16
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 0.9,
        "T18": 0.9,
        "T19": 0.7727,
        "T20": 0.75,
        "T21": 0.7308,
        "T22": 0.7143,
        "T23": 0.7,
        "T24": 0.6875,
        "T25": 0.6765,
        "Year": 17
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 1.0,
        "T18": 0.9,
        "T19": 0.9,
        "T20": 0.775,
        "T21": 0.7538,
        "T22": 0.7357,
        "T23": 0.72,
        "T24": 0.7063,
        "T25": 0.6941,
        "Year": 18
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 1.0,
        "T18": 1.0,
        "T19": 0.9,
        "T20": 0.9,
        "T21": 0.7769,
        "T22": 0.7571,
        "T23": 0.74,
        "T24": 0.725,
        "T25": 0.7118,
        "Year": 19
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 1.0,
        "T18": 1.0,
        "T19": 1.0,
        "T20": 0.9,
        "T21": 0.9,
        "T22": 0.7786,
        "T23": 0.76,
        "T24": 0.7438,
        "T25": 0.7294,
        "Year": 20
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 1.0,
        "T18": 1.0,
        "T19": 1.0,
        "T20": 1.0,
        "T21": 0.9,
        "T22": 0.9,
        "T23": 0.78,
        "T24": 0.7625,
        "T25": 0.7471,
        "Year": 21
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 1.0,
        "T18": 1.0,
        "T19": 1.0,
        "T20": 1.0,
        "T21": 1.0,
        "T22": 0.9,
        "T23": 0.9,
        "T24": 0.7813,
        "T25": 0.7647,
        "Year": 22
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 1.0,
        "T18": 1.0,
        "T19": 1.0,
        "T20": 1.0,
        "T21": 1.0,
        "T22": 1.0,
        "T23": 0.9,
        "T24": 0.9,
        "T25": 0.7824,
        "Year": 23
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 1.0,
        "T18": 1.0,
        "T19": 1.0,
        "T20": 1.0,
        "T21": 1.0,
        "T22": 1.0,
        "T23": 1.0,
        "T24": 0.9,
        "T25": 0.9,
        "Year": 24
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 1.0,
        "T18": 1.0,
        "T19": 1.0,
        "T20": 1.0,
        "T21": 1.0,
        "T22": 1.0,
        "T23": 1.0,
        "T24": 1.0,
        "T25": 0.9,
        "Year": 25
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 1.0,
        "T18": 1.0,
        "T19": 1.0,
        "T20": 1.0,
        "T21": 1.0,
        "T22": 1.0,
        "T23": 1.0,
        "T24": 1.0,
        "T25": 1.0,
        "Year": 26
    }
];

    const gsvGAFactors = [
    {
        "T10": 0.186,
        "T11": 0.1816,
        "T12": 0.1785,
        "T13": 0.1766,
        "T14": 0.1758,
        "T15": 0.1758,
        "T16": 0.1703,
        "T17": 0.1658,
        "T18": 0.1622,
        "T19": 0.1593,
        "T20": 0.1572,
        "T21": 0.1555,
        "T22": 0.1542,
        "T23": 0.1528,
        "T24": 0.1513,
        "T25": 0.1494,
        "T5": 0.2338,
        "T6": 0.2199,
        "T7": 0.2085,
        "T8": 0.1993,
        "T9": 0.1918,
        "Year": 1
    },
    {
        "T10": 0.1918,
        "T11": 0.186,
        "T12": 0.1816,
        "T13": 0.1785,
        "T14": 0.1766,
        "T15": 0.1758,
        "T16": 0.1758,
        "T17": 0.1703,
        "T18": 0.1658,
        "T19": 0.1622,
        "T20": 0.1593,
        "T21": 0.1572,
        "T22": 0.1555,
        "T23": 0.1542,
        "T24": 0.1528,
        "T25": 0.1513,
        "T5": 0.2505,
        "T6": 0.2338,
        "T7": 0.2199,
        "T8": 0.2085,
        "T9": 0.1993,
        "Year": 2
    },
    {
        "T10": 0.1993,
        "T11": 0.1918,
        "T12": 0.186,
        "T13": 0.1816,
        "T14": 0.1785,
        "T15": 0.1766,
        "T16": 0.1758,
        "T17": 0.1758,
        "T18": 0.1703,
        "T19": 0.1658,
        "T20": 0.1622,
        "T21": 0.1593,
        "T22": 0.1572,
        "T23": 0.1555,
        "T24": 0.1542,
        "T25": 0.1528,
        "T5": 0.2706,
        "T6": 0.2505,
        "T7": 0.2338,
        "T8": 0.2199,
        "T9": 0.2085,
        "Year": 3
    },
    {
        "T10": 0.2085,
        "T11": 0.1993,
        "T12": 0.1918,
        "T13": 0.186,
        "T14": 0.1816,
        "T15": 0.1785,
        "T16": 0.1766,
        "T17": 0.1758,
        "T18": 0.1758,
        "T19": 0.1703,
        "T20": 0.1658,
        "T21": 0.1622,
        "T22": 0.1593,
        "T23": 0.1572,
        "T24": 0.1555,
        "T25": 0.1542,
        "T5": 0.3,
        "T6": 0.2706,
        "T7": 0.2505,
        "T8": 0.2338,
        "T9": 0.2199,
        "Year": 4
    },
    {
        "T10": 0.2199,
        "T11": 0.2085,
        "T12": 0.1993,
        "T13": 0.1918,
        "T14": 0.186,
        "T15": 0.1816,
        "T16": 0.1785,
        "T17": 0.1766,
        "T18": 0.1758,
        "T19": 0.1758,
        "T20": 0.1703,
        "T21": 0.1658,
        "T22": 0.1622,
        "T23": 0.1593,
        "T24": 0.1572,
        "T25": 0.1555,
        "T5": 0.35,
        "T6": 0.3,
        "T7": 0.2706,
        "T8": 0.2505,
        "T9": 0.2338,
        "Year": 5
    },
    {
        "T10": 0.2338,
        "T11": 0.2199,
        "T12": 0.2085,
        "T13": 0.1993,
        "T14": 0.1918,
        "T15": 0.186,
        "T16": 0.1816,
        "T17": 0.1785,
        "T18": 0.1766,
        "T19": 0.1758,
        "T20": 0.1758,
        "T21": 0.1703,
        "T22": 0.1658,
        "T23": 0.1622,
        "T24": 0.1593,
        "T25": 0.1572,
        "T5": 0.0,
        "T6": 0.35,
        "T7": 0.3,
        "T8": 0.2706,
        "T9": 0.2505,
        "Year": 6
    },
    {
        "T10": 0.2505,
        "T11": 0.2338,
        "T12": 0.2199,
        "T13": 0.2085,
        "T14": 0.1993,
        "T15": 0.1918,
        "T16": 0.186,
        "T17": 0.1816,
        "T18": 0.1785,
        "T19": 0.1766,
        "T20": 0.1758,
        "T21": 0.1758,
        "T22": 0.1703,
        "T23": 0.1658,
        "T24": 0.1622,
        "T25": 0.1593,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.35,
        "T8": 0.3,
        "T9": 0.2706,
        "Year": 7
    },
    {
        "T10": 0.2706,
        "T11": 0.2505,
        "T12": 0.2338,
        "T13": 0.2199,
        "T14": 0.2085,
        "T15": 0.1993,
        "T16": 0.1918,
        "T17": 0.186,
        "T18": 0.1816,
        "T19": 0.1785,
        "T20": 0.1766,
        "T21": 0.1758,
        "T22": 0.1758,
        "T23": 0.1703,
        "T24": 0.1658,
        "T25": 0.1622,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.35,
        "T9": 0.3,
        "Year": 8
    },
    {
        "T10": 0.3,
        "T11": 0.2706,
        "T12": 0.2505,
        "T13": 0.2338,
        "T14": 0.2199,
        "T15": 0.2085,
        "T16": 0.1993,
        "T17": 0.1918,
        "T18": 0.186,
        "T19": 0.1816,
        "T20": 0.1785,
        "T21": 0.1766,
        "T22": 0.1758,
        "T23": 0.1758,
        "T24": 0.1703,
        "T25": 0.1658,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.35,
        "Year": 9
    },
    {
        "T10": 0.35,
        "T11": 0.3,
        "T12": 0.2706,
        "T13": 0.2505,
        "T14": 0.2338,
        "T15": 0.2199,
        "T16": 0.2085,
        "T17": 0.1993,
        "T18": 0.1918,
        "T19": 0.186,
        "T20": 0.1816,
        "T21": 0.1785,
        "T22": 0.1766,
        "T23": 0.1758,
        "T24": 0.1758,
        "T25": 0.1703,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.0,
        "Year": 10
    },
    {
        "T10": 0.0,
        "T11": 0.35,
        "T12": 0.3,
        "T13": 0.2706,
        "T14": 0.2505,
        "T15": 0.2338,
        "T16": 0.2199,
        "T17": 0.2085,
        "T18": 0.1993,
        "T19": 0.1918,
        "T20": 0.186,
        "T21": 0.1816,
        "T22": 0.1785,
        "T23": 0.1766,
        "T24": 0.1758,
        "T25": 0.1758,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.0,
        "Year": 11
    },
    {
        "T10": 0.0,
        "T11": 0.0,
        "T12": 0.35,
        "T13": 0.3,
        "T14": 0.2706,
        "T15": 0.2505,
        "T16": 0.2338,
        "T17": 0.2199,
        "T18": 0.2085,
        "T19": 0.1993,
        "T20": 0.1918,
        "T21": 0.186,
        "T22": 0.1816,
        "T23": 0.1785,
        "T24": 0.1766,
        "T25": 0.1758,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.0,
        "Year": 12
    },
    {
        "T10": 0.0,
        "T11": 0.0,
        "T12": 0.0,
        "T13": 0.35,
        "T14": 0.3,
        "T15": 0.2706,
        "T16": 0.2505,
        "T17": 0.2338,
        "T18": 0.2199,
        "T19": 0.2085,
        "T20": 0.1993,
        "T21": 0.1918,
        "T22": 0.186,
        "T23": 0.1816,
        "T24": 0.1785,
        "T25": 0.1766,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.0,
        "Year": 13
    },
    {
        "T10": 0.0,
        "T11": 0.0,
        "T12": 0.0,
        "T13": 0.0,
        "T14": 0.35,
        "T15": 0.3,
        "T16": 0.2706,
        "T17": 0.2505,
        "T18": 0.2338,
        "T19": 0.2199,
        "T20": 0.2085,
        "T21": 0.1993,
        "T22": 0.1918,
        "T23": 0.186,
        "T24": 0.1816,
        "T25": 0.1785,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.0,
        "Year": 14
    },
    {
        "T10": 0.0,
        "T11": 0.0,
        "T12": 0.0,
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.35,
        "T16": 0.3,
        "T17": 0.2706,
        "T18": 0.2505,
        "T19": 0.2338,
        "T20": 0.2199,
        "T21": 0.2085,
        "T22": 0.1993,
        "T23": 0.1918,
        "T24": 0.186,
        "T25": 0.1816,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.0,
        "Year": 15
    },
    {
        "T10": 0.0,
        "T11": 0.0,
        "T12": 0.0,
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.35,
        "T17": 0.3,
        "T18": 0.2706,
        "T19": 0.2505,
        "T20": 0.2338,
        "T21": 0.2199,
        "T22": 0.2085,
        "T23": 0.1993,
        "T24": 0.1918,
        "T25": 0.186,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.0,
        "Year": 16
    },
    {
        "T10": 0.0,
        "T11": 0.0,
        "T12": 0.0,
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.35,
        "T18": 0.3,
        "T19": 0.2706,
        "T20": 0.2505,
        "T21": 0.2338,
        "T22": 0.2199,
        "T23": 0.2085,
        "T24": 0.1993,
        "T25": 0.1918,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.0,
        "Year": 17
    },
    {
        "T10": 0.0,
        "T11": 0.0,
        "T12": 0.0,
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.35,
        "T19": 0.3,
        "T20": 0.2706,
        "T21": 0.2505,
        "T22": 0.2338,
        "T23": 0.2199,
        "T24": 0.2085,
        "T25": 0.1993,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.0,
        "Year": 18
    },
    {
        "T10": 0.0,
        "T11": 0.0,
        "T12": 0.0,
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.35,
        "T20": 0.3,
        "T21": 0.2706,
        "T22": 0.2505,
        "T23": 0.2338,
        "T24": 0.2199,
        "T25": 0.2085,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.0,
        "Year": 19
    },
    {
        "T10": 0.0,
        "T11": 0.0,
        "T12": 0.0,
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.35,
        "T21": 0.3,
        "T22": 0.2706,
        "T23": 0.2505,
        "T24": 0.2338,
        "T25": 0.2199,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.0,
        "Year": 20
    },
    {
        "T10": 0.0,
        "T11": 0.0,
        "T12": 0.0,
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.35,
        "T22": 0.3,
        "T23": 0.2706,
        "T24": 0.2505,
        "T25": 0.2338,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.0,
        "Year": 21
    },
    {
        "T10": 0.0,
        "T11": 0.0,
        "T12": 0.0,
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.35,
        "T23": 0.3,
        "T24": 0.2706,
        "T25": 0.2505,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.0,
        "Year": 22
    },
    {
        "T10": 0.0,
        "T11": 0.0,
        "T12": 0.0,
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0,
        "T23": 0.35,
        "T24": 0.3,
        "T25": 0.2706,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.0,
        "Year": 23
    },
    {
        "T10": 0.0,
        "T11": 0.0,
        "T12": 0.0,
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0,
        "T23": 0.0,
        "T24": 0.35,
        "T25": 0.3,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.0,
        "Year": 24
    },
    {
        "T10": 0.0,
        "T11": 0.0,
        "T12": 0.0,
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0,
        "T23": 0.0,
        "T24": 0.0,
        "T25": 0.35,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.0,
        "Year": 25
    },
    {
        "T10": 0.0,
        "T11": 0.0,
        "T12": 0.0,
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0,
        "T23": 0.0,
        "T24": 0.0,
        "T25": 0.0,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.0,
        "Year": 25
    }
];

    const ssvFactors = [
    {
        "T10": 0.0,
        "T11": 0.0,
        "T12": 0.0,
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0,
        "T23": 0.0,
        "T24": 0.0,
        "T25": 0.0,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.0,
        "Term": 1
    },
    {
        "T10": 0.0,
        "T11": 0.0,
        "T12": 0.0,
        "T13": 0.0,
        "T14": 0.0,
        "T15": 0.0,
        "T16": 0.0,
        "T17": 0.0,
        "T18": 0.0,
        "T19": 0.0,
        "T20": 0.0,
        "T21": 0.0,
        "T22": 0.0,
        "T23": 0.0,
        "T24": 0.0,
        "T25": 0.0,
        "T5": 0.0,
        "T6": 0.0,
        "T7": 0.0,
        "T8": 0.0,
        "T9": 0.0,
        "Term": 2
    },
    {
        "T10": 0.507,
        "T11": 0.4849,
        "T12": 0.4653,
        "T13": 0.4478,
        "T14": 0.4242,
        "T15": 0.4018,
        "T16": 0.3841,
        "T17": 0.3664,
        "T18": 0.3487,
        "T19": 0.331,
        "T20": 0.3133,
        "T21": 0.2956,
        "T22": 0.2779,
        "T23": 0.2602,
        "T24": 0.2425,
        "T25": 0.2398,
        "T5": 0.6734,
        "T6": 0.6334,
        "T7": 0.5955,
        "T8": 0.5597,
        "T9": 0.5318,
        "Term": 3
    },
    {
        "T10": 0.544,
        "T11": 0.5184,
        "T12": 0.4957,
        "T13": 0.4754,
        "T14": 0.4574,
        "T15": 0.4405,
        "T16": 0.4364,
        "T17": 0.4168,
        "T18": 0.3972,
        "T19": 0.3776,
        "T20": 0.358,
        "T21": 0.3384,
        "T22": 0.3188,
        "T23": 0.2992,
        "T24": 0.2798,
        "T25": 0.2749,
        "T5": 0.7339,
        "T6": 0.6903,
        "T7": 0.6489,
        "T8": 0.6098,
        "T9": 0.5728,
        "Term": 4
    },
    {
        "T10": 0.5859,
        "T11": 0.5562,
        "T12": 0.5298,
        "T13": 0.5064,
        "T14": 0.4856,
        "T15": 0.4821,
        "T16": 0.4591,
        "T17": 0.436,
        "T18": 0.413,
        "T19": 0.3899,
        "T20": 0.3669,
        "T21": 0.3602,
        "T22": 0.3536,
        "T23": 0.347,
        "T24": 0.3404,
        "T25": 0.3278,
        "T5": 1.0,
        "T6": 0.7523,
        "T7": 0.7071,
        "T8": 0.6644,
        "T9": 0.624,
        "Term": 5
    },
    {
        "T10": 0.6382,
        "T11": 0.599,
        "T12": 0.5684,
        "T13": 0.5412,
        "T14": 0.5172,
        "T15": 0.5108,
        "T16": 0.4883,
        "T17": 0.4657,
        "T18": 0.4432,
        "T19": 0.4206,
        "T20": 0.3981,
        "T21": 0.3874,
        "T22": 0.3768,
        "T23": 0.3661,
        "T24": 0.3555,
        "T25": 0.3428,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 0.7706,
        "T8": 0.724,
        "T9": 0.6798,
        "Term": 6
    },
    {
        "T10": 0.6953,
        "T11": 0.6524,
        "T12": 0.6121,
        "T13": 0.5806,
        "T14": 0.5527,
        "T15": 0.5429,
        "T16": 0.52,
        "T17": 0.4971,
        "T18": 0.4742,
        "T19": 0.4513,
        "T20": 0.4365,
        "T21": 0.4143,
        "T22": 0.4002,
        "T23": 0.3861,
        "T24": 0.3719,
        "T25": 0.3578,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 1.0,
        "T8": 0.789,
        "T9": 0.7408,
        "Term": 7
    },
    {
        "T10": 0.7576,
        "T11": 0.7108,
        "T12": 0.6667,
        "T13": 0.6252,
        "T14": 0.5929,
        "T15": 0.5792,
        "T16": 0.5539,
        "T17": 0.5285,
        "T18": 0.5032,
        "T19": 0.4778,
        "T20": 0.4525,
        "T21": 0.4366,
        "T22": 0.4206,
        "T23": 0.4047,
        "T24": 0.3887,
        "T25": 0.3728,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 1.0,
        "T8": 1.0,
        "T9": 0.8073,
        "Term": 8
    },
    {
        "T10": 0.8257,
        "T11": 0.7745,
        "T12": 0.7263,
        "T13": 0.6809,
        "T14": 0.6383,
        "T15": 0.6201,
        "T16": 0.592,
        "T17": 0.5638,
        "T18": 0.5357,
        "T19": 0.5076,
        "T20": 0.4795,
        "T21": 0.4615,
        "T22": 0.4436,
        "T23": 0.4257,
        "T24": 0.4078,
        "T25": 0.3898,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 1.0,
        "T8": 1.0,
        "T9": 1.0,
        "Term": 9
    },
    {
        "T10": 1.0,
        "T11": 0.844,
        "T12": 0.7913,
        "T13": 0.7418,
        "T14": 0.6952,
        "T15": 0.6515,
        "T16": 0.6232,
        "T17": 0.5949,
        "T18": 0.5666,
        "T19": 0.5383,
        "T20": 0.5099,
        "T21": 0.4898,
        "T22": 0.4696,
        "T23": 0.4494,
        "T24": 0.4292,
        "T25": 0.409,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 1.0,
        "T8": 1.0,
        "T9": 1.0,
        "Term": 10
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 0.8624,
        "T13": 0.8082,
        "T14": 0.7573,
        "T15": 0.7095,
        "T16": 0.6752,
        "T17": 0.6409,
        "T18": 0.6067,
        "T19": 0.5724,
        "T20": 0.5381,
        "T21": 0.5164,
        "T22": 0.4946,
        "T23": 0.4729,
        "T24": 0.4511,
        "T25": 0.4293,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 1.0,
        "T8": 1.0,
        "T9": 1.0,
        "Term": 11
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 0.8807,
        "T14": 0.825,
        "T15": 0.7728,
        "T16": 0.7321,
        "T17": 0.6914,
        "T18": 0.6508,
        "T19": 0.6101,
        "T20": 0.5694,
        "T21": 0.5459,
        "T22": 0.5224,
        "T23": 0.4989,
        "T24": 0.4754,
        "T25": 0.4519,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 1.0,
        "T8": 1.0,
        "T9": 1.0,
        "Term": 12
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 0.8991,
        "T15": 0.8419,
        "T16": 0.7942,
        "T17": 0.7466,
        "T18": 0.6989,
        "T19": 0.6513,
        "T20": 0.6036,
        "T21": 0.5783,
        "T22": 0.5529,
        "T23": 0.5275,
        "T24": 0.5022,
        "T25": 0.4768,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 1.0,
        "T8": 1.0,
        "T9": 1.0,
        "Term": 13
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 0.9174,
        "T16": 0.8623,
        "T17": 0.8072,
        "T18": 0.7521,
        "T19": 0.6969,
        "T20": 0.6418,
        "T21": 0.6143,
        "T22": 0.5867,
        "T23": 0.5592,
        "T24": 0.5317,
        "T25": 0.5041,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 1.0,
        "T8": 1.0,
        "T9": 1.0,
        "Term": 14
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 0.9174,
        "T17": 0.842,
        "T18": 0.7731,
        "T19": 0.7102,
        "T20": 0.6844,
        "T21": 0.6543,
        "T22": 0.6242,
        "T23": 0.5942,
        "T24": 0.5641,
        "T25": 0.534,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 1.0,
        "T8": 1.0,
        "T9": 1.0,
        "Term": 15
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 0.9174,
        "T18": 0.842,
        "T19": 0.7732,
        "T20": 0.7104,
        "T21": 0.6817,
        "T22": 0.6529,
        "T23": 0.6242,
        "T24": 0.5954,
        "T25": 0.5667,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 1.0,
        "T8": 1.0,
        "T9": 1.0,
        "Term": 16
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 1.0,
        "T18": 0.9174,
        "T19": 0.8421,
        "T20": 0.7733,
        "T21": 0.7391,
        "T22": 0.7049,
        "T23": 0.6707,
        "T24": 0.6365,
        "T25": 0.6023,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 1.0,
        "T8": 1.0,
        "T9": 1.0,
        "Term": 17
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 1.0,
        "T18": 1.0,
        "T19": 0.9174,
        "T20": 0.8421,
        "T21": 0.8007,
        "T22": 0.7572,
        "T23": 0.7107,
        "T24": 0.6673,
        "T25": 0.6311,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 1.0,
        "T8": 1.0,
        "T9": 1.0,
        "Term": 18
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 1.0,
        "T18": 1.0,
        "T19": 1.0,
        "T20": 0.9174,
        "T21": 0.8526,
        "T22": 0.8062,
        "T23": 0.7578,
        "T24": 0.7114,
        "T25": 0.6733,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 1.0,
        "T8": 1.0,
        "T9": 1.0,
        "Term": 19
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 1.0,
        "T18": 1.0,
        "T19": 1.0,
        "T20": 1.0,
        "T21": 0.9174,
        "T22": 0.8594,
        "T23": 0.809,
        "T24": 0.7593,
        "T25": 0.7192,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 1.0,
        "T8": 1.0,
        "T9": 1.0,
        "Term": 20
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 1.0,
        "T18": 1.0,
        "T19": 1.0,
        "T20": 1.0,
        "T21": 1.0,
        "T22": 0.9174,
        "T23": 0.8636,
        "T24": 0.8113,
        "T25": 0.759,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 1.0,
        "T8": 1.0,
        "T9": 1.0,
        "Term": 21
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 1.0,
        "T18": 1.0,
        "T19": 1.0,
        "T20": 1.0,
        "T21": 1.0,
        "T22": 1.0,
        "T23": 0.9174,
        "T24": 0.8677,
        "T25": 0.8086,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 1.0,
        "T8": 1.0,
        "T9": 1.0,
        "Term": 22
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 1.0,
        "T18": 1.0,
        "T19": 1.0,
        "T20": 1.0,
        "T21": 1.0,
        "T22": 1.0,
        "T23": 1.0,
        "T24": 0.9174,
        "T25": 0.8599,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 1.0,
        "T8": 1.0,
        "T9": 1.0,
        "Term": 23
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 1.0,
        "T18": 1.0,
        "T19": 1.0,
        "T20": 1.0,
        "T21": 1.0,
        "T22": 1.0,
        "T23": 1.0,
        "T24": 1.0,
        "T25": 0.9174,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 1.0,
        "T8": 1.0,
        "T9": 1.0,
        "Term": 24
    },
    {
        "T10": 1.0,
        "T11": 1.0,
        "T12": 1.0,
        "T13": 1.0,
        "T14": 1.0,
        "T15": 1.0,
        "T16": 1.0,
        "T17": 1.0,
        "T18": 1.0,
        "T19": 1.0,
        "T20": 1.0,
        "T21": 1.0,
        "T22": 1.0,
        "T23": 1.0,
        "T24": 1.0,
        "T25": 1.0,
        "T5": 1.0,
        "T6": 1.0,
        "T7": 1.0,
        "T8": 1.0,
        "T9": 1.0,
        "Term": 25
    }
];

    function fillPolicyTerm() {
      const termSelect = document.getElementById('policyTerm');
      termSelect.innerHTML = '';
      for (let i = 5; i <= 25; i++) {
        let opt = document.createElement('option');
        opt.value = i;
        opt.textContent = i;
        termSelect.appendChild(opt);
      }
    }

    function updatePPT() {
      const term = parseInt(document.getElementById('policyTerm').value);
      const pptSelect = document.getElementById('ppt');
      pptSelect.innerHTML = '';

      if (term >= 10) {
        ['5', '6', '7'].forEach(ppt => {
          let opt = document.createElement('option');
          opt.value = ppt;
          opt.textContent = ppt;
          pptSelect.appendChild(opt);
        });
      } else {
        let opt = document.createElement('option');
        opt.value = 'Single Premium';
        opt.textContent = 'Single Premium';
        pptSelect.appendChild(opt);
      }
    }

    function yearDiff(startDate, endDate) {
      const diff = endDate.getFullYear() - startDate.getFullYear();
      if (
        endDate.getMonth() < startDate.getMonth() ||
        (endDate.getMonth() === startDate.getMonth() && endDate.getDate() < startDate.getDate())
      ) {
        return diff - 1;
      }
      return diff;
    }

    function calculateSurrenderValue() {
      const doc = document.getElementById('doc').value;
      const sumAssured = parseFloat(document.getElementById('sumAssured').value) || 0;
      const policyTerm = parseInt(document.getElementById('policyTerm').value) || 0;
      const ppt = document.getElementById('ppt').value;
      const mode = document.getElementById('mode').value;
      const entryAge = parseInt(document.getElementById('entryAge').value) || 0;
      const gaRate = parseFloat(document.getElementById('gaRate').value) || 0;
      const annualPremium = parseFloat(document.getElementById('annualPremium').value) || 0;
      const today = new Date();

      if (!doc || !sumAssured || !policyTerm || !ppt || !mode || isNaN(entryAge) || isNaN(gaRate) || isNaN(annualPremium)) {
        alert('Please fill in all input fields correctly.');
        return;
      }

      const startDate = new Date(doc);
      if (isNaN(startDate.getTime()) || startDate > today) {
        alert('Invalid Date of Commencement.');
        return;
      }

      const policyYear = yearDiff(startDate, today);
      document.getElementById('policyYear').value = policyYear < 0 ? 0 : policyYear;

      // Total Premium Paid
      let totalPremiumPaid = 0;
      switch (mode) {
        case 'annual': totalPremiumPaid = annualPremium * policyYear; break;
        case 'semiAnnual': totalPremiumPaid = (annualPremium / 2) * policyYear * 2; break;
        case 'quarterly': totalPremiumPaid = (annualPremium / 4) * policyYear * 4; break;
        case 'monthly': totalPremiumPaid = (annualPremium / 12) * policyYear * 12; break;
        default: totalPremiumPaid = annualPremium * policyYear;
      }
      if (ppt.toLowerCase() === 'single premium') totalPremiumPaid = annualPremium;
      document.getElementById('totalPremiumPaid').value = totalPremiumPaid.toFixed(2);

      const accruedGA = Math.max(0, (sumAssured / 1000) * gaRate * policyYear);
      document.getElementById('accruedGA').value = accruedGA.toFixed(2);

      // GSV
      let gsv = 0;
      if (ppt.toLowerCase() === 'single premium') {
        gsv = policyYear < 3 ? 0.75 * totalPremiumPaid : 0.9 * totalPremiumPaid;
        const gaFactor = gsvGAFactors[0][`T${policyTerm}`] || 0;
        gsv += accruedGA * gaFactor;
      } else {
        let premiumFactor = gsvPremiumFactors[0][`T${policyTerm}`] || 0.9;
        gsv = totalPremiumPaid * premiumFactor;
        const gaFactor = gsvGAFactors[0][`T${policyTerm}`] || 0;
        gsv += accruedGA * gaFactor;
      }

      // SSV
      const ssvFactor = ssvFactors[`T${policyTerm}`] || 0;
      const ssv = totalPremiumPaid * ssvFactor;



      const totalSV = Math.max(gsv, ssv);
      document.getElementById('totalGA').textContent = accruedGA.toFixed(2);
      document.getElementById('gsv').textContent = gsv.toFixed(2);
      document.getElementById('ssv').textContent = ssv.toFixed(2);
      document.getElementById('totalSV').textContent = totalSV.toFixed(2);
      document.getElementById('result').style.display = 'block';
    }

    window.onload = function () {
      fillPolicyTerm();
      updatePPT();
    };
  </script>
</body>
</html>
