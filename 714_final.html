<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>LIC Plan 714 Premium Calculator (Full)</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f8f9fa; margin: 0; padding: 20px; }
    .container { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); max-width: 800px; margin:auto; }
    h1 { text-align:center; color: #1e3a8a;}
    h2 { text-align:center; margin-top:25px; }
    label { font-weight:bold; margin-top:10px; display:block; }
    input[type=number], input[type=text] { width:100%; padding:10px; margin-bottom:10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
    button { width:100%; padding:15px; background:#27ae60; color:#fff; font-size:16px; border:none; cursor:pointer; border-radius: 4px; }
    button:hover { background:#219150; }
    table { width:100%; margin-top:10px; border-collapse:collapse; }
    th, td { border:1px solid #ccc; padding:10px; text-align:center; }
    th { background:#e8f5e9; }
    .rider-option { display: flex; align-items: center; margin-top: 15px; }
    .rider-option input[type=checkbox] { width: auto; margin-right: 10px; transform: scale(1.2); }
    .rider-option label { margin-top: 0; }
    #results-summary { margin-top: 20px; padding: 15px; background: #f0f8ff; border: 1px solid #b0e0e6; border-radius: 5px; }
    #results-summary p { margin: 8px 0; font-size: 1.1em; display: flex; justify-content: space-between; }
    #results-summary p span:first-child { font-weight: bold; }
    hr { border: 0; border-top: 1px solid #ccc; margin: 20px 0; }
  </style>
</head>
<body>
  <div class="container">
    <h1>LIC Plan 714 Premium Calculator</h1>

    <label for="age">Age</label>
    <input type="number" id="age" value="30" min="8" max="50" />

    <label for="term">Policy Term</label>
    <input type="number" id="term" value="20" min="12" max="35" />

    <label for="sumAssured">Sum Assured</label>
    <input type="number" id="sumAssured" value="2500000" step="10000" />

    <label for="ppt">Premium Paying Term</label>
    <input type="text" id="ppt" disabled />

    <!-- Rider Checkboxes -->
    <div class="rider-option">
      <input type="checkbox" id="addADDB" checked>
      <label for="addADDB">Include Accidental Benefit Rider (ADDB)</label>
    </div>
    <div class="rider-option">
      <input type="checkbox" id="addTermRider">
      <label for="addTermRider">Include Term Assurance Rider</label>
    </div>

    <!-- INSERT THIS HTML SNIPPET -->
    <div class="rider-option">
      <input type="checkbox" id="addPWB" onchange="toggleProposerAge()">
      <label for="addPWB">Include Premium Waiver Benefit (PWB)</label>
    </div>
    <div id="proposerAgeDiv" style="display:none;">
      <label for="proposerAge">Proposer's Age (18 to 55)</label>
      <input type="number" id="proposerAge" value="30" min="18" max="55" />
    </div>
    <!-- END OF HTML SNIPPET -->

n>

    <button onclick="calculate()">Calculate Premium</button>

    <div id="results"></div>
  </div>

<script>
// Data for Base Premium
const premiumRates = {
  8:{12:92.35,13:84.7,14:78.2,15:73.7,16:68.65,17:64.25,18:60.3,19:56.8,20:53.65,21:50.95,22:48.45,23:46.2,24:44.1,25:42.2,26:40.45,27:38.85,28:37.35,29:35.95,30:34.65,31:33.55,32:32.45,33:31.45,34:30.55,35:29.65},9:{12:92.4,13:84.8,14:78.25,15:73.75,16:68.7,17:64.3,18:60.35,19:56.85,20:53.75,21:51,22:48.5,23:46.25,24:44.15,25:42.25,26:40.5,27:38.9,28:37.4,29:36,30:34.75,31:33.6,32:32.55,33:31.55,34:30.6,35:29.7},10:{12:92.45,13:84.85,14:78.35,15:73.8,16:68.8,17:64.35,18:60.45,19:56.95,20:53.8,21:51.05,22:48.55,23:46.3,24:44.25,25:42.35,26:40.55,27:38.95,28:37.45,29:36.1,30:34.8,31:33.65,32:32.6,33:31.6,34:30.65,35:29.8},11:{12:92.55,13:84.9,14:78.4,15:73.9,16:68.85,17:64.4,18:60.5,19:57,20:53.85,21:51.1,22:48.65,23:46.35,24:44.3,25:42.4,26:40.65,27:39,28:37.5,29:36.15,30:34.85,31:33.7,32:32.65,33:31.65,34:30.7,35:29.85},12:{12:92.6,13:85,14:78.45,15:73.95,16:68.9,17:64.5,18:60.55,19:57.05,20:53.9,21:51.15,22:48.7,23:46.4,24:44.35,25:42.45,26:40.7,27:39.05,28:37.6,29:36.2,30:34.9,31:33.75,32:32.7,33:31.7,34:30.8,35:29.9},13:{12:92.65,13:85.05,14:78.5,15:74,16:68.95,17:64.55,18:60.6,19:57.1,20:53.95,21:51.2,22:48.74,23:46.45,24:44.4,25:42.5,26:40.75,27:39.15,28:37.65,29:36.25,30:34.95,31:33.85,32:32.75,33:31.75,34:30.85,35:30},14:{12:92.7,13:85.1,14:78.55,15:74.05,16:69,17:64.6,18:60.65,19:57.15,20:54,21:51.25,22:48.8,23:46.5,24:44.45,25:42.55,26:40.8,27:39.15,28:37.7,29:36.3,30:35,31:33.9,32:32.8,33:31.8,34:30.9,35:30.05},15:{12:92.75,13:85.15,14:78.6,15:74.1,16:69.05,17:64.6,18:60.7,19:57.2,20:54.05,21:51.3,22:48.8,23:46.55,24:44.45,25:42.55,26:40.8,27:39.21,28:37.7,29:36.35,30:35.05,31:33.9,32:32.85,33:31.85,34:30.95,35:30.1},16:{12:92.8,13:85.15,14:78.65,15:74.1,16:69.1,17:64.65,18:60.7,19:57.2,20:54.05,21:51.35,22:48.85,23:46.6,24:44.5,25:42.6,26:40.85,27:39.25,28:37.75,29:36.4,30:35.1,31:33.95,32:32.9,33:31.9,34:31,35:30.15},17:{12:92.8,13:85.2,14:78.65,15:74.15,16:69.1,17:64.65,18:60.75,19:57.25,20:54.1,21:51.35,22:48.85,23:46.6,24:44.55,25:42.65,26:40.9,27:39.25,28:37.8,29:36.4,30:35.15,31:34,32:32.95,33:31.95,34:31.05,35:30.2},18:{12:92.85,13:85.2,14:78.65,15:74.15,16:69.15,17:64.7,18:60.75,19:57.25,20:54.1,21:51.35,22:48.9,23:46.6,24:44.55,25:42.65,26:40.9,27:39.3,28:37.8,29:36.45,30:35.15,31:34.05,32:33,33:32,34:31.1,35:30.25},19:{12:92.85,13:85.2,14:78.7,15:74.15,16:69.15,17:64.7,18:60.75,19:57.25,20:54.1,21:51.4,22:48.9,23:46.65,24:44.55,25:42.7,26:40.95,27:39.35,28:37.85,29:36.45,30:35.2,31:34.1,32:33.05,33:32.05,34:31.15,35:30.3},20:{12:92.85,13:85.2,14:78.7,15:74.2,16:69.15,17:64.7,18:60.8,19:57.3,20:54.15,21:51.4,22:48.9,23:46.65,24:44.6,25:42.7,26:40.95,27:39.35,28:37.9,29:36.5,30:35.25,31:34.1,32:33.05,33:32.1,34:31.2,35:30.35},21:{12:92.85,13:85.2,14:78.7,15:74.2,16:69.15,17:64.7,18:60.8,19:57.3,20:54.15,21:51.4,22:48.95,23:46.7,24:44.6,25:42.75,26:41,27:39.43,28:37.9,29:36.57,30:35.3,31:34.15,32:33.15,33:32.15,34:31.25,35:30.4},22:{12:92.85,13:85.2,14:78.7,15:74.2,16:69.15,17:64.7,18:60.8,19:57.3,20:54.15,21:51.45,22:48.95,23:46.7,24:44.65,25:42.75,26:41,27:39.45,28:37.95,29:36.6,30:35.35,31:34.2,32:33.2,33:32.2,34:31.35,35:30.5},23:{12:92.85,13:85.2,14:78.7,15:74.2,16:69.15,17:64.75,18:60.8,19:57.3,20:54.2,21:51.45,22:49,23:46.75,24:44.7,25:42.8,26:41.05,27:39.45,28:38,29:36.65,30:35.4,31:34.3,32:33.25,33:32.3,34:31.4,35:30.6},24:{12:92.85,13:85.25,14:78.7,15:74.2,16:69.2,17:64.75,18:60.85,19:57.35,20:54.2,21:51.5,22:49,23:46.75,24:44.7,25:42.85,26:41.1,27:39.5,28:38.05,29:36.7,30:35.45,31:34.35,32:33.35,33:32.4,34:31.5,35:30.7},25:{12:92.85,13:85.25,14:78.75,15:74.25,16:69.2,17:64.8,18:60.85,19:57.35,20:54.25,21:51.55,22:49.05,23:46.8,24:44.75,25:42.9,26:41.15,27:39.6,28:38.15,29:36.8,30:35.55,31:34.45,32:33.45,33:32.5,34:31.6,35:30.8},26:{12:92.9,13:85.25,14:78.75,15:74.25,16:69.25,17:64.8,18:60.9,19:57.4,20:54.3,21:51.55,22:49.1,23:46.85,24:44.8,25:42.95,26:41.25,27:39.65,28:38.2,29:36.9,30:35.65,31:34.55,32:33.55,33:32.6,34:31.75,35:30.95},27:{12:92.9,13:85.3,14:78.8,15:74.3,16:69.25,17:64.85,18:60.95,19:57.45,20:54.35,21:51.6,22:49.15,23:46.97,24:44.9,25:43.05,26:41.3,27:39.75,28:38.3,29:37,30:35.75,31:34.7,32:33.7,33:32.75,34:31.9,35:31.1},28:{12:92.95,13:85.3,14:78.8,15:74.35,16:69.3,17:64.9,18:61,19:57.5,20:54.4,21:51.7,22:49.25,23:47,24:44.95,25:43.1,26:41.4,27:39.85,28:38.4,29:37.1,30:35.9,31:34.8,32:33.8,33:32.9,34:32.05,35:31.25},29:{12:92.95,13:85.35,14:78.85,15:74.35,16:69.35,17:64.95,18:61.05,19:57.6,20:54.45,21:51.75,22:49.3,23:47.1,24:45.05,25:43.2,26:41.55,27:40,28:38.55,29:37.25,30:36.05,31:34.95,32:34,33:33.1,34:32.25,35:31.45},30:{12:93,13:85.4,14:78.9,15:74.45,16:69.4,17:65,18:61.1,19:57.65,20:54.55,21:51.85,22:49.4,23:47.2,24:45.2,25:43.35,26:41.65,27:40.1,28:38.7,29:37.4,30:36.2,31:35.15,32:34.2,33:33.3,34:32.45,35:31.7},31:{12:93.05,13:85.45,14:78.95,15:74.5,16:69.5,17:65.1,18:61.1,19:57.75,20:54.65,21:51.95,22:49.55,23:47.3,24:45.3,25:43.5,26:41.8,27:40.3,28:38.85,29:37.6,30:36.4,31:35.35,32:34.4,33:33.5,34:32.7,35:31.9},32:{12:93.15,13:85.5,14:79.05,15:74.55,16:69.55,17:65.2,18:61.3,19:57.85,20:54.75,21:52.1,22:49.65,23:47.45,24:45.45,25:43.65,26:42,27:40.45,28:39.05,29:37.8,30:36.6,31:35.55,32:34.6,33:33.75,34:32.95,35:32.2},33:{12:93.2,13:85.6,14:79.1,15:74.56,16:69.65,17:65.3,18:61.4,19:57.95,20:54.9,21:52.2,22:49.8,23:47.6,24:45.65,25:43.8,26:42.3,27:40.65,28:39.82,29:38,30:36.85,31:35.8,32:34.9,33:34,34:33.2,35:32.5},34:{12:93.3,13:85.7,14:79.2,15:74.75,16:69.75,17:65.4,18:61.55,19:58.1,20:55.05,21:52.35,22:49.95,23:47.8,24:45.8,25:44,26:42.4,27:40.9,28:39.5,29:38.25,30:37.1,31:35.9,32:35.15,33:34.3,34:33.55,35:32.8},35:{12:93.35,13:85.8,14:79.3,15:74.9,16:69.9,17:65.55,18:61.7,19:58.25,20:55.2,21:52.55,22:50.15,23:48,24:46.05,25:44.25,26:42.65,27:41.15,28:39.8,29:38.55,30:37.4,31:36.4,32:35.5,33:34.65,34:33.85,35:33.15},36:{12:93.45,13:85.9,14:79.45,15:75,16:70.05,17:65.75,18:61.85,19:58.45,20:55.4,21:52.75,22:50.4,23:48.25,24:46.3,25:44.5,26:42.9,27:41.4,28:40.1,29:38.85,30:37.75,31:36.75,32:35.85,33:35,34:34.25,35:33.55},37:{12:93.6,13:86,14:79.55,15:75.15,16:70.2,17:65.85,18:62.05,19:58.65,20:55.6,21:53,22:50.6,23:49.01,24:46.55,25:44.8,26:43.2,27:41.75,28:40.4,29:39.2,30:38.1,31:37.1,32:36.2,33:35.4,34:34.65,35:34.05},38:{12:93.7,13:86.15,14:79.75,15:75.35,16:70.4,17:66.05,18:62.25,19:58.85,20:55.85,21:53.25,22:50.9,23:48.75,24:46.85,25:45.1,26:43.5,27:42.1,28:40.75,29:39.55,30:38.45,31:37.5,32:36.65,33:35.85,34:35.1,35:34.45},39:{12:93.9,13:86.35,14:79.9,15:75.04,16:70.6,17:66.3,18:62.5,19:59.15,20:56.15,21:53.55,22:51.2,23:49.1,24:47.2,25:45.45,26:43.9,27:42.45,28:41.15,29:40,30:38.9,31:37.95,32:37.1,33:36.3,34:35.6,35:34.95},40:{12:94.05,13:86.55,14:80.1,15:75.75,16:70.85,17:66.55,18:62.75,19:59.4,20:56.45,21:53.85,22:51.55,23:49.45,24:47.55,25:45.85,26:44.3,27:42.9,28:41.6,29:40.45,30:39.35,31:38.45,32:37.6,33:36.85,34:36.15,35:35.5},41:{12:94.25,13:86.75,14:80.35,15:76,16:71.1,17:66.85,18:63.1,19:59.75,20:56.8,21:54.2,22:51.9,23:49.85,24:47.95,25:46.25,26:44.75,27:43.35,28:42.05,29:40.9,30:39.9,31:38.95,32:38.15,33:37.4,34:36.75},42:{12:94.5,13:87,14:80.6,15:76.3,16:71.45,17:67.15,18:63.45,19:60.1,20:57.15,21:54.76,22:52.37,23:50.25,24:48.4,25:46.75,26:45.2,27:43.85,28:42.6,29:41.45,30:40.45,31:39.69,32:38.75,33:38},43:{12:94.75,13:87.3,14:80.9,15:76.65,16:71.8,17:67.55,18:63.8,19:60.5,20:57.6,21:55.05,22:52.8,23:50.75,24:48.9,25:47.25,26:45.75,27:44.4,28:43.15,29:42.05,30:41.05,31:40.2,32:39.4},44:{12:95.05,13:87.6,14:81.25,15:77,16:72.2,17:67.95,18:64.25,19:60.95,20:58.05,21:55.55,22:53.3,23:51.25,24:49.45,25:47.8,26:46.3,27:45,28:43.75,29:42.7,30:41.7,31:40.85},45:{12:95.4,13:87.95,14:81.65,15:77.45,16:72.6,17:68.4,18:64.7,19:61.45,20:58.55,21:56.05,22:53.85,23:51.85,24:50.05,25:48.4,26:46.95,27:45.65,28:44.45,29:43.4,30:42.45},46:{12:95.8,13:88.4,14:82.1,15:77.9,16:73.1,17:68.9,18:65.25,19:62,20:59.1,21:56.65,22:54.45,23:52.45,24:50.65,25:49.05,26:47.65,27:46.35,28:45.2,29:44.15},47:{12:96.25,13:88.85,14:82.55,15:78.4,16:73.6,17:69.45,18:65.8,19:62.55,20:59.7,21:57.25,22:55.05,23:53.1,24:51.35,25:49.8,26:48.35,27:47.1,28:46},48:{12:96.7,13:89.35,14:83.05,15:78.95,16:74.2,17:70.05,18:66.4,19:63.2,20:60.35,21:57.95,22:55.75,23:53.85,24:52.1,25:50.55,26:49.15,27:47.95},49:{12:97.25,13:89.85,14:83.6,15:79.55,16:74.8,17:70.65,18:67.05,19:63.85,20:61.05,21:58.65,22:56.5,23:54.6,24:52.9,25:51.4,26:50.05},50:{12:97.8,13:90.45,14:84.2,15:80.15,16:75.45,17:71.35,18:67.75,19:64.6,20:61.8,21:59.45,22:57.3,23:55.45,24:53.75,25:52.3}
};

// Data for Term Rider Premium
const riderPremiumRates = {
    18: { 12:1.83, 13:1.83, 14:1.83, 15:1.83, 16:1.83, 17:1.83, 18:1.83, 19:1.83, 20:1.83, 21:1.83, 22:1.83, 23:1.83, 24:1.83, 25:1.83, 26:1.83, 27:1.83, 28:1.86, 29:1.89, 30:1.93, 31:1.97, 32:2.01, 33:2.06, 34:2.11, 35:2.16 },19: { 12:1.84, 13:1.84, 14:1.84, 15:1.84, 16:1.84, 17:1.84, 18:1.84, 19:1.84, 20:1.84, 21:1.84, 22:1.84, 23:1.84, 24:1.84, 25:1.84, 26:1.85, 27:1.88, 28:1.92, 29:1.96, 30:2, 31:2.04, 32:2.09, 33:2.15, 34:2.2, 35:2.26 },20: { 12:1.85, 13:1.85, 14:1.85, 15:1.85, 16:1.85, 17:1.85, 18:1.85, 19:1.85, 20:1.85, 21:1.85, 22:1.85, 23:1.85, 24:1.85, 25:1.87, 26:1.91, 27:1.94, 28:1.98, 29:2.03, 30:2.08, 31:2.13, 32:2.19, 33:2.25, 34:2.31, 35:2.38 },21: { 12:1.85, 13:1.85, 14:1.85, 15:1.85, 16:1.85, 17:1.85, 18:1.85, 19:1.85, 20:1.85, 21:1.85, 22:1.85, 23:1.86, 24:1.9, 25:1.93, 26:1.97, 27:2.01, 28:2.06, 29:2.11, 30:2.17, 31:2.23, 32:2.29, 33:2.36, 34:2.43, 35:2.5 },22: { 12:1.85, 13:1.85, 14:1.85, 15:1.85, 16:1.85, 17:1.85, 18:1.85, 19:1.85, 20:1.85, 21:1.85, 22:1.88, 23:1.92, 24:1.96, 25:2, 26:2.05, 27:2.1, 28:2.15, 29:2.21, 30:2.27, 31:2.34, 32:2.41, 33:2.48, 34:2.56, 35:2.64 },23: { 12:1.85, 13:1.85, 14:1.85, 15:1.85, 16:1.85, 17:1.85, 18:1.85, 19:1.85, 20:1.88, 21:1.91, 22:1.95, 23:1.99, 24:2.03, 25:2.08, 26:2.13, 27:2.19, 28:2.25, 29:2.32, 30:2.39, 31:2.47, 32:2.54, 33:2.63, 34:2.71, 35:2.8 },24: { 12:1.85, 13:1.85, 14:1.85, 15:1.85, 16:1.85, 17:1.85, 18:1.87, 19:1.9, 20:1.94, 21:1.98, 22:2.02, 23:2.07, 24:2.12, 25:2.18, 26:2.24, 27:2.3, 28:2.37, 29:2.45, 30:2.53, 31:2.61, 32:2.7, 33:2.79, 34:2.88, 35:2.97 },25: { 12:1.86, 13:1.86, 14:1.86, 15:1.86, 16:1.87, 17:1.9, 18:1.93, 19:1.97, 20:2.01, 21:2.06, 22:2.11, 23:2.16, 24:2.22, 25:2.29, 26:2.36, 27:2.43, 28:2.51, 29:2.59, 30:2.68, 31:2.78, 32:2.87, 33:2.97, 34:3.06, 35:3.16 },26: { 12:1.87, 13:1.87, 14:1.87, 15:1.9, 16:1.93, 17:1.97, 18:2.01, 19:2.05, 20:2.1, 21:2.15, 22:2.21, 23:2.27, 24:2.34, 25:2.42, 26:2.5, 27:2.58, 28:2.67, 29:2.76, 30:2.86, 31:2.96, 32:3.06, 33:3.17, 34:3.27, 35:3.37 },27: { 12:1.89, 13:1.89, 14:1.9, 15:1.97, 16:2.01, 17:2.05, 18:2.1, 19:2.15, 20:2.21, 21:2.27, 22:2.33, 23:2.4, 24:2.48, 25:2.57, 26:2.66, 27:2.75, 28:2.85, 29:2.95, 30:3.06, 31:3.17, 32:3.28, 33:3.39, 34:3.5, 35:3.61 },28: { 12:1.92, 13:1.95, 14:1.98, 15:2.06, 16:2.1, 17:2.15, 18:2.2, 19:2.26, 20:2.33, 21:2.4, 22:2.47, 23:2.56, 24:2.64, 25:2.74, 26:2.84, 27:2.95, 28:3.05, 29:3.17, 30:3.28, 31:3.4, 32:3.51, 33:3.63, 34:3.75, 35:3.86 },29: { 12:1.99, 13:2.03, 14:2.08, 15:2.16, 16:2.21, 17:2.26, 18:2.33, 19:2.39, 20:2.47, 21:2.55, 22:2.64, 23:2.73, 24:2.83, 25:2.94, 26:3.05, 27:3.16, 28:3.28, 29:3.4, 30:3.53, 31:3.65, 32:3.77, 33:3.89, 34:4.02, 35:4.14 },30: { 12:2.09, 13:2.13, 14:2.18, 15:2.27, 16:2.33, 17:2.4, 18:2.47, 19:2.55, 20:2.63, 21:2.73, 22:2.83, 23:2.93, 24:3.04, 25:3.16, 26:3.28, 27:3.41, 28:3.54, 29:3.67, 30:3.8, 31:3.93, 32:4.06, 33:4.19, 34:4.32, 35:4.45 },31: { 12:2.2, 13:2.25, 14:2.31, 15:2.41, 16:2.48, 17:2.55, 18:2.63, 19:2.72, 20:2.82, 21:2.93, 22:3.04, 23:3.16, 24:3.28, 25:3.41, 26:3.55, 27:3.68, 28:3.82, 29:3.95, 30:4.09, 31:4.23, 32:4.37, 33:4.5, 34:4.64, 35:4.78 },32: { 12:2.33, 13:2.39, 14:2.45, 15:2.56, 16:2.64, 17:2.73, 18:2.83, 19:2.93, 20:3.04, 21:3.16, 22:3.29, 23:3.42, 24:3.55, 25:3.69, 26:3.84, 27:3.98, 28:4.13, 29:4.27, 30:4.42, 31:4.56, 32:4.71, 33:4.85, 34:5, 35:5.14 },33: { 12:2.47, 13:2.54, 14:2.62, 15:2.74, 16:2.83, 17:2.94, 18:3.04, 19:3.16, 20:3.29, 21:3.42, 22:3.56, 23:3.71, 24:3.85, 25:4.01, 26:4.16, 27:4.31, 28:4.46, 29:4.62, 30:4.77, 31:4.92, 32:5.07, 33:5.23, 34:5.38, 35:5.54 },34: { 12:2.64, 13:2.72, 14:2.81, 15:2.95, 16:3.06, 17:3.17, 18:3.3, 19:3.43, 20:3.57, 21:3.72, 22:3.87, 23:4.03, 24:4.19, 25:4.35, 26:4.51, 27:4.67, 28:4.83, 29:4.99, 30:5.15, 31:5.31, 32:5.48, 33:5.64, 34:5.8, 35:5.97 },35: { 12:2.83, 13:2.92, 14:3.03, 15:3.19, 16:3.31, 17:3.44, 18:3.58, 19:3.73, 20:3.89, 21:4.05, 22:4.21, 23:4.38, 24:4.55, 25:4.72, 26:4.89, 27:5.06, 28:5.23, 29:5.4, 30:5.57, 31:5.74, 32:5.91, 33:6.09, 34:6.26, 35:6.44 },36: { 12:3.05, 13:3.16, 14:3.28, 15:3.46, 16:3.6, 17:3.75, 18:3.9, 19:4.07, 20:4.24, 21:4.41, 22:4.59, 23:4.77, 24:4.95, 25:5.13, 26:5.31, 27:5.49, 28:5.67, 29:5.85, 30:6.02, 31:6.21, 32:6.39, 33:6.57, 34:6.76, 35:6.95 },37: { 12:3.3, 13:3.43, 14:3.56, 15:3.77, 16:3.92, 17:4.09, 18:4.26, 19:4.45, 20:4.63, 21:4.82, 22:5.01, 23:5.2, 24:5.39, 25:5.57, 26:5.76, 27:5.95, 28:6.14, 29:6.33, 30:6.52, 31:6.71, 32:6.91, 33:7.1, 34:7.3, 35:7.5 },38: { 12:3.59, 13:3.74, 14:3.89, 15:4.12, 16:4.29, 17:4.48, 18:4.67, 19:4.86, 20:5.06, 21:5.26, 22:5.46, 23:5.66, 24:5.86, 25:6.06, 26:6.26, 27:6.45, 28:6.65, 29:6.85, 30:7.06, 31:7.26, 32:7.47, 33:7.68, 34:7.89, 35:8.11 },39: { 12:3.93, 13:4.09, 14:4.26, 15:4.52, 16:4.71, 17:4.91, 18:5.12, 19:5.32, 20:5.53, 21:5.74, 22:5.95, 23:6.16, 24:6.37, 25:6.58, 26:6.79, 27:7, 28:7.21, 29:7.42, 30:7.64, 31:7.86, 32:8.08, 33:8.3, 34:8.53, 35:8.76 },40: { 12:4.31, 13:4.49, 14:4.68, 15:4.96, 16:5.17, 17:5.39, 18:5.61, 19:5.83, 20:6.05, 21:6.27, 22:6.49, 23:6.71, 24:6.93, 25:7.15, 26:7.37, 27:7.59, 28:7.82, 29:8.04, 30:8.27, 31:8.51, 32:8.74, 33:8.98, 34:9.23, 35:9.47 },41: { 12:4.74, 13:4.94, 14:5.15, 15:5.46, 16:5.69, 17:5.92, 18:6.15, 19:6.38, 20:6.61, 21:6.84, 22:7.07, 23:7.3, 24:7.54, 25:7.77, 26:8, 27:8.24, 28:8.48, 29:8.72, 30:8.97, 31:9.21, 32:9.47, 33:9.72, 34:9.98 },42: { 12:5.2, 13:5.43, 14:5.66, 15:5.99, 16:6.23, 17:6.48, 18:6.72, 19:6.96, 20:7.21, 21:7.45, 22:7.69, 23:7.93, 24:8.18, 25:8.42, 26:8.67, 27:8.92, 28:9.18, 29:9.44, 30:9.7, 31:9.97, 32:10.24, 33:10.51 },43: { 12:5.72, 13:5.97, 14:6.22, 15:6.57, 16:6.83, 17:7.08, 18:7.34, 19:7.59, 20:7.85, 21:8.1, 22:8.36, 23:8.61, 24:8.87, 25:9.13, 26:9.4, 27:9.67, 28:9.94, 29:10.22, 30:10.5, 31:10.79, 32:11.07 },44: { 12:6.3, 13:6.56, 14:6.83, 15:7.21, 16:7.48, 17:7.74, 18:8.01, 19:8.27, 20:8.54, 21:8.81, 22:9.08, 23:9.35, 24:9.62, 25:9.9, 26:10.19, 27:10.47, 28:10.77, 29:11.07, 30:11.37, 31:11.67 },45: { 12:6.94, 13:7.21, 14:7.49, 15:7.9, 16:8.18, 17:8.45, 18:8.73, 19:9.01, 20:9.29, 21:9.57, 22:9.85, 23:10.14, 24:10.44, 25:10.74, 26:11.04, 27:11.35, 28:11.66, 29:11.98, 30:12.31 },46: { 12:7.63, 13:7.92, 14:8.21, 15:8.64, 16:8.93, 17:9.22, 18:9.51, 19:9.8, 20:10.09, 21:10.39, 22:10.69, 23:11, 24:11.32, 25:11.64, 26:11.97, 27:12.3, 28:12.64, 29:12.98 },47: { 12:8.38, 13:8.68, 14:8.99, 15:9.44, 16:9.74, 17:10.04, 18:10.34, 19:10.65, 20:10.96, 21:11.28, 22:11.6, 23:11.93, 24:12.27, 25:12.62, 26:12.97, 27:13.32, 28:13.68 },48: { 12:9.19, 13:9.5, 14:9.81, 15:10.29, 16:10.6, 17:10.92, 18:11.24, 19:11.56, 20:11.89, 21:12.23, 22:12.58, 23:12.94, 24:13.3, 25:13.67, 26:14.05, 27:14.43 },49: { 12:10.05, 13:10.37, 14:10.69, 15:11.19, 16:11.52, 17:11.85, 18:12.19, 19:12.54, 20:12.9, 21:13.26, 22:13.63, 23:14.02, 24:14.41, 25:14.81, 26:15.21 },50: { 12:10.95, 13:11.28, 14:11.62, 15:12.15, 16:12.5, 17:12.85, 18:13.21, 19:13.59, 20:13.97, 21:14.36, 22:14.76, 23:15.18, 24:15.6, 25:16.03 }
};

// INSERT THIS JAVASCRIPT SNIPPET (Data)

// Data for Premium Waiver Benefit Rider
const pwbRates = [
    { "Term": 5, "T1": 1.7, "T2": 1.7, "T3": 1.85, "T4": 2.1, "T5": 2.45, "T6": 3.1, "T7": 4.1 },
    { "Term": 6, "T1": 1.8, "T2": 1.85, "T3": 1.95, "T4": 2.25, "T5": 2.7, "T6": 3.55, "T7": 4.8 },
    { "Term": 7, "T1": 1.9, "T2": 1.9, "T3": 2.1, "T4": 2.4, "T5": 2.95, "T6": 4.0, "T7": 5.55 },
    { "Term": 8, "T1": 1.95, "T2": 2.0, "T3": 2.2, "T4": 2.6, "T5": 3.25, "T6": 4.5, "T7": 6.3 },
    { "Term": 9, "T1": 2.0, "T2": 2.1, "T3": 2.3, "T4": 2.8, "T5": 3.6, "T6": 5.0, "T7": 7.05 },
    { "Term": 10, "T1": 2.2, "T2": 2.25, "T3": 2.55, "T4": 3.1, "T5": 4.05, "T6": 5.75, "T7": 8.15 },
    { "Term": 11, "T1": 2.25, "T2": 2.4, "T3": 2.65, "T4": 3.3, "T5": 4.4, "T6": 6.35, "T7": 9.0 },
    { "Term": 12, "T1": 2.3, "T2": 2.45, "T3": 2.8, "T4": 3.5, "T5": 4.8, "T6": 6.9, "T7": 9.85 },
    { "Term": 13, "T1": 2.45, "T2": 2.55, "T3": 2.95, "T4": 3.75, "T5": 5.15, "T6": 7.5, "T7": 10.7 },
    { "Term": 14, "T1": 2.5, "T2": 2.7, "T3": 3.1, "T4": 4.0, "T5": 5.55, "T6": 8.15, "T7": 11.6 },
    { "Term": 15, "T1": 2.6, "T2": 2.8, "T3": 3.3, "T4": 4.35, "T5": 6.1, "T6": 8.9, "T7": 12.75 },
    { "Term": 16, "T1": 2.7, "T2": 2.9, "T3": 3.5, "T4": 4.6, "T5": 6.5, "T6": 9.55, "T7": 13.7 },
    { "Term": 17, "T1": 2.8, "T2": 3.05, "T3": 3.65, "T4": 4.9, "T5": 7.0, "T6": 10.25, "T7": 14.7 }
];

// This helper function shows/hides the Proposer Age input
function toggleProposerAge() {
    const pwbCheckbox = document.getElementById("addPWB");
    const proposerAgeDiv = document.getElementById("proposerAgeDiv");
    proposerAgeDiv.style.display = pwbCheckbox.checked ? "block" : "none";
}
// END OF JAVASCRIPT SNIPPET (Data)

const gstFirst = 1.045;
const gstSecond = 1.0225;

function calculate() {
  const sa = parseInt(document.getElementById("sumAssured").value);
  const age = parseInt(document.getElementById("age").value);
  const term = parseInt(document.getElementById("term").value);
  const addADDB = document.getElementById("addADDB").checked;
  const addTermRider = document.getElementById("addTermRider").checked;
  const addPWB = document.getElementById("addPWB").checked;
  const proposerAge = parseInt(document.getElementById("proposerAge").value);
  
  const resultsDiv = document.getElementById("results");

  document.getElementById("ppt").value = term + " Years";

  const baseRate = premiumRates[age]?.[term];
  if (!baseRate) {
    resultsDiv.innerHTML = `<h2>Error</h2><p>Base premium rate not found for Age ${age} and Term ${term}.</p>`;
    return;
  }

  // --- STEP 1: Calculate Tabular Premiums ---
  let baseTabularPrem = (sa / 1000) * baseRate;
  let termRiderTabularPrem = 0;
  if (addTermRider) {
      if (age < 18) {
          resultsDiv.innerHTML = `<h2>Error</h2><p>Term Rider is only available for age 18 and above.</p>`;
          return;
      }
      const riderRate = riderPremiumRates[age]?.[term];
      if (!riderRate) {
          resultsDiv.innerHTML = `<h2>Error</h2><p>Term Rider rate not found for Age ${age} and Term ${term}.</p>`;
          return;
      }
      termRiderTabularPrem = (sa / 1000) * riderRate;
  }

  // --- STEP 2: Apply Sum Assured Rebate to Base Premium ---
  // (Term Rider and PWB are not eligible for SA Rebate in this refined logic)
  let saRebateRate = 0;
  if (sa >= 1000000) saRebateRate = 4.0815;
  else if (sa >= 500000) saRebateRate = 2.550;
  let saRebate = (sa / 1000) * saRebateRate;
  let basePremAfterSaRebate = baseTabularPrem - saRebate;

  // --- STEP 3: Calculate PWB Premium (based on Base Premium AFTER SA Rebate) ---
  let pwbPrem = 0;
  if (addPWB) {
      if (age < 8 || age > 17) {
          resultsDiv.innerHTML = `<h2>Error</h2><p>PWB Rider is only available for policyholder age 8 to 17.</p>`;
          return;
      }
      if (isNaN(proposerAge) || proposerAge < 18 || proposerAge > 55) {
          resultsDiv.innerHTML = `<h2>Error</h2><p>Please enter a valid Proposer Age between 18 and 55.</p>`;
          return;
      }
      const pwbTerm = 25 - age;
      let pwbAgeGroupKey;
      if (proposerAge <= 25) pwbAgeGroupKey = 'T1';
      else if (proposerAge <= 30) pwbAgeGroupKey = 'T2';
      else if (proposerAge <= 35) pwbAgeGroupKey = 'T3';
      else if (proposerAge <= 40) pwbAgeGroupKey = 'T4';
      else if (proposerAge <= 45) pwbAgeGroupKey = 'T5';
      else if (proposerAge <= 50) pwbAgeGroupKey = 'T6';
      else if (proposerAge <= 55) pwbAgeGroupKey = 'T7';

      const pwbTermData = pwbRates.find(row => row.Term === pwbTerm);
      if (!pwbTermData || !pwbAgeGroupKey) {
          resultsDiv.innerHTML = `<h2>Error</h2><p>Could not find a PWB rate for the given ages and term.</p>`;
          return;
      }
      const pwbRate = pwbTermData[pwbAgeGroupKey];
      // CRITICAL FIX: PWB is calculated on the Base Premium AFTER SA rebate.
      pwbPrem = (basePremAfterSaRebate / 100) * pwbRate;
  }
  
  // --- STEP 4: Apply Mode Rebate to the Rebatable Premiums ---
  // Rebatable premiums are Base (already SA-rebated) and Term Rider (not SA-rebated)
  let rebatableTotal = basePremAfterSaRebate + termRiderTabularPrem;
  let yearlyPremAfterRebates = rebatableTotal * (1 - 0.02); // 2% Yearly Mode Rebate

  // --- STEP 5: Calculate non-rebatable ADDB premium ---
  let addbPrem = 0;
  if (addADDB) {
      if (age < 18) {
          resultsDiv.innerHTML = `<h2>Error</h2><p>ADDB Rider is only available for age 18 and above.</p>`;
          return;
      }
      addbPrem = (Math.min(sa, 10000000) / 1000) * 1.0;
  }

  // --- STEP 6: Separate Taxable vs. Non-Taxable premiums ---
// --- STEP 5: Separate Premiums for Correct GST Application ---
// TAXABLE: Base + Term Rider (already rebated) PLUS the non-rebatable ADDB premium.
const taxableAnnualPremium = yearlyPremAfterRebates + addbPrem;

// NON-TAXABLE: PWB is the only component not subject to GST.
const nonTaxableAnnualPremium = pwbPrem;

// Total annual premium for summary display (before GST)
const netAnnual = taxableAnnualPremium + nonTaxableAnnualPremium;

// --- STEP 6: Calculate Final Modal Premiums with CORRECT GST application ---
const modalFactors = { yly: 1, hly: 0.50540, qly: 0.25540, mly: 0.08513 };
const finalPremiums = {};
for (let mode in modalFactors) {
  // Calculate the modal portion for both taxable and non-taxable parts
  const taxableModal = taxableAnnualPremium * modalFactors[mode];
  const nonTaxableModal = nonTaxableAnnualPremium * modalFactors[mode];

  // Apply GST ONLY to the taxable portion, then add the non-taxable part
  const firstYearTotal = (taxableModal * gstFirst) + nonTaxableModal;
  const secondYearTotal = (taxableModal * gstSecond) + nonTaxableModal;

  finalPremiums[mode] = {
    first: "₹" + Math.round(firstYearTotal).toLocaleString("en-IN"),
    second: "₹" + Math.round(secondYearTotal).toLocaleString("en-IN")
  };
}

  // --- STEP 8: Display the breakdown and results ---
// --- STEP 8: Display the breakdown and results ---
let basePremFinal = 0, termRiderPremFinal = 0;
if (rebatableTotal > 0) {
    basePremFinal = (basePremAfterSaRebate / rebatableTotal) * yearlyPremAfterRebates;
    termRiderPremFinal = (termRiderTabularPrem / rebatableTotal) * yearlyPremAfterRebates;
}

resultsDiv.innerHTML = `
  <div id="results-summary">
    <h2>Premium Breakdown (Yearly)</h2>
    <p><span>Base Premium (after rebates):</span> <span>${"₹" + Math.round(basePremFinal).toLocaleString("en-IN")}</span></p>
    <p><span>Term Rider Premium (after rebates):</span> <span>${"₹" + Math.round(termRiderPremFinal).toLocaleString("en-IN")}</span></p>
    <p><span>ADDB Rider Premium (No Rebates):</span> <span>${"₹" + Math.round(addbPrem).toLocaleString("en-IN")}</span></p>
    <p><span>PWB Rider Premium (No Rebate/GST):</span> <span>${"₹" + Math.round(pwbPrem).toLocaleString("en-IN")}</span></p>
    <hr>
    <p><span>Total Annual Premium (before GST):</span> <span>${"₹" + Math.round(netAnnual).toLocaleString("en-IN")}</span></p>
  </div>
  <h2>Final Premiums (Including GST)</h2>
  <table>
    <tr><th>Mode</th><th>1st Year Premium</th><th>2nd Year Onwards</th></tr>
    <tr><td>Yearly</td><td>${finalPremiums.yly.first}</td><td>${finalPremiums.yly.second}</td></tr>
    <tr><td>Half-Yearly</td><td>${finalPremiums.hly.first}</td><td>${finalPremiums.hly.second}</td></tr>
    <tr><td>Quarterly</td><td>${finalPremiums.qly.first}</td><td>${finalPremiums.qly.second}</td></tr>
    <tr><td>Monthly</td><td>${finalPremiums.mly.first}</td><td>${finalPremiums.mly.second}</td></tr>
  </table>`;
}
</script>

<div style="margin-top: 20px; font-size: 0.9em; color: #555;">
  <strong>Disclaimer:</strong> The premium amounts calculated here are for indicative purposes only. Actual premiums may vary. Please consult an authorized LIC agent for the exact premium payable.
</div>
</body>
</html>