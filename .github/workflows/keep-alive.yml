name: Keep Supabase Alive

on:
workflow_dispatch:
  schedule:
    # Runs at 5:30 AM UTC every day
    - cron: '30 5 * * *'

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Supabase
        run: |
          curl -X GET \
          'https://efduqdondmlzmwhfgkfz.supabase.co/rest/v1/agents?select=*&limit=1' \
          -H 'apikey: ${{ secrets.SUPABASE_ANON_KEY }}' \
          -H 'Authorization: Bearer ${{ secrets.SUPABASE_ANON_KEY }}'
