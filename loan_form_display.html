<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LIC Loan Form 5196 - Application</title>
    <style>
        /* --- PASTE YOUR ORIGINAL CSS HERE --- */
        /* For brevity, I'm not repeating it, but you need it */
        body {
            font-family: 'Arial', 'Nirmala UI', 'Segoe UI', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }
        .form-page {
            background-color: #fff;
            margin: 20px auto;
            padding: 30px;
            border: 1px solid #ddd;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            max-width: 8.5in;
            min-height: 11in;
            box-sizing: border-box;
        }
        .flex-container { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }
        .flex-item { flex: 1; }
        .flex-item.right { text-align: right; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: bold; }
        .form-group input[type="text"],
        .form-group input[type="date"] {
            width: 100%; padding: 8px; border: 1px solid #ccc;
            border-radius: 4px; box-sizing: border-box;
        }
        .form-group input[readonly] { background-color: #e9e9e9; } /* Make them look readonly */
        .radio-group label { display: inline-block; margin-right: 20px; font-weight: normal; }
        .radio-group input[type="radio"] { margin-right: 5px; accent-color: #0056b3;}
        .signature-line { border-bottom: 1px solid #000; margin-top: 50px; padding-bottom: 5px; text-align: center; }
        .instruction { font-style: italic; color: #555; margin-top: 10px; }
        .language-toggle { text-align: center; margin-bottom: 20px; }
        .language-toggle button {
            padding: 8px 15px; margin: 0 5px; cursor: pointer;
            background-color: #007bff; color: white; border: none; border-radius: 4px;
        }
        .language-toggle button.active { background-color: #0056b3; }
        .hidden { display: none; }
        .margin-top { margin-top: 20px; }
        .dot-line { border-bottom: 1px dotted #000; display: inline-block; /* So it doesn't take full width unless content pushes it */ }
        ul { list-style-type: none; padding-left: 0; }
        ul li:before { content: '*'; margin-right: 5px; font-weight: bold; }
        .no-data-message { text-align: center; padding: 50px; font-size: 1.2em; color: #777;}
    </style>
</head>
<body>

    <div class="form-page">
        <div id="actualFormContent"> <!-- Wrapper for the actual form -->
            <div class="language-toggle">
                <button id="englishBtn" onclick="showLanguage('english')">English</button>
                <button id="hindiBtn" onclick="showLanguage('hindi')">हिंदी</button>
                <button id="marathiBtn" onclick="showLanguage('marathi')">मराठी</button>
            </div>

            <!-- English Form Section -->
            <div id="englishForm">
                <div class="flex-container">
                    <div class="flex-item">
                        <p>TO,</p>
                        <p>LIFE INSURANCE CORPORATION OF INDIA</p>
                        <p>The Sr. Divisional Manager, <br> Life Insurance Corporation of India <br> Mumbai</p>
                    </div>
                    <div class="flex-item right">
                        <p>Form No. F.No.5196 (Rev)</p>
                        <p>A. Py.</p>
                        <p>1,00,000/10-2018</p>
                        <p>Form No. 5205 (Rev)</p>
                    </div>
                </div>

                <p style="text-align:center; font-weight:bold;">APPLICATION FOR LOAN AS UNDER WHERE THE POLICY ALREADY BEARS <br> THE ENDORSEMENT OF TERMS AND CONDITIONS OF LOAN OR WHERE <br> THE POLICY HAS BEEN ISSUED ON OR AFTER 1-06-1969</p>
                <p style="text-align:center;">(1-06-1969 को या उसके बाद जारी की गई पॉलिसी पर सभी ऋण शर्ते पृष्ठांकित है, उसके अंतर्गत ऋण के लिए आवेदन पत्र)</p>


                <div class="form-group radio-group margin-top">
                    <p>(1) Loan Type Option:</p> <!-- Clarified label -->
                    <label>
                        <input type="radio" name="loanType_en" value="freshLoan" disabled> Fresh loan where no previous loan is subsisting.
                    </label>
                    <br>
                    <label>
                        <input type="radio" name="loanType_en" value="furtherLoan" disabled> Further loan where previous loan granted at 6% or 7.5% or 9% is subsisting.
                    </label>
                </div>

                <p>The Sr. Divisional Manager,<br> Life Insurance Corporation of India, <br> Mumbai.</p>
                <p>Dear Sir,</p>

                <div class="form-group">
                    <label for="policyNo_en">Re.: Policy No.</label>
                    <input type="text" id="policyNo_en" name="policyNo_en" readonly>
                </div>

                <div class="form-group">
                    <label for="date_en">Date.</label>
                    <input type="date" id="date_en" name="date_en" readonly>
                </div>

                <div class="form-group">
                    <p>(1) Please grant me/us an advance of Rs. <span id="loanAmountText_en" class="dot-line"></span>
                       (Rupees <span id="loanAmountWordsText_en" class="dot-line"></span> in words)
                       or maximum available by way of loan against above policy on which I/We agree to pay interest at rate of 10% per annum payable every half year.
                    </p>
                    <!-- Hidden inputs to store the values if needed for other JS, or rely on the span content -->
                    <input type="hidden" id="loanAmount_en" name="loanAmount_en">
                    <input type="hidden" id="loanAmountWords_en" name="loanAmountWords_en">
                </div>

                <div class="form-group">
                    <p>(2) I am / We are aware of the terms and conditions on which the loan will be advanced...</p>
                    <p>(3) I am / We are also aware that said terms and conditions:-</p>
                    <ul>
                        <li>have already been endorsed on the policy.</li>
                        <li>OR Will be those as contained in the clause headed "Loans" appearing in the Conditions and Privileges printed in the Policy</li>
                    </ul>
                </div>
                <p class="instruction">(Strike out the option not applicable)</p>


                <p>Yours faithfully,</p>
                <div class="signature-line">
                    <p>Signature(s)</p>
                </div>
                <div class="instruction margin-top">
                    <p>(1) Strike out in respect of the Policies issued on or after 1-6-1969.</p>
                    <p>(2) Strike out in respect of the Policies issued prior to 1-6-1969.</p>
                </div>
            </div>

            <!-- Hindi Form Section -->
            <div id="hindiForm" class="hidden">
                <div class="flex-container">
                    <div class="flex-item">
                        <p>सेवामे,</p>
                        <p>भारतीय जीवन बीमा निगम</p>
                        <p>वरिष्ठ मंडल प्रबंधक, <br> भारतीय जीवन बीमा निगम <br> मुंबई।</p>
                    </div>
                    <div class="flex-item right">
                        <p>फार्म सं. एफ.नं.5196 (संशो.)</p>
                        <p>ए. Py.</p>
                        <p>1,00,000/10-2018</p>
                        <p>फार्म सं. 5205 (संशो.)</p>
                    </div>
                </div>
                <p style="text-align:center; font-weight:bold;">1-06-1969 को या उसके बाद जारी की गई पॉलिसी पर सभी ऋण शर्ते पृष्ठांकित है, उसके अंतर्गत ऋण के लिए आवेदन पत्र</p>

                <div class="form-group radio-group margin-top">
                     <p>(1) ऋण प्रकार विकल्प:</p>
                    <label>
                        <input type="radio" name="loanType_hi" value="freshLoan" disabled> नया ऋण, जहाँ पहला कोई ऋण नहीं है।
                    </label>
                    <br>
                    <label>
                        <input type="radio" name="loanType_hi" value="furtherLoan" disabled> अलग ऋण जहाँ पहला ऋण 6%, 7.5% % या 9% ब्याज की दर पर स्वीकृत है।
                    </label>
                </div>

                <p>वरिष्ठ मंडल प्रबंधक,<br> भारतीय जीवन बीमा निगम, <br> मुंबई।</p>
                <p>प्रिय महोदय,</p>

                <div class="form-group">
                    <label for="policyNo_hi">विषय : पॉलिसी सं.</label>
                    <input type="text" id="policyNo_hi" name="policyNo_hi" readonly>
                </div>
                <div class="form-group">
                    <label for="date_hi">दिनांक</label>
                    <input type="date" id="date_hi" name="date_hi" readonly>
                </div>
                <div class="form-group">
                    <p>(1) उपरोक्त पॉलिसी पर मुझे/हमें रु. <span id="loanAmountText_hi" class="dot-line"></span>
                        (रुपये शब्दों में <span id="loanAmountWordsText_hi" class="dot-line"></span>)
                        या ऋण स्वरुप प्राय अधिकतम का अग्रिम स्वीकृत करें जिस पर मैं / हम प्रतिवर्ष प्रत्येक अर्धवार्षिक पर देय 10% की दर से ब्याज अदा करने को सहमत हूँ/हैं।
                    </p>
                     <input type="hidden" id="loanAmount_hi" name="loanAmount_hi">
                     <input type="hidden" id="loanAmountWords_hi" name="loanAmountWords_hi">
                </div>
                 <div class="form-group">
                    <p>(2) मुझे/हमें वे सभी शर्ते ज्ञात हैं जिन पर ऋण दिया जायेगा।</p>
                    <p>(3) मुझे/हमें पता हैं कि वे शर्तेः</p>
                    <ul>
                        <li>पॉलिसी पर पृष्ठांकित कर दी गई है।</li>
                        <li>या पॉलिसी पर मुद्रित "ऋण" शीर्षित धारा के अंतर्गत विशेष शर्ते होंगी।</li>
                    </ul>
                </div>
                <p class="instruction">(जो विकल्प लागू न हो उसे काट दें)</p>
                <p>भवदीय,</p>
                <div class="signature-line">
                    <p>हस्ताक्षर</p>
                </div>
                 <div class="instruction margin-top">
                    <p>(1) 1-6-1969 को या उसके बाद जारी की गई पॉलिसियों के संबंध में काट दें।</p>
                    <p>(2) 1-6-1969 से पूर्व जारी की गई पॉलिसियों के संबंध में काट दें।</p>
                </div>
            </div>

            <!-- Marathi Form Section -->
            <div id="marathiForm" class="hidden">
                <div class="flex-container">
                     <div class="flex-item">
                        <p>प्रति,</p>
                        <p>भारतीय आयुर्विमा महामंडळ</p>
                        <p>वरिष्ठ विभागीय प्रबंधक, <br> भारतीय आयुर्विमा महामंडळ <br> मुंबई.</p>
                    </div>
                    <div class="flex-item right">
                        <p>प्रपत्र क्र. एफ.क्र.5196 (सुधारित)</p>
                        <p>अ. Py.</p>
                        <p>1,00,000/10-2018</p>
                        <p>प्रपत्र क्र. 5205 (सुधारित)</p>
                    </div>
                </div>
                <p style="text-align:center; font-weight:bold;">ज्या पॉलिसीवर कर्जाच्या अटींसंबंधी पृष्ठांकन अगोदर केलेले आहे किंवा जी पॉलिसी <br> १-०६-१९६९ रोजी किंवा त्यानंतर देण्यात आली आहे, त्यासाठी कर्ज आवेदन पत्र.</p>

                <div class="form-group radio-group margin-top">
                    <p>(1) कर्ज प्रकार पर्याय:</p>
                    <label>
                        <input type="radio" name="loanType_mr" value="freshLoan" disabled> नवीन कर्ज, जेथे पूर्वीचे कोणतेही कर्ज थकीत नाही.
                    </label>
                    <br>
                    <label>
                        <input type="radio" name="loanType_mr" value="furtherLoan" disabled> पूर्वीचे ६%, ७.५% किंवा ९% दराने दिलेले कर्ज फिटलेले नसताना पुढील कर्ज.
                    </label>
                </div>
                <p>वरिष्ठ विभागीय प्रबंधक,<br> भारतीय आयुर्विमा महामंडळ, <br> मुंबई.</p>
                <p>प्रिय महाशय,</p>

                <div class="form-group">
                    <label for="policyNo_mr">विषय : पॉलिसी क्र.</label>
                    <input type="text" id="policyNo_mr" name="policyNo_mr" readonly>
                </div>
                <div class="form-group">
                    <label for="date_mr">दिनांक</label>
                    <input type="date" id="date_mr" name="date_mr" readonly>
                </div>
                <div class="form-group">
                     <p>(1) वरील पॉलिसीवर मला/आम्हाला रु. <span id="loanAmountText_mr" class="dot-line"></span>
                        (अक्षरी रुपये <span id="loanAmountWordsText_mr" class="dot-line"></span>)
                        किंवा कर्ज म्हणून उपलब्ध असलेली कमाल रक्कम मंजूर करावी, ज्यावर मी/आम्ही दरसाल दरशेकडा १०% दराने प्रति सहामाहीस व्याज भरावयाचे मान्य करतो/करतो.
                    </p>
                    <input type="hidden" id="loanAmount_mr" name="loanAmount_mr">
                    <input type="hidden" id="loanAmountWords_mr" name="loanAmountWords_mr">
                </div>
                <div class="form-group">
                    <p>(2) कर्ज ज्या अटींवर दिले जाईल त्या अटींची मला/आम्हांस जाणीव आहे.</p>
                    <p>(3) मला/आम्हाला ह्याचीही जाणीव आहे की वरील अटी:</p>
                    <ul>
                        <li>पॉलिसीवर अगोदरच पृष्ठांकित झाल्या आहेत.</li>
                        <li>किंवा पॉलिसीवरील "कर्ज" ह्या शीर्षकखाली दिलेल्या सवलती आणि अटींप्रमाणे असतील.</li>
                    </ul>
                </div>
                 <p class="instruction">(जो पर्याय लागू नसेल तो खोडून टाका)</p>
                <p>आपला विश्वासू,</p>
                <div class="signature-line">
                    <p>सही</p>
                </div>
                <div class="instruction margin-top">
                    <p>(१) १-६-१९६९ रोजी किंवा त्यानंतर दिलेल्या पॉलिसी संबंधात खोडून टाका.</p>
                    <p>(२) १-६-१९६9 पूर्वी दिलेल्या पॉलिसी संबंधात खोडून टाका.</p>
                </div>
            </div>
        </div> <!-- End of #actualFormContent -->

        <div id="noDataMessage" class="no-data-message" style="display: none;">
            <p>Loan application data could not be loaded for the provided policy number.</p>
            <p><a href="page2K.html">Go back to enter Policy Number</a></p> <!-- Link back to your input page -->
        </div>
    </div>

    <script>
        // Function to switch languages (your existing logic)
        function showLanguage(lang) {
            document.getElementById('englishForm').classList.add('hidden');
            document.getElementById('hindiForm').classList.add('hidden');
            document.getElementById('marathiForm').classList.add('hidden');

            document.getElementById('englishBtn').classList.remove('active');
            document.getElementById('hindiBtn').classList.remove('active');
            document.getElementById('marathiBtn').classList.remove('active');

            const formToShow = document.getElementById(lang + 'Form');
            const buttonToActivate = document.getElementById(lang + 'Btn');

            if (formToShow) formToShow.classList.remove('hidden');
            if (buttonToActivate) buttonToActivate.classList.add('active');
        }

        // Function to populate form fields across all languages
        function populateAllLanguageForms(data) {
            const policyNumber = data.policy_number || '';
            const loanDate = data.today_date || ''; // Assuming today_date is YYYY-MM-DD
            const loanAmount = data.loan_amount || '';
            const loanAmountWords = data.loan_amount_words || '';
            const loanType = data.loan_type || '';

            // English Form
            document.getElementById('policyNo_en').value = policyNumber;
            document.getElementById('date_en').value = loanDate;
            document.getElementById('loanAmount_en').value = loanAmount; // hidden input
            document.getElementById('loanAmountWords_en').value = loanAmountWords; // hidden input
            document.getElementById('loanAmountText_en').textContent = loanAmount; // visible span
            document.getElementById('loanAmountWordsText_en').textContent = loanAmountWords; // visible span
            if (loanType) {
                const radio_en = document.querySelector(`input[name="loanType_en"][value="${loanType}"]`);
                if (radio_en) radio_en.checked = true;
            }

            // Hindi Form
            document.getElementById('policyNo_hi').value = policyNumber;
            document.getElementById('date_hi').value = loanDate;
            document.getElementById('loanAmount_hi').value = loanAmount; // hidden input
            document.getElementById('loanAmountWords_hi').value = loanAmountWords; // hidden input
            document.getElementById('loanAmountText_hi').textContent = loanAmount; // visible span
            document.getElementById('loanAmountWordsText_hi').textContent = loanAmountWords; // visible span
            if (loanType) {
                const radio_hi = document.querySelector(`input[name="loanType_hi"][value="${loanType}"]`);
                if (radio_hi) radio_hi.checked = true;
            }

            // Marathi Form
            document.getElementById('policyNo_mr').value = policyNumber;
            document.getElementById('date_mr').value = loanDate;
            document.getElementById('loanAmount_mr').value = loanAmount; // hidden input
            document.getElementById('loanAmountWords_mr').value = loanAmountWords; // hidden input
            document.getElementById('loanAmountText_mr').textContent = loanAmount; // visible span
            document.getElementById('loanAmountWordsText_mr').textContent = loanAmountWords; // visible span
            if (loanType) {
                const radio_mr = document.querySelector(`input[name="loanType_mr"][value="${loanType}"]`);
                if (radio_mr) radio_mr.checked = true;
            }
        }


        // Main logic to run when the page content is loaded
        document.addEventListener('DOMContentLoaded', () => {
            const storedData = sessionStorage.getItem('loanApplicationDataToDisplay');
            const actualFormContentDiv = document.getElementById('actualFormContent');
            const noDataMessageDiv = document.getElementById('noDataMessage');

            if (storedData) {
                try {
                    const data = JSON.parse(storedData);
                    console.log("Data received on display page:", data);

                    populateAllLanguageForms(data);

                    // Make the form visible and hide the 'no data' message
                    actualFormContentDiv.style.display = 'block';
                    noDataMessageDiv.style.display = 'none';

                    // Initialize language (e.g., show English by default)
                    showLanguage('english');

                    // Optional: Clear the data from session storage after use
                    // so it's not reloaded if the user refreshes page2 without going via page1
                    // sessionStorage.removeItem('loanApplicationDataToDisplay');

                } catch (e) {
                    console.error("Error parsing stored data on display page:", e);
                    actualFormContentDiv.style.display = 'none';
                    noDataMessageDiv.style.display = 'block';
                }
            } else {
                console.log("No loan application data found in session storage for display.");
                actualFormContentDiv.style.display = 'none'; // Hide form
                noDataMessageDiv.style.display = 'block'; // Show message
            }
        });
    </script>
</body>
</html>